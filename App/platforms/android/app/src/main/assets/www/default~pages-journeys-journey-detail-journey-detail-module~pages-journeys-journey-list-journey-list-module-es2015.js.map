{"version":3,"sources":["./src/app/pages/journeys/journey-detail/journey-detail.page.ts","./src/app/pages/journeys/journey-detail/journey-detail.page.html"],"names":[],"mappings":"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","file":"default~pages-journeys-journey-detail-journey-detail-module~pages-journeys-journey-list-journey-list-module-es2015.js","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {Order} from '../../../interfaces/Order';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {LoadingSpinnerComponent} from '../../../components/loading-spinner/loading-spinner.component';\nimport {Router} from '@angular/router';\nimport {AlertController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-journey-detail',\n  templateUrl: './journey-detail.page.html',\n  styleUrls: ['./journey-detail.page.scss'],\n})\nexport class JourneyDetailPage implements OnInit {\n  @Input() order: Order;\n\n  constructor(private orderService: OrderService,\n              private loadingSpinnerComponent: LoadingSpinnerComponent,\n              private router: Router,\n              private alertController: AlertController) {\n  }\n\n  ngOnInit() {\n    this.orderService.getCurrentOrder$().subscribe(order => {\n      if (!order) {\n        this.router.navigateByUrl('/');\n      } else {\n        this.order = order;\n      }\n    });\n  }\n\n  async presentDeleteLocationAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: '¿Desea eliminar esta ubicación de sus viajes?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            //\n          }\n        }, {\n          text: 'Sí',\n          handler: () => {\n            this.deleteOrder();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async alertConfirm(status: string) {\n    const header = status === 'delivered' ? '¿Confirma que el paquete fue entregado?'\n      : '¿Desea saltar la ubicación?';\n    const alert = await this.alertController.create({\n      header,\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            //\n          }\n        }, {\n          text: 'Sí',\n          handler: () => {\n            this.setOrderStatus(status);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  setOrderStatus(status: string) {\n    const body = {\n      status\n    };\n    this.orderService.setOrderStatus(this.order, body)\n      .subscribe((response: any) => {\n        this.router.navigate(['journey-list']);\n      }, error => {\n        //\n      }, () => {\n        //\n      });\n  }\n\n  deleteOrder() {\n    this.orderService.deleteOrder(this.order)\n      .subscribe((response: any) => {\n        // this.orderService.setUpdatedOrders(true);\n        this.router.navigate(['journey-list']);\n      }, error => {\n        //\n      }, () => {\n        //\n      });\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\"></ion-icon>\n    </ion-buttons>\n    <ion-title>DETALLE</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <app-order-detail-map [order]=\"order\">\n\n  </app-order-detail-map>\n\n  <div class=\"ion-padding\" *ngIf=\"order\">\n    <p class=\"ion-text-center location-name\">\n      <b>{{order.location.name}}</b>\n    </p>\n\n    <p>\n      <b>Dirección:</b> {{order.location.address}}\n    </p>\n\n    <p>\n      <b>Ciudad:</b> {{order.location.city}}\n    </p>\n\n    <p>\n      <b>Not. ayuda para llegar:</b> {{order.location.notes}}\n    </p>\n\n    <p>\n      <b>Horario:</b> {{order.location.opening_hours}}\n    </p>\n\n    <p>\n      <b>Teléfonos:</b> {{order.location.phones}}\n    </p>\n  </div>\n</ion-content>\n\n<ion-footer *ngIf=\"order?.status != 'delivered'\">\n  <ion-toolbar>\n    <ion-button color=\"light\" size=\"full\" shape=\"round\"\n                (click)=\"presentDeleteLocationAlertConfirm()\">\n      ELIMINAR DE MI HOJA DE RUTA\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n"],"sourceRoot":"webpack:///"}