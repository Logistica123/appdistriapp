{"version":3,"sources":["webpack:///src/app/services/v1/fuel-control.service.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-form/fuel-control-form.page.html","webpack:///src/app/pages/controls/fuel-controls/fuel-control-form/fuel-control-form.page.ts","webpack:///src/app/services/utils/date.service.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-list/fuel-control-list-routing.module.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-form/fuel-control-form.module.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-list/fuel-control-list.page.html","webpack:///src/app/pages/controls/fuel-controls/fuel-control-list/fuel-control-list.page.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-list/fuel-control-list.module.ts","webpack:///src/app/pages/controls/fuel-controls/fuel-control-form/fuel-control-form-routing.module.ts"],"names":["FuelControlService","http","API_URL","V1","getFuelControls","month","year","get","storeFuelControl","body","post","updateFuelControl","fuelControl","put","id","deleteFuelControl","FuelControlFormPage","formBuilder","router","authService","sanitizer","dateService","httpUploadFileService","toastComponent","cameraService","modalController","fuelControlService","showInputErrorMessage","submitting","today","Date","files","uploadedFilesIndexes","uploadingErrorFilesIndexes","maxYear","getFullYear","minYear","form","group","date","required","station","fuelType","liters","price","ngOnInit","setFuelControl","getAuthToken","then","authToken","controls","setValue","getToday","fuel_type","submit","valid","setBody","subscribe","response","fuelControlId","fuel_control_id","length","checkFiles","closeModal","error","value","viewControlImageDetail","file","create","component","componentProps","modal","present","takePicture","cameraPhotoFile","push","err","presentToast","uploadFiles","i","uploadingFileIndex","uploadFile","Promise","resolve","reject","toString","reset","dismiss","success","deleteImage","splice","DateService","getTime","getTimezoneOffset","toISOString","routes","path","FuelControlListPageRoutingModule","forChild","FuelControlFormPageModule","FuelControlListPage","alertController","loading","fuelControls","dateFC","ngAfterViewInit","onDateChange","event","detail","getMonth","fuel_controls","addFuelControl","onWillDismiss","data","editFuelControl","presentDeleteFuelControlAlertConfirm","header","buttons","text","role","cssClass","handler","alert","filter","item","doRefresh","console","log","setTimeout","target","complete","FuelControlListPageModule","FuelControlFormPageRoutingModule"],"mappings":"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","file":"fuel-controls-fuel-control-list-fuel-control-list-module-es5.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {BehaviorSubject} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\nimport {FuelControl} from '../../interfaces/FuelControl';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FuelControlService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HttpClient) {\n  }\n\n  getFuelControls(month, year) {\n    return this.http.get(`${this.API_URL}${this.V1}fuel-controls/month/${month}/year/${year}`);\n  }\n\n  storeFuelControl(body) {\n    return this.http.post(`${this.API_URL}${this.V1}fuel-controls`, body);\n  }\n\n  updateFuelControl(fuelControl: FuelControl, body) {\n    return this.http.put(`${this.API_URL}${this.V1}fuel-controls/${fuelControl.id}`, body);\n  }\n\n  deleteFuelControl(fuelControl: FuelControl) {\n    return this.http.delete(`${this.API_URL}${this.V1}fuel-controls/${fuelControl.id}`);\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n    <ion-title>CONTROL COMBUSTIBLE</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-text-center\">\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <ion-label>Fecha</ion-label>\n      <ion-item lines=\"none\" class=\"custom-item\">\n        <ion-datetime displayFormat=\"DD MMMM YYYY\"\n                      display-timezone=\"America/Argentina/Buenos_Aires\"\n                      [max]=\"maxYear\"\n                      [min]=\"minYear\"\n                      formControlName=\"date\"\n                      doneText=\"ok\"\n                      cancelText=\"cancelar\"\n                      monthNames=\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\"\n                      monthShortNames=\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\"\n                      dayNames=\"domingo, lunes, martes, miércoles, jueves, viernes, sábado, domingo\"\n                      dayShortNames=\"dom, lun, mar, mié, jue, vie, sáb, dom\">\n        </ion-datetime>\n      </ion-item>\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.date.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label>Estación de servicio</ion-label>\n      <input type=\"text\" formControlName=\"station\">\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.station.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label>Tipo de combustible</ion-label>\n      <input type=\"text\" formControlName=\"fuelType\">\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.fuelType.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"6\" class=\"ion-padding-horizontal\">\n          <ion-label class=\"small\">Litros</ion-label>\n          <input type=\"tel\" inputmode=\"numeric\" pattern=\"[0-9]+(\\.[0-9][0-9]?)?\" formControlName=\"liters\">\n          <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.liters.invalid && showInputErrorMessage\">\n            Este campo debe ser numérico, puede tener dos decimales\n          </p>\n        </ion-col>\n        <ion-col size=\"6\" class=\"ion-padding-horizontal\">\n          <ion-label class=\"small\">Precio por litro</ion-label>\n          <input type=\"tel\" inputmode=\"numeric\" pattern=\"[0-9]+(\\.[0-9][0-9]?)?\" formControlName=\"price\">\n          <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.price.invalid && showInputErrorMessage\">\n            Este campo debe ser numérico, puede tener dos decimales\n          </p>\n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n        <ion-col size=\"12\" class=\"ion-text-center\">\n          <p class=\"ion-no-margin\">Total</p>\n          <p\n            class=\"total ion-no-margin\">{{form.controls.liters.value * form.controls.price.value | number : '1.2-2'}}</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </form>\n\n  <ion-button class=\"custom-secondary-button\" (click)=\"takePicture()\">\n    <ion-icon name=\"camera\"></ion-icon>\n    Tomar foto\n  </ion-button>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"6\" *ngFor=\"let file of files; let i=index\">\n        <img class=\"control-image\"\n             (click)=\"viewControlImageDetail(file)\"\n             [src]=\"sanitizer.bypassSecurityTrustUrl(file.src)\"\n             alt=\"control-image\">\n        <ion-icon name=\"trash\" class=\"delete-icon\" (click)=\"deleteImage(i)\"\n                  *ngIf=\"uploadedFilesIndexes.indexOf(i) <= -1\">\n        </ion-icon>\n        <ion-icon name=\"checkmark\" class=\"checkmark-icon\" color=\"success\"\n                  *ngIf=\"uploadedFilesIndexes.indexOf(i) > -1\">\n        </ion-icon>\n        <ion-progress-bar type=\"indeterminate\" *ngIf=\"uploadingFileIndex === i\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <div class=\"ion-padding\">\n    <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\">\n    </ion-progress-bar>\n    <ion-button class=\"custom-button\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Aceptar\n    </ion-button>\n  </div>\n</ion-content>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {FuelControlService} from '../../../../services/v1/fuel-control.service';\nimport {Router} from '@angular/router';\nimport {ModalController} from '@ionic/angular';\nimport {FuelControl} from '../../../../interfaces/FuelControl';\nimport {ImageDetailComponent} from '../../../../components/modals/image-detail/image-detail.component';\nimport {CameraPhotoFile} from '../../../../interfaces/CameraPhotoFile';\nimport {ToastComponent} from '../../../../components/toast/toast.component';\nimport {CameraService} from '../../../../services/utils/camera.service';\nimport {AuthService} from '../../../../services/v1/auth.service';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {HttpUploadFileService} from '../../../../services/utils/http-upload-file.service';\nimport {DateService} from '../../../../services/utils/date.service';\n\n@Component({\n  selector: 'app-fuel-control-form',\n  templateUrl: './fuel-control-form.page.html',\n  styleUrls: ['./fuel-control-form.page.scss'],\n})\nexport class FuelControlFormPage implements OnInit {\n  @Input() fuelControl: FuelControl;\n  form: FormGroup;\n  showInputErrorMessage = false;\n  submitting = false;\n  today = new Date();\n  maxYear: number;\n  minYear: number;\n\n  files: CameraPhotoFile[] = [];\n  fuelControlId: string;\n  uploadedFilesIndexes: number[] = [];\n  uploadingErrorFilesIndexes: number[] = [];\n  uploadingFileIndex: number;\n  authToken: string;\n\n  constructor(private formBuilder: FormBuilder,\n              private router: Router,\n              private authService: AuthService,\n              public sanitizer: DomSanitizer,\n              private dateService: DateService,\n              private httpUploadFileService: HttpUploadFileService,\n              private toastComponent: ToastComponent,\n              private cameraService: CameraService,\n              private modalController: ModalController,\n              private fuelControlService: FuelControlService) {\n    this.maxYear = this.today.getFullYear() + 2;\n    this.minYear = this.today.getFullYear() - 1;\n\n    this.form = this.formBuilder.group({\n      date: ['', Validators.required],\n      station: [''],\n      fuelType: [''],\n      liters: [''],\n      price: ['']\n    });\n  }\n\n  ngOnInit() {\n    if (this.fuelControl) {\n      this.setFuelControl();\n    }\n\n    this.authService.getAuthToken().then(authToken => {\n      this.authToken = authToken;\n    });\n\n    this.form.controls.date.setValue(this.dateService.getToday());\n  }\n\n  setFuelControl() {\n    this.form.controls.date.setValue(this.fuelControl.date);\n    this.form.controls.station.setValue(this.fuelControl.station);\n    this.form.controls.fuelType.setValue(this.fuelControl.fuel_type);\n    this.form.controls.liters.setValue(this.fuelControl.liters);\n    this.form.controls.price.setValue(this.fuelControl.price);\n  }\n\n  submit() {\n    if (this.form.valid) {\n      this.showInputErrorMessage = false;\n      this.fuelControl ? this.updateFuelControl() : this.storeFuelControl();\n    } else {\n      this.showInputErrorMessage = true;\n    }\n  }\n\n  storeFuelControl() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.fuelControlService.storeFuelControl(body)\n      .subscribe((response: any) => {\n        this.fuelControlId = response.fuel_control_id;\n        if (this.files.length > 0) {\n          this.checkFiles();\n        } else {\n          this.closeModal();\n        }\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  updateFuelControl() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.fuelControlService.updateFuelControl(this.fuelControl, body)\n      .subscribe((response: any) => {\n        this.fuelControlId = response.fuel_control_id;\n        if (this.files.length > 0) {\n          this.checkFiles();\n        } else {\n          this.closeModal();\n        }\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  setBody() {\n    return {\n      date: this.form.value.date,\n      station: this.form.value.station,\n      fuel_type: this.form.value.fuelType,\n      liters: this.form.value.liters,\n      price: this.form.value.price\n    };\n  }\n\n  async viewControlImageDetail(file: CameraPhotoFile) {\n    const modal = await this.modalController.create({\n      component: ImageDetailComponent,\n      componentProps: {file}\n    });\n    await modal.present();\n  }\n\n  takePicture() {\n    this.cameraService.takePicture().then((cameraPhotoFile: CameraPhotoFile) => {\n      this.files.push(cameraPhotoFile);\n    }).catch(err => {\n      this.toastComponent.presentToast(\n        `No se pudo acceder a la cámara (error: ${err})`,\n        'middle',\n        3000,\n      );\n    });\n  }\n\n  async uploadFiles() {\n    let i = 0;\n    this.uploadingFileIndex = i;\n    for (const file of this.files) {\n      await this.uploadFile(file.file)\n        .then(() => {\n          this.uploadedFilesIndexes.push(i);\n        })\n        .catch(err => {\n          this.uploadingErrorFilesIndexes.push(i);\n        }).finally(() => {\n          i++;\n          this.uploadingFileIndex = i;\n        });\n    }\n  }\n\n  uploadFile(file): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const body = {\n        fuel_control_id: this.fuelControlId.toString()\n      };\n      this.httpUploadFileService.uploadFile('fuel-control-images', file, this.authToken, body)\n        .then(() => {\n          resolve(true);\n        })\n        .catch(err => {\n          reject(err);\n          this.toastComponent.presentToast('No se pudo carga la imagen del control de combustible. Intente nuevamente', 'medium', 2500);\n        });\n    });\n  }\n\n  checkFiles() {\n    this.uploadedFilesIndexes = [];\n    this.uploadingErrorFilesIndexes = [];\n\n    this.uploadFiles().then(() => {\n      this.closeModal();\n    });\n  }\n\n  closeModal() {\n    this.form.reset();\n    this.submitting = false;\n    this.dismiss(true);\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n\n  deleteImage(i) {\n    this.files.splice(i, 1);\n  }\n\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DateService {\n\n  constructor() {\n  }\n\n  getToday() {\n    return new Date(new Date().getTime() -\n      new Date().getTimezoneOffset() * 60000).toISOString();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FuelControlListPage } from './fuel-control-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FuelControlListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FuelControlListPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {FuelControlFormPageRoutingModule} from './fuel-control-form-routing.module';\n\nimport {FuelControlFormPage} from './fuel-control-form.page';\nimport {ComponentsModule} from '../../../../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FuelControlFormPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [FuelControlFormPage],\n  entryComponents: [\n    FuelControlFormPage\n  ]\n})\nexport class FuelControlFormPageModule {\n}\n","<ion-content class=\"ion-padding\">\n  <ion-item lines=\"none\" class=\"custom-date-item\">\n    <ion-datetime displayFormat=\"MMMM YYYY\"\n                  [formControl]=\"dateFC\"\n                  (ionChange)=\"onDateChange($event)\"\n                  display-timezone=\"America/Argentina/Buenos_Aires\"\n                  placeholder=\"Selecciona el mes\"\n                  doneText=\"ok\"\n                  cancelText=\"cancelar\"\n                  monthNames=\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\"\n                  monthShortNames=\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\"\n                  dayNames=\"domingo, lunes, martes, miércoles, jueves, viernes, sábado, domingo\"\n                  dayShortNames=\"dom, lun, mar, mié, jue, vie, sáb, dom\">\n    </ion-datetime>\n  </ion-item>\n\n  <ion-progress-bar class=\"ion-margin-top\"\n                    type=\"indeterminate\"\n                    *ngIf=\"loading || submitting\">\n  </ion-progress-bar>\n\n  <div class=\"ion-text-center ion-padding-bottom\">\n    <ion-button class=\"custom-button\" (click)=\"addFuelControl()\">\n      AGREGAR\n    </ion-button>\n  </div>\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <p class=\"ion-padding-horizontal\" *ngIf=\"!loading && fuelControls.length <= 0\">\n    <b>No tienes ningún registro para el mes seleccionado</b>\n  </p>\n\n  <ion-item-sliding *ngFor=\"let fuelControl of fuelControls; let i = index\"\n                    class=\"ion-margin-bottom\">\n    <ion-item lines=\"none\">\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"7\">\n            <p class=\"ion-no-margin\">Estación  {{fuelControl.station}}</p>\n            <p class=\"ion-no-margin\">{{fuelControl.fuel_type}}</p>\n            <p class=\"ion-no-margin\">{{fuelControl.liters}} litros (${{fuelControl.price}}) -\n              ${{fuelControl.total}}\n            </p>\n          </ion-col>\n          <ion-col size=\"5\">\n            <p class=\"ion-no-margin\">\n              <b>{{fuelControl.date | date: 'dd/MM/yyyy'}}</b>\n            </p>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-item>\n    <ion-item-options>\n      <ion-item-option color=\"light\" (click)=\"editFuelControl(fuelControl)\">\n        <ion-icon slot=\"end\" name=\"create\"></ion-icon>\n        Editar\n      </ion-item-option>\n      <ion-item-option color=\"light\" (click)=\"presentDeleteFuelControlAlertConfirm(fuelControl)\">\n        <ion-icon slot=\"end\" name=\"trash\"></ion-icon>\n        Eliminar\n      </ion-item-option>\n    </ion-item-options>\n  </ion-item-sliding>\n</ion-content>\n\n","import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {FuelControl} from '../../../../interfaces/FuelControl';\nimport {FuelControlService} from '../../../../services/v1/fuel-control.service';\nimport {AlertController, ModalController} from '@ionic/angular';\nimport {FuelControlFormPage} from '../fuel-control-form/fuel-control-form.page';\nimport {FormControl} from '@angular/forms';\n\n@Component({\n  selector: 'app-fuel-control-list',\n  templateUrl: './fuel-control-list.page.html',\n  styleUrls: ['./fuel-control-list.page.scss'],\n})\nexport class FuelControlListPage implements OnInit, AfterViewInit {\n  loading = true;\n  submitting = false;\n  fuelControls: FuelControl[] = [];\n  date = new Date();\n  dateFC = new FormControl();\n\n  constructor(private modalController: ModalController,\n              private alertController: AlertController,\n              private fuelControlService: FuelControlService) {\n  }\n\n  ngOnInit() {\n    //\n  }\n\n  ngAfterViewInit() {\n    this.date = new Date();\n    this.dateFC.setValue(this.date.toISOString());\n    this.getFuelControls();\n  }\n\n  onDateChange(event) {\n    this.date = new Date(event.detail.value);\n    this.getFuelControls();\n  }\n\n  getFuelControls() {\n    this.loading = true;\n    const month = this.date.getMonth() + 1;\n    const year = this.date.getFullYear();\n    this.fuelControlService.getFuelControls(month, year)\n      .subscribe((response: any) => {\n        this.fuelControls = response.fuel_controls;\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n\n  async addFuelControl() {\n    const modal = await this.modalController.create({\n      component: FuelControlFormPage,\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data && data.success) {\n      this.getFuelControls();\n    }\n  }\n\n  async editFuelControl(fuelControl: FuelControl) {\n    const modal = await this.modalController.create({\n      component: FuelControlFormPage,\n      componentProps: {\n        fuelControl\n      }\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data && data.success) {\n      this.getFuelControls();\n    }\n  }\n\n  async presentDeleteFuelControlAlertConfirm(fuelControl: FuelControl) {\n    const alert = await this.alertController.create({\n      header: '¿Desea eliminar registro?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            //\n          }\n        }, {\n          text: 'Sí',\n          handler: () => {\n            this.deleteFuelControl(fuelControl);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  deleteFuelControl(fuelControl: FuelControl) {\n    this.submitting = true;\n    this.fuelControlService.deleteFuelControl(fuelControl)\n      .subscribe((response: any) => {\n        this.fuelControls = this.fuelControls.filter(item => item.id !== fuelControl.id);\n        this.submitting = false;\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      this.getFuelControls();\n      event.target.complete();\n    }, 2000);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {FuelControlListPageRoutingModule} from './fuel-control-list-routing.module';\n\nimport {FuelControlListPage} from './fuel-control-list.page';\nimport {FuelControlFormPage} from '../fuel-control-form/fuel-control-form.page';\nimport {FuelControlFormPageModule} from '../fuel-control-form/fuel-control-form.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FuelControlListPageRoutingModule,\n    FuelControlFormPageModule\n  ],\n  declarations: [FuelControlListPage],\n})\nexport class FuelControlListPageModule {\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FuelControlFormPage } from './fuel-control-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FuelControlFormPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FuelControlFormPageRoutingModule {}\n"]}