{"version":3,"sources":["./src/app/pages/ranking/ranking.module.ts","./src/app/pages/ranking/ranking-routing.module.ts","./src/app/pages/ranking/ranking.page.ts","./src/app/pages/ranking/ranking.page.html"],"names":[],"mappings":"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","file":"pages-ranking-ranking-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RankingPageRoutingModule } from './ranking-routing.module';\n\nimport { RankingPage } from './ranking.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RankingPageRoutingModule\n  ],\n  declarations: [RankingPage]\n})\nexport class RankingPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RankingPage } from './ranking.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RankingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RankingPageRoutingModule {}\n","import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {DriverService} from '../../services/v2/driver.service';\nimport {Driver} from '../../interfaces/Driver';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Component({\n    selector: 'app-ranking',\n    templateUrl: './ranking.page.html',\n    styleUrls: ['./ranking.page.scss'],\n})\nexport class RankingPage implements OnInit, AfterViewInit {\n    drivers: Driver[] = [];\n    podium: Driver[] = [];\n    list: Driver[] = [];\n    loading = true;\n    podium0ProfileImage: any;\n    podium1ProfileImage: any;\n    podium2ProfileImage: any;\n\n    constructor(private driverService: DriverService,\n                private domSanitizer: DomSanitizer) {\n    }\n\n    ngOnInit(): void {\n        //\n    }\n\n    ngAfterViewInit() {\n        this.getRanking();\n    }\n\n    getRanking() {\n        this.loading = true;\n        this.driverService.getRanking()\n            .subscribe((response: any) => {\n                this.drivers = response.drivers;\n                this.podium = response.podium;\n                this.list = response.list;\n                if (this.podium.length >= 1) {\n                    this.getPodium0DriverProfileImage(this.podium[0]);\n                }\n                if (this.podium.length >= 2) {\n                    this.getPodium1DriverProfileImage(this.podium[1]);\n                }\n                if (this.podium.length >= 3) {\n                    this.getPodium2DriverProfileImage(this.podium[2]);\n                }\n                this.loading = false;\n            }, error => {\n                this.loading = false;\n            });\n    }\n\n    getPodium0DriverProfileImage(driver: Driver) {\n        if (!driver?.has_profile_img) {\n            this.podium0ProfileImage = null;\n            return;\n        }\n        this.driverService.getDriverProfileImage(driver)\n            .subscribe((blob: any) => {\n                const objectURL = URL.createObjectURL(blob);\n                this.podium0ProfileImage = this.domSanitizer.bypassSecurityTrustUrl(objectURL);\n            });\n    }\n\n    getPodium1DriverProfileImage(driver: Driver) {\n        if (!driver?.has_profile_img) {\n            this.podium1ProfileImage = null;\n            return;\n        }\n        this.driverService.getDriverProfileImage(driver)\n            .subscribe((blob: any) => {\n                const objectURL = URL.createObjectURL(blob);\n                this.podium1ProfileImage = this.domSanitizer.bypassSecurityTrustUrl(objectURL);\n            });\n    }\n\n    getPodium2DriverProfileImage(driver: Driver) {\n        if (!driver?.has_profile_img) {\n            this.podium2ProfileImage = null;\n            return;\n        }\n        this.driverService.getDriverProfileImage(driver)\n            .subscribe((blob: any) => {\n                const objectURL = URL.createObjectURL(blob);\n                this.podium2ProfileImage = this.domSanitizer.bypassSecurityTrustUrl(objectURL);\n            });\n    }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      this.getRanking();\n      event.target.complete();\n    }, 2000);\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button autoHide=\"false\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>RANKING</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"!loading\">\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"4\" class=\"ion-text-center mt-80\">\n        <img [src]=\"podium1ProfileImage\" alt=\"\" *ngIf=\"podium1ProfileImage\">\n        <img src=\"assets/distriapplogo-cropped.png\" alt=\"DistriApp\" *ngIf=\"!podium1ProfileImage\">\n        <div class=\"podium-driver-score\">\n          {{podium[1]?.score}}\n        </div>\n        <p class=\"ion-no-margin driver-podium-name\">\n          {{podium[1]?.full_name}}\n        </p>\n      </ion-col>\n\n      <ion-col size=\"4\" class=\"ion-text-center\">\n        <img src=\"assets/images/crown.png\" alt=\"\" class=\"crown\">\n        <br>\n        <img [src]=\"podium0ProfileImage\" alt=\"\" *ngIf=\"podium0ProfileImage\">\n        <img src=\"assets/distriapplogo-cropped.png\" alt=\"DistriApp\" *ngIf=\"!podium0ProfileImage\">\n        <div class=\"podium-driver-score\">\n          {{podium[0]?.score}}\n        </div>\n        <p class=\"ion-no-margin driver-podium-name\">\n          {{podium[0]?.full_name}}\n        </p>\n      </ion-col>\n\n      <ion-col size=\"4\" class=\"ion-text-center mt-80\">\n        <img [src]=\"podium2ProfileImage\" alt=\"\" *ngIf=\"podium2ProfileImage\">\n        <img src=\"assets/distriapplogo-cropped.png\" alt=\"DistriApp\" *ngIf=\"!podium2ProfileImage\">\n        <div class=\"podium-driver-score\">\n          {{podium[2]?.score}}\n        </div>\n        <p class=\"ion-no-margin driver-podium-name\">\n          {{podium[2]?.full_name}}\n        </p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-list lines=\"none\" *ngIf=\"list.length > 0\">\n    <ion-item *ngFor=\"let driver of list; let i=index\"\n              [style.--animation-order]=\"i\">\n      <ion-grid>\n        <ion-row>\n          <ion-col class=\"ion-align-self-center\">\n            <div class=\"driver-name\">\n              {{driver.full_name}}\n            </div>\n          </ion-col>\n          <ion-col size=\"3\" class=\"ion-text-right ion-align-self-center\">\n            <div class=\"driver-score\">\n              {{driver.score}}\n            </div>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-item>\n  </ion-list>\n</ion-content>\n"],"sourceRoot":"webpack:///"}