{"version":3,"sources":["webpack:///src/app/pages/urban-distributions/popover-item-options/popover-item-options.component.ts","webpack:///src/app/pages/urban-distributions/popover-item-options/popover-item-options.component.html","webpack:///src/app/pages/urban-distributions/urban-distribution-order-item/urban-distribution-order-item.component.html","webpack:///src/app/pages/urban-distributions/urban-distribution-order-item/urban-distribution-order-item.component.ts","webpack:///src/app/pages/urban-distributions/urban-distribution-list/urban-distribution-list-routing.module.ts","webpack:///node_modules/papaparse/papaparse.min.js","webpack:///src/app/services/utils/call-number.service.ts","webpack:///src/app/utils/to-promise.ts","webpack:///src/app/pages/urban-distributions/urban-distribution-indicators/urban-distribution-indicators.component.ts","webpack:///src/app/pages/urban-distributions/urban-distribution-indicators/urban-distribution-indicators.component.html","webpack:///src/app/pages/urban-distributions/urban-distribution-list/urban-distribution-list.module.ts","webpack:///src/app/pages/urban-distributions/urban-distribution-list/urban-distribution-list.page.html","webpack:///src/app/pages/urban-distributions/urban-distribution-list/urban-distribution-list.page.ts"],"names":["PopoverItemOptionsComponent","popoverController","callNumberService","ngOnInit","callNumber","order","call","phone","UrbanDistributionOrderItemComponent","router","modalController","orderService","deletedOrderEvent","console","log","viewOrderDetail","create","component","componentProps","modal","present","onWillDismiss","data","success","emit","showNotDeliverOptions","cssClass","status","status_es","deliverOrder","showItemOptions","ev","event","popover","routes","path","UrbanDistributionListPageRoutingModule","forChild","e","t","r","n","self","window","d","s","document","postMessage","a","IS_PAPA_WORKER","o","h","v","u","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","meta","b","chunkSize","parseInt","step","chunk","i","streamer","_config","parseChunk","skipFirstNLines","newline","quoteChar","guessLineEndings","split","slice","join","U","beforeFirstChunk","parse","paused","aborted","cursor","substring","length","preview","results","workerId","WORKER_ID","finished","concat","complete","_sendError","error","f","RemoteChunkSize","_readChunk","_chunkLoaded","stream","XMLHttpRequest","withCredentials","onload","y","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","message","readyState","responseText","getResponseHeader","lastIndexOf","statusText","Error","l","LocalChunkSize","FileReader","webkitSlice","mozSlice","FileReaderSync","Math","min","size","readAsText","encoding","target","result","c","p","pause","prototype","apply","arguments","resume","on","_streamData","_streamEnd","_streamError","_checkIsFinished","shift","push","toString","_streamCleanUp","removeListener","m","pow","skipEmptyLines","trim","g","k","DefaultDelimiter","filter","_","transformHeader","Array","isArray","forEach","splice","header","dynamicTypingFunction","dynamicTyping","test","parseFloat","Date","transform","map","fields","type","code","row","abort","delimiter","RECORD_SEP","UNIT_SEP","E","comments","abs","successful","bestDelimiter","delimitersToGuess","getCharIndex","setTimeout","RegExp","P","replace","C","S","O","x","I","A","T","fastMode","D","L","F","j","escapeChar","BAD_DELIMITERS","indexOf","z","M","w","R","index","substr","Object","Set","has","add","warn","linebreak","truncated","renamedHeaders","userError","file","userStep","userChunk","userComplete","terminate","worker","WORKERS_SUPPORTED","NODE_STREAM_INPUT","charCodeAt","download","readable","read","File","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","id","input","config","unparse","quotes","columns","escapeFormulae","JSON","keys","constructor","stringify","charAt","String","fromCharCode","BYTE_ORDER_MARK","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","fn","each","prop","toUpperCase","attr","toLowerCase","files","inputElem","instanceConfig","extend","before","action","reason","name","CallNumberService","phoneNumber","then","res","err","toPromise","observable","Promise","resolve","reject","subscription","subscribe","next","value","unsubscribe","UrbanDistributionIndicatorsComponent","TIME_PER_ORDER","ordersUpdatedSubscription","getOrdersUpdated$","ordersUpdated","calculatePending","calculateEstTime","ngOnChanges","changes","ngOnDestroy","pendingOrdersCount","orders","estimated","estimatedTime","hours","round","minutesH","minutes","ceil","UrbanDistributionListPageModule","UrbanDistributionListPage","locationService","alertController","loadingController","toastComponent","geolocation","orderManagerService","geolocationService","driverService","loadingSpinnerComponent","modeService","offlineOrderManagerService","networkService","storage","syncService","geocodeService","optimizingOrders","loading","dateFC","date","driverCityFallback","networkModeToggleFC","deletingOrder","importing","driverSubscription","getDriver$","driver","getProfile","response","checkWatchLocationsSubscription","getSendingReqs$","sendingRequests","openSyncDataLoadingPopover","ngAfterViewInit","setValue","toISOString","getOrdersByDate","watchPosition","day","getDate","month","getMonth","year","getFullYear","updateDriverCityFallback","setOrders$","ionReorderGroup","doReorder","from","detail","to","moved","openCsvImporter","csvInput","nativeElement","click","onCsvSelected","rows","hasContent","processCsvRows","presentToast","some","key","undefined","failed","importRow","address","direccion","city","ciudad","extractCityFromAddress","lat","lng","isNaN","country","pais","query","mapQuestGeocode","coords","GMGeocodeAddress","body","location_name","company_name","receiver","details","description","telefono","normalizeDate","locality","localidad","administrative_area_level_1","provincia","administrative_area_level_2","partido","flag_color","color","barrio","viv","sec","mz","casa","storeLocation","formatDate","raw","parts","part","cityFromOrders","find","location","addLocation","networkStatus","onDidDismiss","hasNewOrder","onDateChange","showMap","buttons","alert","setCurrentOrders$","navigateByUrl","checkDriverPosition","getDriverPosition","driverPosition","latitude","longitude","getCurrentPosition","checkUndeliveredOrders","undeliveredOrders","optimizeOrders","originLat","start_lat","originLng","start_lng","Number","orders_ids","presentDeleteOrderAlertConfirm","text","role","handler","deleteOrder","editOrder","setModeStatus","checked","Online","Offline","updateModeStatus","sync","storeOrdersInLocalStorage","swipeEvent","dragEvent","setDeliveryOrderToOrders","ordersIds","doRefresh"],"mappings":"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","file":"pages-urban-distributions-urban-distribution-list-urban-distribution-list-module-es5.js","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {Order} from '../../../interfaces/Order';\nimport {PopoverController} from '@ionic/angular';\nimport {CallNumberService} from '../../../services/utils/call-number.service';\n\n@Component({\n  selector: 'app-popover-item-options',\n  templateUrl: './popover-item-options.component.html',\n  styleUrls: ['./popover-item-options.component.scss'],\n})\nexport class PopoverItemOptionsComponent implements OnInit {\n  @Input() order: Order;\n\n  constructor(private popoverController: PopoverController,\n              private callNumberService: CallNumberService) {\n  }\n\n  ngOnInit() {\n  }\n\n  callNumber(order: Order) {\n    this.callNumberService.call(order.phone);\n  }\n\n}\n","<ion-content class=\"ion-padding\">\n  <h6 class=\"ion-no-margin ion-margin-bottom\">{{order.receiver}}</h6>\n  <h6>{{order.phone}}</h6>\n  <p>Paquete: {{order.description ? order.description : ' -'}}</p>\n\n  <ion-button (click)=\"callNumber(order)\" class=\"full-width\">\n    <ion-icon name=\"call-outline\" class=\"ion-padding-horizontal\"></ion-icon> Llamar\n  </ion-button>\n\n  <ion-button href='https://api.whatsapp.com/send/?phone={{order.phone}}&text=Hola' class=\"full-width whatsapp-color-background\">\n    <ion-icon name=\"logo-whatsapp\" class=\"ion-padding-horizontal\"></ion-icon> Whatsapp\n  </ion-button>\n</ion-content>\n","<ion-item lines=\"none\">\n  <ion-reorder class=\"reorder-wrapper\">\n    <ion-grid>\n    <ion-row>\n      <ion-col size=\"4\" class=\"ion-align-self-center\">\n        <div class=\"order-meta\">\n          <ion-badge class=\"index\">{{i + 1}}</ion-badge>\n          <ion-icon name=\"flag\" [ngStyle]=\"{'color': order.flag_color}\" class=\"ion-margin-start\"></ion-icon>\n          <ion-icon name=\"locate\" *ngIf=\"order.location.saved_client\"></ion-icon>\n        </div>\n      </ion-col>\n\n      <ion-col size=\"6\">\n        <ion-badge\n          [color]=\"order.status === 'delivered' ? 'primary'\n          : (order.status === 'skipped' || order.status === 'pending') ? 'warning'\n          : 'danger'\">\n          {{order.status_es | uppercase}}\n        </ion-badge>\n      </ion-col>\n\n      <ion-col size=\"2\" class=\"ion-text-right\" (click)=\"showItemOptions(order, $event)\">\n        <ion-icon name=\"ellipsis-vertical\"></ion-icon>\n      </ion-col>\n    </ion-row>\n\n    <ion-row (click)=\"viewOrderDetail(order)\">\n      <ion-col size=\"12\">\n        <h6 class=\"ion-no-margin\">#{{order.id}}</h6>\n      </ion-col>\n      <ion-col size=\"12\">\n        <b>{{order.location.name | uppercase}}</b>\n      </ion-col>\n\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <p class=\"ion-no-margin p-small\">\n          {{order.location.b ? ('B: ' + order.location.b) : ''}}\n          {{order.location.v ? ('Viv: ' + order.location.v) : ''}}\n          {{order.location.s ? ('Sec: ' + order.location.s) : ''}}\n          {{order.location.m ? ('Mz: ' + order.location.m) : ''}}\n          {{order.location.c ? ('Casa: ' + order.location.c) : ''}}\n        </p>\n      </ion-col>\n\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <p class=\"ion-no-margin p-small\">\n          Razn social: {{order.receiver ? order.receiver : '-'}}\n        </p>\n      </ion-col>\n\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <p class=\"ion-no-margin p-small\">\n          Telfono: {{order.phone ? order.phone : '-'}}\n        </p>\n      </ion-col>\n\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <p class=\"ion-no-margin p-small\">\n          Paquete: {{order.description ? order.description : '-'}}\n        </p>\n      </ion-col>\n    </ion-row>\n\n    <ion-row>\n      <ion-col size=\"6\">\n        <ion-button color=\"light\" (click)=\"deliverOrder(order)\">\n          Entregar\n        </ion-button>\n      </ion-col>\n\n      <ion-col size=\"6\">\n        <ion-button color=\"light\" (click)=\"showNotDeliverOptions(order)\">\n          No entregado\n        </ion-button>\n      </ion-col>\n    </ion-row>\n    </ion-grid>\n  </ion-reorder>\n</ion-item>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Order} from '../../../interfaces/Order';\nimport {Router} from '@angular/router';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {NotDeliveredComponent} from '../../../components/modals/not-delivered/not-delivered.component';\nimport {ModalController, PopoverController} from '@ionic/angular';\nimport {DeliverOrderComponent} from '../../../components/modals/deliver-order/deliver-order.component';\nimport {CallNumberService} from '../../../services/utils/call-number.service';\nimport {PopoverItemOptionsComponent} from '../popover-item-options/popover-item-options.component';\nimport {UrbanDistributionDetailPage} from '../urban-distribution-detail/urban-distribution-detail.page';\n\n@Component({\n  selector: 'app-urban-distribution-order-item',\n  templateUrl: './urban-distribution-order-item.component.html',\n  styleUrls: ['./urban-distribution-order-item.component.scss'],\n})\nexport class UrbanDistributionOrderItemComponent implements OnInit {\n  @Input() order: Order;\n  @Input() i: number;\n  @Output() deletedOrderEvent = new EventEmitter<Order>();\n\n  constructor(private router: Router,\n              private modalController: ModalController,\n              private popoverController: PopoverController,\n              private callNumberService: CallNumberService,\n              private orderService: OrderService) {\n  }\n\n  ngOnInit() {\n    console.log(this.order);\n  }\n\n  async viewOrderDetail(order: Order) {\n    const modal = await this.modalController.create({\n      component: UrbanDistributionDetailPage,\n      componentProps: {order},\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data?.success) {\n      this.deletedOrderEvent.emit(this.order);\n    }\n  }\n\n  async showNotDeliverOptions(order: Order) {\n    const modal = await this.modalController.create({\n      component: NotDeliveredComponent,\n      cssClass: 'modal-not-deliver-options',\n      componentProps: {order},\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data?.success) {\n      this.order.status = 'not-delivered';\n      this.order.status_es = 'no entregada';\n    }\n  }\n\n  async deliverOrder(order: Order) {\n    const modal = await this.modalController.create({\n      component: DeliverOrderComponent,\n      componentProps: {order},\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data?.success) {\n      this.order.status = 'delivered';\n      this.order.status_es = 'entregada';\n    }\n  }\n\n  callNumber(order: Order) {\n    this.callNumberService.call(order.phone);\n  }\n\n  async showItemOptions(order: Order, ev) {\n    const popover = await this.popoverController.create({\n      component: PopoverItemOptionsComponent,\n      componentProps: {order},\n      event: ev\n    });\n    await popover.present();\n    const {data} = await popover.onWillDismiss();\n    if (data?.success) {\n      //\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UrbanDistributionListPage } from './urban-distribution-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UrbanDistributionListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UrbanDistributionListPageRoutingModule {}\n","/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e,t)=>{\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()})(this,function r(){var n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'\"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine=\"\",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,\"\"),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,d=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+v.DefaultDelimiter+\"'\"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):\"\"===t?null:t):t)(n=m.header?r>=c.length?\"__parsed_extra\":c[r]:n,s=m.transform?m.transform(s,n):s);\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+c.length+\" fields but parsed \"+r,f+t):r<c.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+c.length+\" fields but parsed \"+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'\"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),b(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?\"\":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+\"([^]*?)\"+P(t),\"gm\"),i=(e=e.replace(t,\"\")).split(\"\\r\"),t=e.split(\"\\n\"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return\"\\n\";for(var r=0,n=0;n<i.length;n++)\"\\n\"===i[n][0]&&r++;return r>=i.length/2?\"\\r\\n\":\"\\r\"}}function P(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'\"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),(\"string\"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=\",\"),x===S)throw new Error(\"Comment character same as delimiter\");!0===x?x=\"#\":(\"string\"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),\"\\n\"!==O&&\"\\r\"!==O&&\"\\r\\n\"!==O&&(O=\"\\n\");var z=0,M=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return w();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return w();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return w()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),w(!0)}}return w()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),\"g\"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),b(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return w();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),b(g+s),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&\"\"===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),w()}function b(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function w(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a=Object.create(null),o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+\"_\"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn(\"Duplicate headers found and renamed.\"),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(w()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error(\"Not implemented.\")}function b(e){if(\"object\"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=b(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,\"string\"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",t,\")();\"],{type:\"text/javascript\"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(y=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(P(s),\"g\"));\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\",n=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=\"\"===f.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK=\"\\ufeff\",v.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=\",\",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);\"string\"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});","import {Injectable} from '@angular/core';\nimport {CallNumber} from '@ionic-native/call-number/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CallNumberService {\n\n  constructor(private callNumber: CallNumber) {\n  }\n\n  call(phoneNumber: string) {\n    this.callNumber.callNumber(phoneNumber, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => {});\n  }\n}\n","import {Observable} from 'rxjs';\n\nexport function toPromise<T>(observable: Observable<T>): Promise<T> {\n  return new Promise<T>((resolve, reject) => {\n    const subscription = observable.subscribe({\n      next: (value) => {\n        resolve(value);\n        subscription.unsubscribe();\n      },\n      error: (error) => {\n        reject(error);\n        subscription.unsubscribe();\n      }\n    });\n  });\n}\n","import {Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges} from '@angular/core';\nimport {Order} from '../../../interfaces/Order';\nimport {OrderService} from '../../../services/v1/order.service';\n\n@Component({\n  selector: 'app-urban-distribution-indicators',\n  templateUrl: './urban-distribution-indicators.component.html',\n  styleUrls: ['./urban-distribution-indicators.component.scss'],\n})\nexport class UrbanDistributionIndicatorsComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() orders: Order[];\n  pendingOrdersCount: number;\n  estimatedTime: string;\n  TIME_PER_ORDER = 8.5;\n  ordersUpdatedSubscription: any;\n\n  constructor(private orderService: OrderService) {\n  }\n\n  ngOnInit() {\n    this.ordersUpdatedSubscription = this.orderService.getOrdersUpdated$()\n      .subscribe(ordersUpdated => {\n        console.log(ordersUpdated);\n        this.calculatePending();\n        this.calculateEstTime();\n      });\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.calculatePending();\n    this.calculateEstTime();\n  }\n\n  ngOnDestroy(): void {\n    if (this.ordersUpdatedSubscription) {\n      this.ordersUpdatedSubscription.unsubscribe();\n    }\n  }\n\n  calculatePending() {\n    this.pendingOrdersCount = this.orders.filter(order => order.status === 'pending').length;\n  }\n\n  calculateEstTime() {\n    const estimated = this.pendingOrdersCount * this.TIME_PER_ORDER;\n\n    if (estimated <= 60) {\n      this.estimatedTime = estimated + 'min.';\n    } else {\n      const hours = Math.round(estimated / 60);\n      const minutesH = (estimated / 60) - hours;\n      const minutes = Math.ceil(minutesH * 60);\n      this.estimatedTime = `${hours}h ${minutes}m`;\n    }\n  }\n\n}\n","<ion-grid class=\"ion-text-center ion-no-padding\">\n  <ion-row>\n    <ion-col size=\"6\" class=\"ion-no-padding\">\n      <p class=\"ion-no-margin\">\n        Pendientes\n      </p>\n      <p class=\"ion-no-margin\">\n        <b>{{pendingOrdersCount}}</b>\n      </p>\n    </ion-col>\n    <ion-col size=\"6\" class=\"ion-no-padding\">\n      <p class=\"ion-no-margin\">\n        Estimado\n      </p>\n      <p class=\"ion-no-margin\">\n        <b>{{estimatedTime}}</b>\n      </p>\n    </ion-col>\n  </ion-row>\n</ion-grid>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {UrbanDistributionListPageRoutingModule} from './urban-distribution-list-routing.module';\n\nimport {UrbanDistributionListPage} from './urban-distribution-list.page';\nimport {UrbanDistributionOrderItemComponent} from '../urban-distribution-order-item/urban-distribution-order-item.component';\nimport {ComponentsModule} from '../../../components/components.module';\nimport {PopoverItemOptionsComponent} from '../popover-item-options/popover-item-options.component';\nimport {UrbanDistributionIndicatorsComponent} from '../urban-distribution-indicators/urban-distribution-indicators.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    UrbanDistributionListPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [\n    UrbanDistributionListPage,\n    UrbanDistributionOrderItemComponent,\n    PopoverItemOptionsComponent,\n    UrbanDistributionIndicatorsComponent\n  ]\n})\nexport class UrbanDistributionListPageModule {\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button autoHide=\"false\"></ion-menu-button>\n    </ion-buttons>\n<!--    <ion-buttons slot=\"end\">-->\n<!--      <ion-button (click)=\"setDeliveryOrderToOrders()\">-->\n<!--        <ion-icon name=\"save\" slot=\"icon-only\"></ion-icon>-->\n<!--      </ion-button>-->\n<!--    </ion-buttons>-->\n    <ion-buttons slot=\"end\">\n      <span class=\"network-status\" *ngIf=\"!networkModeToggleFC.value\">offline</span>\n      <span class=\"network-status\" *ngIf=\"networkModeToggleFC.value\">online</span>\n      <ion-toggle color=\"warning\"\n                  (ionChange)=\"setModeStatus($event)\"\n                  [checked]=\"networkModeToggleFC.value\"\n                  [formControl]=\"networkModeToggleFC\"></ion-toggle>\n    </ion-buttons>\n    <!--    <ion-buttons slot=\"end\">-->\n    <!--      <span class=\"network-status\"></span>-->\n    <!--      <ion-toggle color=\"warning\"-->\n    <!--                  (ionChange)=\"deleteLocalStorage()\"></ion-toggle>-->\n    <!--    </ion-buttons>-->\n    <ion-title>DISTRIBUCIN URBANA</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-item lines=\"none\" class=\"custom-date-item\" *ngIf=\"networkModeToggleFC.value\">\n    <ion-datetime [formControl]=\"dateFC\"\n                  (ionChange)=\"onDateChange($event)\"\n                  displayFormat=\"DD MMMM YYYY\"\n                  display-timezone=\"America/Argentina/Buenos_Aires\"\n                  placeholder=\"Seleccione fecha\"\n                  doneText=\"ok\"\n                  cancelText=\"cancelar\"\n                  monthNames=\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\"\n                  monthShortNames=\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\"\n                  dayNames=\"domingo, lunes, martes, mircoles, jueves, viernes, sbado, domingo\"\n                  dayShortNames=\"dom, lun, mar, mi, jue, vie, sb, dom\">\n    </ion-datetime>\n  </ion-item>\n\n  <div class=\"ion-text-center ion-padding-bottom\">\n    <ion-button class=\"custom-button\" (click)=\"addLocation()\">\n      AGREGAR\n    </ion-button>\n    <ion-button class=\"custom-button\" color=\"medium\" (click)=\"openCsvImporter()\" [disabled]=\"importing\">\n      IMPORTAR CSV\n    </ion-button>\n    <input #csvInput type=\"file\" accept=\".csv\" hidden (change)=\"onCsvSelected($event)\">\n  </div>\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <div class=\"ion-text-center ion-padding-bottom mt-3\">\n    <ion-button class=\"custom-button\" color=\"light\" (click)=\"setDeliveryOrderToOrders()\">\n      GUARDAR ORDEN DE ENTREGA\n    </ion-button>\n  </div>\n\n  <p *ngIf=\"!loading && orders.length <= 0\" class=\"ion-padding ion-text-center\">\n    <b>No tienes paquetes pendientes por entregar</b>\n  </p>\n\n  <div class=\"ion-padding ion-text-center\" *ngIf=\"loading\">\n    <ion-progress-bar type=\"indeterminate\"></ion-progress-bar>\n  </div>\n\n  <app-urban-distribution-indicators *ngIf=\"!loading && orders.length > 0\"\n                                     [orders]=\"orders\">\n  </app-urban-distribution-indicators>\n\n  <div class=\"ion-padding-horizontal\">\n    <ion-reorder-group (ionItemReorder)=\"doReorder($event)\" disabled=\"false\">\n      <ion-item-sliding *ngFor=\"let order of orders; let i=index\" class=\"ion-margin-bottom\" (ionDrag)=\"dragEvent($event)\">\n\n        <app-urban-distribution-order-item [order]=\"order\"\n                                           [i]=\"i\"\n                                           (deletedOrderEvent)=\"deletedOrderEvent($event)\">\n        </app-urban-distribution-order-item>\n\n        <ion-item-options (ionSwipe)=\"swipeEvent($event)\">\n          <ion-item-option color=\"light\" (click)=\"editOrder(order)\">\n            <ion-icon slot=\"end\" name=\"create\"></ion-icon>\n            Editar\n          </ion-item-option>\n          <ion-item-option color=\"light\" (click)=\"presentDeleteOrderAlertConfirm(order)\">\n            <ion-spinner name=\"lines-small\" *ngIf=\"deletingOrder\"></ion-spinner>\n            <ion-icon slot=\"end\" name=\"trash\" *ngIf=\"!deletingOrder\"></ion-icon>\n            Eliminar\n          </ion-item-option>\n        </ion-item-options>\n      </ion-item-sliding>\n    </ion-reorder-group>\n  </div>\n</ion-content>\n\n<ion-footer *ngIf=\"networkModeToggleFC.value\">\n<!--<ion-footer>-->\n  <ion-toolbar>\n    <ion-tabs>\n      <ion-tab-bar slot=\"bottom\" color=\"light\">\n        <ion-tab-button (click)=\"showMap()\">\n          <ion-icon name=\"navigate-circle\"></ion-icon>\n          <ion-label>Comenzar</ion-label>\n        </ion-tab-button>\n\n        <ion-tab-button (click)=\"optimizeOrders()\">\n          <ion-icon name=\"filter\" *ngIf=\"!optimizingOrders\"></ion-icon>\n          <ion-spinner name=\"bubbles\" *ngIf=\"optimizingOrders\"></ion-spinner>\n          <ion-label *ngIf=\"!optimizingOrders\">Optimizar</ion-label>\n          <ion-label *ngIf=\"optimizingOrders\">Optimizando...</ion-label>\n        </ion-tab-button>\n      </ion-tab-bar>\n    </ion-tabs>\n  </ion-toolbar>\n</ion-footer>\n","import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {AlertController, IonReorderGroup, LoadingController, ModalController, PopoverController} from '@ionic/angular';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {Order} from '../../../interfaces/Order';\nimport {LocationService} from '../../../services/v1/location.service';\nimport {LoadingSpinnerComponent} from '../../../components/loading-spinner/loading-spinner.component';\nimport {Router} from '@angular/router';\nimport {GeolocationService} from '../../../services/v1/geolocation.service';\nimport {Geoposition} from '@ionic-native/geolocation';\nimport {EditUrbanDistributionComponent} from '../../../components/modals/edit-urban-distribution/edit-urban-distribution.component';\nimport {Geolocation} from '@ionic-native/geolocation/ngx';\nimport {ToastComponent} from '../../../components/toast/toast.component';\nimport {FormControl} from '@angular/forms';\nimport {UrbanDistributionFormPage} from '../urban-distribution-form/urban-distribution-form.page';\nimport {NetworkService} from '../../../services/utils/network.service';\nimport {OrderManagerService} from '../../../services/v1/order-manager.service';\nimport {SyncDataLoadingComponent} from '../../../components/modals/sync-data-loading/sync-data-loading.component';\nimport {Storage} from '@ionic/storage';\nimport {OfflineOrderManagerService} from '../../../services/v1/offline-order-manager.service';\nimport {ModeService} from '../../../services/utils/mode.service';\nimport {ModeStatus} from '../../../interfaces/ModeStatus';\nimport {SyncService} from '../../../services/utils/sync.service';\nimport {GeocodeService} from '../../../services/v1/geocode.service';\nimport * as Papa from 'papaparse';\nimport {toPromise} from '../../../utils/to-promise';\nimport {Driver} from '../../../interfaces/Driver';\nimport {DriverService} from '../../../services/v1/driver.service';\nimport {Subscription} from 'rxjs';\n\n@Component({\n  selector: 'app-urban-distribution-list',\n  templateUrl: './urban-distribution-list.page.html',\n  styleUrls: ['./urban-distribution-list.page.scss'],\n})\nexport class UrbanDistributionListPage implements OnInit, AfterViewInit, OnDestroy {\n  orders: Order[] = [];\n  optimizingOrders = false;\n  loading = true;\n  dateFC = new FormControl();\n  date = new Date();\n  driverPosition: Geoposition;\n  driverCityFallback = 'Corrientes';\n  driver: Driver;\n  driverSubscription: Subscription;\n  networkModeToggleFC = new FormControl();\n  deletingOrder = false;\n  @ViewChild(IonReorderGroup) ionReorderGroup;\n  @ViewChild('csvInput') csvInput: ElementRef<HTMLInputElement>;\n  importing = false;\n\n  constructor(private modalController: ModalController,\n              private popoverController: PopoverController,\n              private locationService: LocationService,\n              private alertController: AlertController,\n              private loadingController: LoadingController,\n              private toastComponent: ToastComponent,\n              private geolocation: Geolocation,\n              private orderManagerService: OrderManagerService,\n              private geolocationService: GeolocationService,\n              private driverService: DriverService,\n              private loadingSpinnerComponent: LoadingSpinnerComponent,\n              private modeService: ModeService,\n              private router: Router,\n              private offlineOrderManagerService: OfflineOrderManagerService,\n              private networkService: NetworkService,\n              private storage: Storage,\n              private syncService: SyncService,\n              private orderService: OrderService,\n              private geocodeService: GeocodeService) {\n  }\n\n  ngOnInit() {\n    this.driverSubscription = this.driverService.getDriver$()\n      .subscribe(driver => {\n        if (driver) {\n          this.driver = driver;\n        } else {\n          this.driverService.getProfile().subscribe((response: any) => {\n            this.driver = response.driver;\n          });\n        }\n      });\n\n    this.checkWatchLocationsSubscription();\n\n    this.offlineOrderManagerService.getSendingReqs$().subscribe(sendingRequests => {\n      console.log('SENDING REQ IN URBAN DISTR LIST', sendingRequests);\n      if (sendingRequests) {\n        this.openSyncDataLoadingPopover();\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    this.date = new Date();\n    this.dateFC.setValue(this.date.toISOString());\n    this.networkModeToggleFC.setValue(1);\n    this.getOrdersByDate();\n  }\n\n  ngOnDestroy() {\n    if (this.driverSubscription) {\n      this.driverSubscription.unsubscribe();\n    }\n  }\n\n  checkWatchLocationsSubscription() {\n    if (!this.geolocationService.checkWatchLocationsSubscription()) {\n      this.geolocationService.watchPosition();\n    }\n  }\n\n  getOrdersByDate() {\n    this.orders = [];\n    this.loading = true;\n    const day = this.date.getDate();\n    const month = this.date.getMonth() + 1;\n    const year = this.date.getFullYear();\n    this.orderManagerService.getOrdersByDate('urban-distribution', day, month, year)\n      .subscribe((response: any) => {\n        this.orders = response;\n        this.updateDriverCityFallback();\n        this.orderManagerService.setOrders$(this.orders);\n        this.ionReorderGroup.complete(this.orders);\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n\n  doReorder(ev: CustomEvent) {\n    const from = ev.detail.from;\n    const to = ev.detail.to;\n\n    if (from === to) {\n      ev.detail.complete(true);\n      return;\n    }\n\n    const moved = this.orders.splice(from, 1)[0];\n    this.orders.splice(to, 0, moved);\n\n    ev.detail.complete(true);\n\n    // Refleja el nuevo orden en los observables usados por el mapa y otras vistas.\n    this.orderManagerService.setOrders$(this.orders);\n  }\n\n  openCsvImporter() {\n    if (this.csvInput?.nativeElement) {\n      this.csvInput.nativeElement.value = '';\n      this.csvInput.nativeElement.click();\n    }\n  }\n\n  onCsvSelected(event: Event) {\n    const input = event.target as HTMLInputElement;\n    const file = input.files && input.files.length > 0 ? input.files[0] : null;\n\n    if (!file) {\n      return;\n    }\n\n    this.importing = true;\n    Papa.parse(file, {\n      header: true,\n      skipEmptyLines: true,\n      complete: async (result) => {\n        const rows = (result.data as any[]).filter(row => this.hasContent(row));\n        await this.processCsvRows(rows);\n        this.importing = false;\n        if (this.csvInput?.nativeElement) {\n          this.csvInput.nativeElement.value = '';\n        }\n      },\n      error: () => {\n        this.importing = false;\n        this.toastComponent.presentToast('No se pudo leer el archivo CSV', 'bottom', 3500);\n        if (this.csvInput?.nativeElement) {\n          this.csvInput.nativeElement.value = '';\n        }\n      }\n    });\n  }\n\n  private hasContent(row: any): boolean {\n    if (!row || typeof row !== 'object') {\n      return false;\n    }\n    return Object.keys(row).some(key => {\n      const value = row[key];\n      return value !== null && value !== undefined && `${value}`.trim() !== '';\n    });\n  }\n\n  private async processCsvRows(rows: any[]) {\n    if (!rows.length) {\n      this.toastComponent.presentToast('El archivo CSV est vaco', 'bottom', 3500);\n      return;\n    }\n\n    let success = 0;\n    let failed = 0;\n\n    for (const row of rows) {\n      try {\n        await this.importRow(row);\n        success++;\n      } catch (err) {\n        console.error('Error importing CSV row', row, err);\n        failed++;\n      }\n    }\n\n    if (success > 0) {\n      this.getOrdersByDate();\n    }\n\n    const message = `Importadas ${success}. ${failed > 0 ? 'Fallidas ' + failed + '.' : ''}`;\n    this.toastComponent.presentToast(message, 'bottom', 4000);\n  }\n\n  private async importRow(row: any) {\n    const address = (row.address || row.direccion || row.direccion || '').toString().trim();\n    let city = (row.city || row.ciudad || '').toString().trim();\n\n    if (!address) {\n      throw new Error('Fila sin direccin');\n    }\n\n    if (!city) {\n      city = this.extractCityFromAddress(address)\n        || this.driverCityFallback\n        || 'Corrientes';\n    }\n\n    let lat = parseFloat(row.lat);\n    let lng = parseFloat(row.lng);\n\n    if (isNaN(lat) || isNaN(lng)) {\n      const country = (row.country || row.pais || 'Argentina').toString().trim();\n      const query = `${address}, ${city}`;\n      try {\n        const coords = await this.geocodeService.mapQuestGeocode(query, country);\n        lat = coords.lat;\n        lng = coords.lng;\n      } catch (error) {\n        const coords = await this.geocodeService.GMGeocodeAddress(query, country);\n        lat = coords.lat;\n        lng = coords.lng;\n      }\n    }\n\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error('No se pudieron obtener coordenadas');\n    }\n\n    const body = {\n      type: 'urban-distribution',\n      name: (row.location_name || row.name || address).toString().trim(),\n      address,\n      city,\n      company_name: (row.company_name || row.receiver || '').toString().trim(),\n      details: (row.details || row.description || '').toString().trim(),\n      phone: (row.phone || row.telefono || '').toString().trim(),\n      date: this.normalizeDate(row.date),\n      locality: (row.locality || row.localidad || null) || null,\n      administrative_area_level_1: (row.administrative_area_level_1 || row.provincia || null) || null,\n      administrative_area_level_2: (row.administrative_area_level_2 || row.partido || null) || null,\n      lat,\n      lng,\n      flag_color: (row.flag_color || row.color || '#FF4051').toString().trim() || '#FF4051',\n      b: (row.b || row.barrio || '').toString().trim(),\n      v: (row.v || row.viv || '').toString().trim(),\n      s: (row.s || row.sec || '').toString().trim(),\n      m: (row.m || row.mz || '').toString().trim(),\n      c: (row.c || row.casa || '').toString().trim()\n    };\n\n    await toPromise(this.orderManagerService.storeLocation(body));\n  }\n\n  private normalizeDate(value: any): string {\n    if (!value) {\n      return this.formatDate(this.date);\n    }\n\n    const raw = value.toString().trim();\n    if (!raw) {\n      return this.formatDate(this.date);\n    }\n\n    if (/^\\d{4}-\\d{2}-\\d{2}$/.test(raw)) {\n      return raw;\n    }\n\n    if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(raw)) {\n      const [day, month, year] = raw.split('/');\n      return `${year}-${month}-${day}`;\n    }\n\n    if (/^\\d{2}-\\d{2}-\\d{4}$/.test(raw)) {\n      const [day, month, year] = raw.split('-');\n      return `${year}-${month}-${day}`;\n    }\n\n    return this.formatDate(this.date);\n  }\n\n  private formatDate(date: Date): string {\n    return date.toISOString().slice(0, 10);\n  }\n\n  private extractCityFromAddress(address: string): string | null {\n    if (!address) {\n      return null;\n    }\n\n    const parts = address.split(',').map(part => part.trim()).filter(part => part.length > 0);\n    if (parts.length >= 2) {\n      return parts[parts.length - 1];\n    }\n\n    return null;\n  }\n\n  private updateDriverCityFallback() {\n    const cityFromOrders = this.orders?.find(order => order?.location?.city)?.location?.city;\n    if (cityFromOrders) {\n      this.driverCityFallback = cityFromOrders;\n      return;\n    }\n\n    if (!this.driverCityFallback || this.driverCityFallback.trim().length === 0) {\n      this.driverCityFallback = 'Corrientes';\n    }\n  }\n\n  async addLocation() {\n    const modal = await this.modalController.create({\n      component: UrbanDistributionFormPage,\n      componentProps: {networkStatus: this.networkModeToggleFC.value ? this.networkModeToggleFC.value : false}\n    });\n    await modal.present();\n    const {data} = await modal.onDidDismiss();\n    if (data?.hasNewOrder) {\n      this.getOrdersByDate();\n    }\n  }\n\n  onDateChange(event) {\n    this.date = new Date(event.detail.value);\n    this.getOrdersByDate();\n  }\n\n  async showMap() {\n    if (this.orders.length <= 0) {\n      const alert = await this.alertController.create({\n        message: 'No tienes paquetes pendientes por entregar',\n        buttons: ['OK']\n      });\n      await alert.present();\n    } else {\n      this.orderService.setCurrentOrders$(this.orders);\n      this.updateDriverCityFallback();\n      this.router.navigateByUrl('delivery-map/urban-distribution');\n    }\n  }\n\n  checkDriverPosition() {\n    console.log(this.geolocationService.getDriverPosition());\n    this.driverPosition = this.geolocationService.getDriverPosition();\n    if (!(this.driverPosition?.coords?.latitude && this.driverPosition?.coords?.longitude)) {\n      this.geolocationService.getCurrentPosition().then((driverPosition: any) => {\n        this.driverPosition = driverPosition;\n\n        if (!(this.driverPosition?.coords?.latitude && this.driverPosition?.coords?.longitude)) {\n          this.toastComponent.presentToast(\n            `No se pudo obtener ubicacin actual. Por favor concede los permisos\n          para que la aplicacin pueda utilizar el GPS de su dispositivo mvil`,\n            'middle',\n            3500\n          );\n          return false;\n        } else {\n          return true;\n        }\n      });\n    } else {\n      return true;\n    }\n  }\n\n  checkUndeliveredOrders() {\n    console.log(this.orders.length);\n    const undeliveredOrders = this.orders.filter(order => order.status !== 'delivered');\n    console.log(undeliveredOrders.length);\n\n    if (undeliveredOrders.length <= 0) {\n      this.toastComponent.presentToast(\n        `No hay paquetes pendientes por entregar`,\n        'middle',\n        3500\n      );\n    }\n\n    return undeliveredOrders;\n  }\n\n  async optimizeOrders() {\n    const undeliveredOrders = this.checkUndeliveredOrders();\n\n    let originLat = this.driver?.start_lat;\n    let originLng = this.driver?.start_lng;\n\n    if ((originLat === undefined || originLat === null) || (originLng === undefined || originLng === null)) {\n      if (!this.checkDriverPosition()) {\n        return;\n      }\n      originLat = this.driverPosition?.coords?.latitude;\n      originLng = this.driverPosition?.coords?.longitude;\n    }\n\n    if (undeliveredOrders.length > 0 && originLat !== undefined && originLat !== null && originLng !== undefined && originLng !== null) {\n      const lat = Number(originLat);\n      const lng = Number(originLng);\n      const body = {\n        lat,\n        lng,\n        orders_ids: undeliveredOrders.map(order => order.id),\n      };\n      console.log(body);\n      this.optimizingOrders = true;\n      this.orderService.optimizeOrders(body)\n        .subscribe((response: any) => {\n          console.log(response);\n          this.orders = response.orders;\n          this.optimizingOrders = false;\n          this.toastComponent.presentToast(\n            `Ruta optimizada`,\n            'bottom',\n            3500\n          );\n        }, error => {\n          this.optimizingOrders = false;\n        });\n    } else if (undeliveredOrders.length > 0) {\n      this.toastComponent.presentToast(\n        'No se pudo determinar tu punto de partida. Configralo en tu perfil o habilita el GPS.',\n        'middle',\n        3500\n      );\n    }\n  }\n\n  async presentDeleteOrderAlertConfirm(order: Order) {\n    const alert = await this.alertController.create({\n      header: 'Desea eliminar esta ubicacin de su hoja de ruta?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            //\n          }\n        }, {\n          text: 'S',\n          handler: () => {\n            this.deleteOrder(order);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async editOrder(order: Order) {\n    const modal = await this.modalController.create({\n      component: EditUrbanDistributionComponent,\n      componentProps: {order},\n      // cssClass: 'modal-edit-urban-distribution'\n    });\n    await modal.present();\n    const {data} = await modal.onWillDismiss();\n    if (data && data.success) {\n      this.getOrdersByDate();\n    }\n  }\n\n  deleteOrder(order: Order) {\n    this.deletingOrder = true;\n    this.orderManagerService.deleteOrder(order)\n      .subscribe((response: any) => {\n        this.deletingOrder = false;\n        this.getOrdersByDate();\n      }, error => {\n        this.deletingOrder = false;\n      });\n  }\n\n  deletedOrderEvent(order: Order) {\n    this.orders = this.orders.filter(o => o.id !== order.id);\n    // this.orderService.setOrdersUpdated$(true);\n  }\n\n  async openSyncDataLoadingPopover() {\n    const popover = await this.popoverController.create({\n      component: SyncDataLoadingComponent\n    });\n\n    await popover.present();\n    const {data} = await popover.onDidDismiss();\n    console.log(data);\n    console.log('urban list dissmissssed');\n    if (data?.success) {\n      this.getOrdersByDate();\n    }\n  }\n\n  async setModeStatus(ev) {\n    const status = ev.detail.checked ? ModeStatus.Online : ModeStatus.Offline;\n    this.modeService.updateModeStatus(status);\n\n    if (status === ModeStatus.Online) { // if status changes from offline to online, then i sync with server\n      console.log('debo sincronizar');\n      this.openSyncDataLoadingPopover();\n      this.syncService.sync();\n    } else { // if status changes from online to offline, then i store current orders in localstorage\n      console.log('debo guardar en localstorage');\n      this.orderManagerService.storeOrdersInLocalStorage(this.orders)\n        .then(orders => {\n          console.log('orders in storage', orders);\n        });\n    }\n  }\n\n  swipeEvent(ev) {\n    //\n  }\n\n  dragEvent(ev) {\n    //\n  }\n\n  setDeliveryOrderToOrders() {\n    const body = {\n      ordersIds: this.orders.map(order => order.id)\n    };\n    this.orderService.setDeliveryOrderToOrders(body)\n      .subscribe((response: any) => {\n        this.getOrdersByDate();\n      });\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      this.getOrdersByDate();\n      event.target.complete();\n    }, 2000);\n  }\n}\n"]}