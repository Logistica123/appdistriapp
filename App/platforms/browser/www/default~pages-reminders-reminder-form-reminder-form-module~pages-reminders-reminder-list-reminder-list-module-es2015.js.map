{"version":3,"sources":["./src/app/pages/reminders/reminder-form/reminder-form.page.ts","./src/app/pages/reminders/reminder-form/reminder-form.page.html","./src/app/services/v1/reminder.service.ts"],"names":[],"mappings":"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","file":"default~pages-reminders-reminder-form-reminder-form-module~pages-reminders-reminder-list-reminder-list-module-es2015.js","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {ReminderService} from '../../../services/v1/reminder.service';\nimport {Reminder} from '../../../interfaces/Reminder';\nimport {ModalController} from '@ionic/angular';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'app-reminder-form',\n  templateUrl: './reminder-form.page.html',\n  styleUrls: ['./reminder-form.page.scss'],\n})\nexport class ReminderFormPage implements OnInit {\n  @Input() reminder: Reminder;\n  form: FormGroup;\n  showInputErrorMessage = false;\n  submitting = false;\n\n  constructor(private reminderService: ReminderService,\n              private formBuilder: FormBuilder,\n              private modalController: ModalController) {\n    this.form = this.formBuilder.group({\n      description: ['', Validators.required],\n      date: ['', Validators.required],\n      type: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n    if (this.reminder) {\n      this.setReminder();\n    } else {\n      this.form.controls.type.setValue('once');\n    }\n  }\n\n  submit() {\n    if (this.form.valid) {\n      this.showInputErrorMessage = false;\n      this.reminder ? this.updateReminder() : this.storeReminder();\n    } else {\n      this.showInputErrorMessage = true;\n    }\n  }\n\n  storeReminder() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.reminderService.storeReminder(body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.form.reset();\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  updateReminder() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.reminderService.updateReminder(this.reminder, body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.form.reset();\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  setReminder() {\n    this.form.controls.description.setValue(this.reminder.description);\n    this.form.controls.date.setValue(this.reminder.date);\n    this.form.controls.type.setValue(this.reminder.type);\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n\n  setBody() {\n    return {\n      description: this.form.value.description,\n      date: this.form.value.date,\n      type: this.form.value.type,\n    };\n  }\n\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n    <ion-title>RECORDATORIO</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <ion-label>Descripción</ion-label>\n      <textarea formControlName=\"description\"></textarea>\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.description.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label>Fecha</ion-label>\n      <ion-item lines=\"none\" class=\"custom-item\">\n        <ion-datetime displayFormat=\"DD MMMM YYYY\"\n                      formControlName=\"date\"\n                      doneText=\"ok\"\n                      cancelText=\"cancelar\"\n                      monthNames=\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\"\n                      monthShortNames=\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\"\n                      dayNames=\"domingo, lunes, martes, miércoles, jueves, viernes, sábado, domingo\"\n                      dayShortNames=\"dom, lun, mar, mié, jue, vie, sáb, dom\">\n        </ion-datetime>\n      </ion-item>\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.date.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-list>\n        <ion-radio-group formControlName=\"type\">\n          <ion-item lines=\"none\">\n            <ion-label>Una sola vez</ion-label>\n            <ion-radio value=\"once\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Una vez al mes</ion-label>\n            <ion-radio value=\"monthly\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Cada 6 meses</ion-label>\n            <ion-radio value=\"semi_annually\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Una vez al año</ion-label>\n            <ion-radio value=\"yearly\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n    </div>\n  </form>\n\n  <div class=\"ion-text-center ion-margin-bottom\">\n    <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\">\n    </ion-progress-bar>\n    <ion-button class=\"custom-button\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Aceptar\n    </ion-button>\n  </div>\n</ion-content>\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Reminder} from '../../interfaces/Reminder';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReminderService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HttpClient) {\n  }\n\n  getReminders() {\n    return this.http.get(`${this.API_URL}${this.V1}reminders`);\n  }\n\n  storeReminder(body) {\n    return this.http.post(`${this.API_URL}${this.V1}reminders`, body);\n  }\n\n  updateReminder(reminder: Reminder, body) {\n    return this.http.post(`${this.API_URL}${this.V1}reminders/${reminder.id}`, body);\n  }\n\n  deleteReminder(reminder: Reminder) {\n    return this.http.delete(`${this.API_URL}${this.V1}reminders/${reminder.id}`);\n  }\n}\n"],"sourceRoot":"webpack:///"}