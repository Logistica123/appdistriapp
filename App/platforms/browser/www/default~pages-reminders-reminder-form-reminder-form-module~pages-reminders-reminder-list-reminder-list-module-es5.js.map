{"version":3,"sources":["webpack:///src/app/pages/reminders/reminder-form/reminder-form.page.ts","webpack:///src/app/pages/reminders/reminder-form/reminder-form.page.html","webpack:///src/app/services/v1/reminder.service.ts"],"names":["ReminderFormPage","reminderService","formBuilder","modalController","showInputErrorMessage","submitting","form","group","description","required","date","type","ngOnInit","reminder","setReminder","controls","setValue","submit","valid","updateReminder","storeReminder","body","setBody","subscribe","response","reset","dismiss","error","success","value","ReminderService","http","API_URL","V1","getReminders","get","post","id","deleteReminder"],"mappings":"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","file":"default~pages-reminders-reminder-form-reminder-form-module~pages-reminders-reminder-list-reminder-list-module-es5.js","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {ReminderService} from '../../../services/v1/reminder.service';\nimport {Reminder} from '../../../interfaces/Reminder';\nimport {ModalController} from '@ionic/angular';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'app-reminder-form',\n  templateUrl: './reminder-form.page.html',\n  styleUrls: ['./reminder-form.page.scss'],\n})\nexport class ReminderFormPage implements OnInit {\n  @Input() reminder: Reminder;\n  form: FormGroup;\n  showInputErrorMessage = false;\n  submitting = false;\n\n  constructor(private reminderService: ReminderService,\n              private formBuilder: FormBuilder,\n              private modalController: ModalController) {\n    this.form = this.formBuilder.group({\n      description: ['', Validators.required],\n      date: ['', Validators.required],\n      type: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n    if (this.reminder) {\n      this.setReminder();\n    } else {\n      this.form.controls.type.setValue('once');\n    }\n  }\n\n  submit() {\n    if (this.form.valid) {\n      this.showInputErrorMessage = false;\n      this.reminder ? this.updateReminder() : this.storeReminder();\n    } else {\n      this.showInputErrorMessage = true;\n    }\n  }\n\n  storeReminder() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.reminderService.storeReminder(body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.form.reset();\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  updateReminder() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.reminderService.updateReminder(this.reminder, body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.form.reset();\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  setReminder() {\n    this.form.controls.description.setValue(this.reminder.description);\n    this.form.controls.date.setValue(this.reminder.date);\n    this.form.controls.type.setValue(this.reminder.type);\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n\n  setBody() {\n    return {\n      description: this.form.value.description,\n      date: this.form.value.date,\n      type: this.form.value.type,\n    };\n  }\n\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n    <ion-title>RECORDATORIO</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <ion-label>Descripción</ion-label>\n      <textarea formControlName=\"description\"></textarea>\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.description.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label>Fecha</ion-label>\n      <ion-item lines=\"none\" class=\"custom-item\">\n        <ion-datetime displayFormat=\"DD MMMM YYYY\"\n                      formControlName=\"date\"\n                      doneText=\"ok\"\n                      cancelText=\"cancelar\"\n                      monthNames=\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\"\n                      monthShortNames=\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\"\n                      dayNames=\"domingo, lunes, martes, miércoles, jueves, viernes, sábado, domingo\"\n                      dayShortNames=\"dom, lun, mar, mié, jue, vie, sáb, dom\">\n        </ion-datetime>\n      </ion-item>\n      <p class=\"ion-no-margin form-error-message\" *ngIf=\"form.controls.date.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-list>\n        <ion-radio-group formControlName=\"type\">\n          <ion-item lines=\"none\">\n            <ion-label>Una sola vez</ion-label>\n            <ion-radio value=\"once\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Una vez al mes</ion-label>\n            <ion-radio value=\"monthly\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Cada 6 meses</ion-label>\n            <ion-radio value=\"semi_annually\"></ion-radio>\n          </ion-item>\n\n          <ion-item lines=\"none\">\n            <ion-label>Una vez al año</ion-label>\n            <ion-radio value=\"yearly\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n    </div>\n  </form>\n\n  <div class=\"ion-text-center ion-margin-bottom\">\n    <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\">\n    </ion-progress-bar>\n    <ion-button class=\"custom-button\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Aceptar\n    </ion-button>\n  </div>\n</ion-content>\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Reminder} from '../../interfaces/Reminder';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReminderService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HttpClient) {\n  }\n\n  getReminders() {\n    return this.http.get(`${this.API_URL}${this.V1}reminders`);\n  }\n\n  storeReminder(body) {\n    return this.http.post(`${this.API_URL}${this.V1}reminders`, body);\n  }\n\n  updateReminder(reminder: Reminder, body) {\n    return this.http.post(`${this.API_URL}${this.V1}reminders/${reminder.id}`, body);\n  }\n\n  deleteReminder(reminder: Reminder) {\n    return this.http.delete(`${this.API_URL}${this.V1}reminders/${reminder.id}`);\n  }\n}\n"]}