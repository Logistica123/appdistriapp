{"version":3,"sources":["webpack:///src/app/services/v2/transaction.service.ts","webpack:///src/app/pages/wallet/wallet-withdrawal-request-form/wallet-withdrawal-request-form.page.ts","webpack:///src/app/pages/wallet/wallet-withdrawal-request-form/wallet-withdrawal-request-form.page.html"],"names":["TransactionService","http","API_URL","V1","getTransactions","get","storeWithdrawalRequest","body","post","WalletWithdrawalRequestFormPage","formBuilder","transactionService","modalController","showInputErrorMessage","submitting","form","group","type","required","amount","ngOnInit","submit","valid","setBody","subscribe","response","reset","dismiss","error","success","value"],"mappings":"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","file":"default~pages-wallet-wallet-withdrawal-request-form-wallet-withdrawal-request-form-module~wallet-tra~7a323ccd-es5.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TransactionService {\n  API_URL = environment.API_URL;\n  V1 = 'v2/app/';\n\n  constructor(private http: HttpClient) {\n  }\n\n  getTransactions() {\n    return this.http.get(`${this.API_URL}${this.V1}transactions`);\n  }\n\n  storeWithdrawalRequest(body) {\n    return this.http.post(`${this.API_URL}${this.V1}transactions/withdrawal-request`, body);\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ModalController} from '@ionic/angular';\nimport {TransactionService} from '../../../services/v2/transaction.service';\n\n@Component({\n  selector: 'app-wallet-withdrawal-request-form',\n  templateUrl: './wallet-withdrawal-request-form.page.html',\n  styleUrls: ['./wallet-withdrawal-request-form.page.scss'],\n})\nexport class WalletWithdrawalRequestFormPage implements OnInit {\n  form: FormGroup;\n  showInputErrorMessage = false;\n  submitting = false;\n\n  constructor(private formBuilder: FormBuilder,\n              private transactionService: TransactionService,\n              private modalController: ModalController) {\n    this.form = this.formBuilder.group({\n      type: ['', Validators.required],\n      amount: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  submit() {\n    if (this.form.valid) {\n      this.showInputErrorMessage = false;\n      this.storeWithdrawalRequest();\n    } else {\n      this.showInputErrorMessage = true;\n    }\n  }\n\n  storeWithdrawalRequest() {\n    this.submitting = true;\n    const body = this.setBody();\n    this.transactionService.storeWithdrawalRequest(body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.form.reset();\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n\n  setBody() {\n    return {\n      amount: this.form.value.amount,\n      type: this.form.value.type\n    };\n  }\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n    <ion-title>Realizar solicitud</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-text-center\">\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <ion-label>Tipo</ion-label>\n      <ion-list>\n        <ion-radio-group formControlName=\"type\">\n          <ion-item>\n            <ion-label>Adelanto</ion-label>\n            <ion-radio value=\"adelanto\"></ion-radio>\n          </ion-item>\n\n          <ion-item>\n            <ion-label>Retiro</ion-label>\n            <ion-radio value=\"retiro\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n\n      <p class=\"ion-no-margin form-error-message\"\n         *ngIf=\"form.controls.type.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label>Monto</ion-label>\n      <input type=\"number\" formControlName=\"amount\" inputmode=\"number\">\n      <p class=\"ion-no-margin form-error-message\"\n         *ngIf=\"form.controls.amount.invalid && showInputErrorMessage\">\n        Este campo es requerido\n      </p>\n    </div>\n  </form>\n\n  <div class=\"ion-padding\">\n    <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\">\n    </ion-progress-bar>\n    <ion-button class=\"custom-button\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Aceptar\n    </ion-button>\n  </div>\n</ion-content>\n\n"]}