{"version":3,"sources":["webpack:///src/app/components/modals/delivery-order-map/delivery-order-map.component.ts","webpack:///src/app/components/modals/delivery-order-map/delivery-order-map.component.html","webpack:///src/app/components/order-detail-map/order-detail-map.component.html","webpack:///src/app/components/order-detail-map/order-detail-map.component.ts","webpack:///src/app/services/v1/order-offline-manager.service.ts","webpack:///src/app/components/modals/deliver-order/deliver-order.component.html","webpack:///src/app/components/modals/deliver-order/deliver-order.component.ts","webpack:///src/app/services/utils/pusher.service.ts","webpack:///src/app/components/modals/document-form/document-form.component.ts","webpack:///src/app/components/modals/document-form/document-form.component.html","webpack:///src/app/components/modals/location-map/location-map.component.ts","webpack:///src/app/components/modals/location-map/location-map.component.html","webpack:///src/app/services/v1/geolocation.service.ts","webpack:///src/app/services/v1/order-manager.service.ts","webpack:///src/environments/environment.ts","webpack:///src/app/components/toast/toast.component.ts","webpack:///src/app/interfaces/ConnectionStatus.ts","webpack:///src/app/services/utils/http-upload-file.service.ts","webpack:///src/app/services/v1/order.service.ts","webpack:///src/app/components/map/map.component.ts","webpack:///src/app/components/map/map.component.html","webpack:///src/app/services/utils/image-picker.service.ts","webpack:///src/app/components/modals/update-password/update-password.component.ts","webpack:///src/app/components/modals/update-password/update-password.component.html","webpack:///src/app/components/modals/document-image-view/document-image-view.component.ts","webpack:///src/app/components/modals/document-image-view/document-image-view.component.html","webpack:///src/app/popover-service-details/popover-service-details.component.ts","webpack:///src/app/popover-service-details/popover-service-details.component.html","webpack:///src/app/services/v1/auth.service.ts","webpack:///src/app/services/utils/sync.service.ts","webpack:///src/app/services/utils/network.service.ts","webpack:///src/app/services/v1/update-location-request.service.ts","webpack:///src/app/services/v1/interceptor.service.ts","webpack:///src/app/services/v1/device.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/components/modals/update-phone-number/update-phone-number.component.ts","webpack:///src/app/components/modals/update-phone-number/update-phone-number.component.html","webpack:///src/app/components/modals/document-file-image-detail/document-file-image-detail.component.ts","webpack:///src/app/components/modals/document-file-image-detail/document-file-image-detail.component.html","webpack:///src/app/services/utils/mode.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/services/v1/offline-order-manager.service.ts","webpack:///src/app/components/modals/location-form/location-form.component.ts","webpack:///src/app/components/modals/location-form/location-form.component.html","webpack:///src/app/services/v1/service.service.ts","webpack:///src/app/services/v1/location.service.ts","webpack:///src/app/interfaces/ModeStatus.ts","webpack:///src/app/components/modals/not-delivered/not-delivered.component.ts","webpack:///src/app/components/modals/not-delivered/not-delivered.component.html","webpack:///src/app/components/components.module.ts","webpack:///node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///src/app/components/modals/edit-urban-distribution/edit-urban-distribution.component.ts","webpack:///src/app/components/modals/edit-urban-distribution/edit-urban-distribution.component.html","webpack:///src/app/components/modals/image-detail/image-detail.component.ts","webpack:///src/app/components/modals/image-detail/image-detail.component.html","webpack:///src/app/components/loading-spinner/loading-spinner.component.ts","webpack:///src/app/services/v1/driver.service.ts","webpack:///src/app/components/modals/sync-data-loading/sync-data-loading.component.ts","webpack:///src/app/components/modals/sync-data-loading/sync-data-loading.component.html","webpack:///src/app/services/utils/camera.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/services/utils/sync-request-order.service.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["DeliveryOrderMapComponent","navParams","modalController","geolocation","orderService","orders","markers","radius","htmlInfoWindow","type","get","ngOnInit","ngAfterViewInit","setTimeout","loadMap","ionViewWillLeave","watchLocationObservable","unsubscribe","watchLocation","watchPosition","enableHighAccuracy","subscribe","position","console","log","coords","accuracy","driverPosition","google","maps","LatLng","latitude","longitude","driverMarker","setPosition","alert","getCurrentDriverPosition","getCurrentPosition","then","Marker","icon","map","setEnv","API_KEY_FOR_BROWSER_RELEASE","API_KEY_FOR_BROWSER_DEBUG","mapOptions","camera","target","lat","currentOrder","location","lng","zoom","tilt","create","center","moveCamera","circle","addCircleSync","strokeColor","strokeWidth","fillColor","visible","addCurrentOrderMarker","findNearbyMarkers","addMarker","animation","marker","setCenter","on","MARKER_CLICK","m","selectedOrder","close","setInfoWindowContent","open","removeAllMarkers","remove","viewAllMarkers","setVisible","anotherOrders","filter","order","id","status","push","showMarkersByNumber","min","max","Circle","strokeOpacity","strokeWeight","fillOpacity","ordersInRadius","geometry","spherical","computeDistanceBetween","getCenter","getBounds","frame","document","createElement","innerHTML","address","receiver","description","join","getElementsByClassName","addEventListener","setContent","width","classList","add","dismiss","OrderDetailMapComponent","alertController","geolocationService","modeService","updateLocationRequestService","showButton","currentMode","getCurrentModeStatus","initMap","Map","mapElement","nativeElement","draggable","addListener","event","self","presentAlertConfirm","latLng","header","buttons","text","role","cssClass","handler","updateLocationRequest","present","setOriginalLocationsCoords","setZoom","getDriverPosition","updateLocation","body","location_id","store","response","error","STORAGE_REQ_KEY_ORDERS","STORAGE_REQ_KEY_REQS","OrderOfflineManagerService","storage","defaultLat","defaultLng","storeLocation","b","v","s","c","uid","generateId","name","city","full_address","api_geocoded","saved_client","status_es","company_name","details","phone","date","not_delivered_motive","not_delivered_description","flag_color","length","set","storeOrder","Promise","resolve","reject","location_name","location_address","location_city","location_lat","location_lng","err","deleteOrder","filteredOrders","storedOrder","requests","filteredRequests","storedReq","pUid","updateOrder","orderToUpdateIndex","indexOf","setDeliveredOrder","setNotDeliveredOrder","save_client","getOrders","getLocalOrderId","orderUid","filteredOrder","storeOrdersInStorage","deleteOrdersInStorage","updateLocalOrderId","orderId","index","Math","random","toString","replace","substr","floor","DeliverOrderComponent","authService","sanitizer","orderManagerService","cameraService","httpUploadFileService","offlineOrderManagerService","loadingController","toastComponent","barcodeScanner","files","submitting","uploadedFilesIndexes","uploadingErrorFilesIndexes","saveClientFC","checkWatchLocationsSubscription","authToken","takePicture","cameraPhotoFile","presentToast","uploadFiles","i","uploadingFileIndex","file","uploadFile","order_id","viewImage","component","componentProps","modal","success","setOrdersUpdated$","submit","value","deleteImage","splice","PusherService","http","init","pusher","Pusher","key","cluster","forceTLS","authEndpoint","auth","params","headers","Authorization","Accept","DocumentFormComponent","imagePickerService","documents","documentFormControl","pickImages","LocationMapComponent","locationMap","L","mapquest","layers","tileLayer","zoomControl","directionsControl","className","directions","options","timeOverage","doReverseGeocode","locale","directionsLayer","startMarker","title","iconOptions","size","endMarker","viaMarker","routeRibbon","showTraffic","alternateRouteRibbon","paddingTopLeft","paddingBottomRight","startInput","compactResults","disabled","placeholderText","enabled","clearTitle","endInput","addDestinationButton","maxLocations","routeTypeButtons","reverseButton","optionsButton","routeSummary","narrativeControl","interactive","addTo","getPosition","GeolocationService","zone","API_URL","V1","driverPosition$","lastUpdateTime","Date","now","minFrequency","geolocationOptions","timeout","storeDriverGeoposition","post","getDriverPosition$","asObservable","setDriverPosition$","next","getValue","watchPositionSubscription","run","setDriverPositionBody","stopWatchingPosition","altitude","altitude_accuracy","altitudeAccuracy","heading","speed","logDirectionsRouteRequest","OrderManagerService","orderOfflineManagerService","httpClient","orders$","Offline","observer","localOrder","all","storeRequest","values","url","put","pipe","Error","request","getOrdersByDate","day","month","year","val","storeOrdersInLocalStorage","storedOrders","setOrders$","getOrders$","environment","production","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ToastComponent","toastController","message","duration","color","toast","ConnectionStatus","HttpUploadFileService","fileOpener","uri","encodeURI","data","downloadFile","filename","mime","filePath","dataDirectory","split","OrderService","currentOrder$","currentOrders$","ordersUpdated$","setOrderStatus","optimizeOrders","setDeliveryOrderToOrders","getCurrentOrder$","setCurrentOrder$","getCurrentOrders$","setCurrentOrders$","ordersUpdated","getOrdersUpdated$","MapComponent","platform","deliverOrderEvent","notDeliverOrderEvent","updateDeliveryOrderEvent","selectOrderEvent","usingNativeMaps","webMarkers","webInfoWindow","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","suppressMarkers","calculatingRoute","steps","mapLoaded","is","warn","InfoWindow","tryInitMap","ngOnChanges","changes","webMap","webDriverMarker","updateDriverMarkerPosition","currentValue","previousValue","setCurrentOrderMarker","polyline","webPolyline","setMap","markersOrders","setOthersOrdersMarkers","setDriverMarker","mapTypeId","MapTypeId","ROADMAP","webCircle","jsPolyline","currentDriverPosition","isLocationOnEdge","poly","calculateAndDisplayRoute","driverLatLng","driverMarkerPosition","orderLat","orderLng","getMarkerUrl","markerLabel","getMarkerLabel","currentOrderPosition","markerOptions","label","selectOrder","bounds","setNearbyOrderMarkers","fontWeight","LatLngBounds","extend","fitBounds","nearbyOrders","deliverOrder","notDeliverOrder","updateDeliveryOrder","origin","orderedStops","destinationOrder","destination","waypoints","slice","stopover","that","route","travelMode","TravelMode","DRIVING","setDirections","showSteps","directionResult","Polyline","path","points","legs","routes","j","nextSegment","k","point","getPath","routeStep","step","instructions","distance","newRoute","times","leg","setPolyline","addPolyline","geodesic","p","emit","byId","findIndex","o","byUid","ImagePickerService","imagePicker","filesSrc","filenames","imagePickerOptions","getPictures","results","result","substring","lastIndexOf","readAsDataURL","res","dataArray","UpdatePasswordComponent","formBuilder","driverService","loadingSpinnerComponent","updatePasswordForm","group","oldPassword","required","password","passwordConfirmation","submitForm","old_password","password_confirmation","updatePassword","DocumentImageViewComponent","image","PopoverServiceDetailsComponent","popoverController","AuthService","signIn","getAuthToken","SyncService","syncRequestOrderService","syncing$","syncingError$","getCompletedSync$","completedSync","checkIfAllSynced","sync","setSyncing$","storedReqs","syncStoredOrdersRequests","setSyncingError$","deleteOrdersFromLocalStorage","deleteRequestsFromLocalStorage","abortSync","getSyncing$","syncing","getSyncingError$","presentSyncedToast","NetworkService","network","offlineManagerService","networkStatus$","initializeNetworkEvents","disconnectSubscription","onDisconnect","Online","updateNetworkStatus","connectSubscription","onConnect","sendRequests","checkStoredRequests","getNetworkStatus$","getCurrentNetworkStatus","stopNetworkEvents","UpdateLocationRequestService","InterceptorService","loadingCtrl","navController","isLoading","intercept","token","clone","setHeaders","method","isApiRequest","startsWith","includes","presentLoading","handle","dismissLoading","custom_message","navigateRoot","a","DeviceService","device","router","storeDevice","uuid","model","version","getFCMToken","storeFCMToken","fcm_token","getToken","AppComponent","splashScreen","statusBar","animationController","pusherService","deviceService","serviceService","domSanitizer","appRate","showProfileImage","activeService","appPages","initializeApp","ready","styleLightContent","hide","getDriver$","driver","has_profile_img","getProfileImage","initAppRate","getFCMNotifications","ngOnDestroy","pushAllPages","pushLimitedPages","blob","objectURL","URL","createObjectURL","profileImg","bypassSecurityTrustUrl","createAnimation","showPopover","ev","listenForPusherEvents","requestPushPermission","onTokenRefresh","onNotification","wasTapped","preferences","usesUntilPrompt","storeAppURL","android","promptForRating","UpdatePhoneNumberComponent","phoneNumberForm","phoneNumber","presentLoadingSpinner","phone_number","updatePhoneNumber","dismissLoadingSpinner","DocumentFileImageDetailComponent","documentFiles","ModeService","syncService","modeStatus$","updateModeStatus","getModeStatus$","start","errorHandlerFactory","AppModule","provide","useClass","useFactory","multi","useValue","forRoot","backButtonText","STORAGE_REQ_KEY","OfflineOrderManagerService","uploadedReqsP$","sendingReqs$","action","pId","storedRequest","time","getTime","attempts","storedOperations","storedRequests","sendStoredRequests","setSendingReqs$","processedRequestsIds","uploadedP","round","setUploadedP$","op","sendRequest","sr","makeHttpClientRequest","getUrl","JSON","stringify","sendingReq","getSendingReqs$","getUploadedP$","LocationFormComponent","locationService","locationForm","addLocation","setBody","ServiceService","LocationService","networkService","locations$","getLocations","getLocationsByKeyword","keyword","locations","setLocations$","updateLocationCoords","locationId","geocodeAddress","getLocations$","ModeStatus","NotDeliveredComponent","optionFC","showTextarea","showLocationFields","textareaFC","form","locationName","locationAddress","controls","setValue","onOptionChange","detail","ComponentsModule","webpackAsyncContext","req","__webpack_require__","e","code","ids","keys","webpackAsyncContextKeys","Object","module","exports","EditUrbanDistributionComponent","ImageDetailComponent","LoadingSpinnerComponent","spinner","loadingSpinner","DriverService","driver$","getProfile","setDriver$","responseType","getDriverProfileImage","updateProfile","updateContractor","updatePaymentMethods","getPaymentMethods","getRanking","SyncDataLoadingComponent","loading","syncingError","uploadedPSubscription","syncingSubscription","syncErrorSubscription","retry","abort","CameraService","quality","destinationType","DestinationType","FILE_URI","saveToPhotoAlbum","correctOrientation","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","imageFile","imageSrc","imagePath","getPicture","imageData","src","redirectTo","pathMatch","loadChildren","LoginPageModule","LogoutPageModule","HomePageModule","HelpPageModule","NotificationListPageModule","SuggestionFormPageModule","DocumentListPageModule","DocumentFormPageModule","ProfileTabsPageModule","DeliveryOrderMapPageModule","DocumentFileFormPageModule","UrbanDistributionDetailPageModule","UrbanDistributionFormPageModule","UrbanDistributionListPageModule","JourneyListPageModule","JourneyFormPageModule","JourneyDetailPageModule","ReminderListPageModule","ReminderFormPageModule","TollControlListPageModule","TollControlFormPageModule","ProfileTransportPageModule","ProfilePaymentPageModule","WalletTabsPageModule","ControlTabsPageModule","WalletWithdrawalRequestFormPageModule","RankingPageModule","WalletWithdrawalRequestListPageModule","WalletTransactionListPageModule","ProfileFormPageModule","DeliveryMapPageModule","AllOrdersMapPageModule","RegisterPageModule","AppRoutingModule","preloadingStrategy","relativeLinkResolution","SyncRequestOrderService","uploadedP$","completedSync$","setCompletedSync$","sq","bootstrapModule","webpackEmptyAsyncContext"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {ModalController, NavParams} from '@ionic/angular';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {Order} from '../../../interfaces/Order';\nimport {Geolocation, Geoposition} from '@ionic-native/geolocation/ngx';\nimport SlidingMarker from 'marker-animate-unobtrusive';\nimport {\n  Circle,\n  Environment,\n  GoogleMap,\n  GoogleMapOptions,\n  GoogleMaps,\n  GoogleMapsEvent,\n  HtmlInfoWindow,\n  ILatLng, Marker\n} from '@ionic-native/google-maps';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-delivery-order-map',\n  templateUrl: './delivery-order-map.component.html',\n  styleUrls: ['./delivery-order-map.component.scss'],\n})\nexport class DeliveryOrderMapComponent implements OnInit, AfterViewInit {\n  @Input() type: string;\n  @Input() orders: Order[] = [];\n  @Input() currentOrder: Order;\n  selectedOrder: Order;\n  map: GoogleMap;\n  @ViewChild('deliveryOrderMarkersMap', {static: true}) mapElement: ElementRef;\n  watchLocationObservable: any;\n  driverMarker: google.maps.Marker;\n  markers: Marker[] = [];\n  radius = 2500;\n  circle: Circle;\n  htmlInfoWindow = new HtmlInfoWindow();\n\n  constructor(private navParams: NavParams,\n              private modalController: ModalController,\n              private geolocation: Geolocation,\n              private orderService: OrderService) {\n    this.type = this.navParams.get('type');\n  }\n\n  ngOnInit() {\n    // this.getOptimizedOrders();\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.loadMap();\n    }, 2500);\n  }\n\n  ionViewWillLeave() {\n    if (this.watchLocationObservable) {\n      this.watchLocationObservable.unsubscribe();\n    }\n  }\n\n  watchLocation() {\n    this.watchLocationObservable = this.geolocation.watchPosition({enableHighAccuracy: true})\n      .subscribe((position: Geoposition) => {\n        console.log('got in modal ***__');\n        if (position && position.coords && position.coords.accuracy <= 50) {\n          const driverPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n          // const driverPosition = new google.maps.LatLng(-27.497737, -58.828180);\n          this.driverMarker.setPosition(driverPosition);\n          // this.map.setCenter(driverPosition);\n        } else {\n          alert('No se pudo obtener ubicacin actual del conductor. Por favor habilite el GPS en su dispositivo mvil');\n        }\n      });\n  }\n\n  getCurrentDriverPosition() {\n    this.geolocation.getCurrentPosition({enableHighAccuracy: true}).then(position => {\n      if (position && position.coords && position.coords.accuracy <= 50) {\n        const driverPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n        // const driverPosition = new google.maps.LatLng(-27.497737, -58.828180);\n        this.driverMarker = new google.maps.Marker({\n          icon: 'assets/markers/gps.png',\n          position: driverPosition,\n          map: this.map,\n        });\n        // this.map.setCenter(driverPosition);\n        this.watchLocation();\n      } else {\n        alert('No se pudo obtener ubicacin actual del conductor. Por favor habilite el GPS en su dispositivo mvil');\n      }\n    });\n  }\n\n  // getOptimizedOrders() {\n  //   this.orderService.getTodayOptimizedOrders(this.type)\n  //     .subscribe((response: any) => {\n  //       this.orders = response.orders;\n  //       // this.initMap();\n  //       this.loadMap();\n  //     }, error => {\n  //\n  //     }, () => {\n  //\n  //     });\n  // }\n\n  loadMap() {\n    Environment.setEnv({\n      API_KEY_FOR_BROWSER_RELEASE: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w',\n      API_KEY_FOR_BROWSER_DEBUG: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w'\n    });\n\n    const mapOptions: GoogleMapOptions = {\n      camera: {\n        target: {\n          lat: +this.currentOrder.location.lat,\n          lng: +this.currentOrder.location.lng\n        },\n        zoom: 18,\n        tilt: 30\n      }\n    };\n\n    this.map = GoogleMaps.create('deliveryOrderMarkersMap', mapOptions);\n\n    const center: ILatLng = {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng};\n\n    this.map.moveCamera({\n      target: center\n    });\n\n    this.circle = this.map.addCircleSync({\n      center,\n      radius: this.radius,\n      strokeColor: 'rgba(250, 250, 250, 0.8)',\n      strokeWidth: 0,\n      fillColor: 'rgba(250, 250, 250, 0.8)',\n      visible: false\n    });\n    this.addCurrentOrderMarker();\n    // this.selectedOrder = this.currentOrder;\n    this.findNearbyMarkers();\n    // this.addMarkers();\n    // this.getCurrentDriverPosition();\n  }\n\n  addCurrentOrderMarker() {\n    const position: ILatLng = {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng};\n    this.map.addMarker({\n      icon: 'red',\n      animation: 'DROP',\n      position\n    }).then(marker => {\n      // this.markers.push(marker);\n      this.circle.setCenter(position);\n\n      marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n        this.selectedOrder = this.currentOrder;\n        this.htmlInfoWindow.close();\n        this.setInfoWindowContent(this.selectedOrder);\n        this.htmlInfoWindow.open(marker);\n      });\n    });\n  }\n\n  // initMap() {\n  //   setTimeout(() => {\n  //     const lat = +this.orders[0].location.lat;\n  //     const lng = +this.orders[0].location.lng;\n  //     const center = new google.maps.LatLng(lat, lng);\n  //     this.map = new google.maps.Map(this.mapElement.nativeElement, {\n  //       zoom: 12,\n  //       center\n  //     });\n  //     this.addMarkers();\n  //     this.getCurrentDriverPosition();\n  //   }, 1000);\n  // }\n\n  // addMarkers() {\n  //   let i = 1;\n  //   const colors = [\n  //     'yellow', 'green', 'blue'\n  //   ];\n  //   this.orders.map(order => {\n  //     const contentString = `<h4>${order.location.name}</h4><p>${order.location.full_address}</p>`;\n  //     const infoWindow = new google.maps.InfoWindow({\n  //       content: contentString\n  //     });\n  //\n  //     const random = Math.floor(Math.random() * 3) + 1;\n  //     let url = 'http://maps.google.com/mapfiles/ms/icons/';\n  //     url += colors[random - 1] + '-dot.png';\n  //\n  //     const marker = new google.maps.Marker({\n  //       position: new google.maps.LatLng(+order.location.lat, +order.location.lng),\n  //       map: this.map,\n  //       label: {\n  //         text: i.toString(),\n  //         color: 'black',\n  //         fontSize: '24px'\n  //       },\n  //       icon: {\n  //         url\n  //       }\n  //       // icon: order.status === 'delivered' ? 'assets/markers/location-delivered.png' : 'assets/markers/location.png'\n  //     });\n  //\n  //     marker.addListener('click', () => {\n  //       infoWindow.open(this.map, marker);\n  //     });\n  //\n  //     this.markers.push(marker);\n  //     i++;\n  //   });\n  // }\n\n  removeAllMarkers() {\n    this.markers.map(marker => {\n      marker.remove();\n    });\n    this.markers = [];\n  }\n\n  viewAllMarkers() {\n    this.removeAllMarkers();\n    this.circle.setVisible(false);\n    const anotherOrders = this.orders.filter(order =>\n      order.id !== this.currentOrder.id && order.status !== 'delivered');\n\n    anotherOrders.map(order => {\n      const position: ILatLng = {lat: +order.location.lat, lng: +order.location.lng};\n      this.map.addMarker({\n        icon: 'blue',\n        animation: 'DROP',\n        position\n      }).then(marker => {\n        this.markers.push(marker);\n        marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n          this.selectedOrder = order;\n          this.htmlInfoWindow.close();\n          this.setInfoWindowContent(order);\n          this.htmlInfoWindow.open(marker);\n        });\n      });\n    });\n  }\n\n  showMarkersByNumber(min, max) {\n    // this.markers.map(marker => {\n    //   marker.setMap(null);\n    // });\n    // this.markers = [];\n    // const colors = [\n    //   'yellow', 'green', 'blue'\n    // ];\n    //\n    // for (let i = min - 1; i <= max - 1; i++) {\n    //   const order = this.orders[i];\n    //   if (order) {\n    //     const contentString = `<h4>${order.location.name}</h4><p>${order.location.full_address}</p>`;\n    //     const infoWindow = new google.maps.InfoWindow({\n    //       content: contentString\n    //     });\n    //\n    //     const random = Math.floor(Math.random() * 3) + 1;\n    //     let url = 'http://maps.google.com/mapfiles/ms/icons/';\n    //     url += colors[random - 1] + '-dot.png';\n    //\n    //     const marker = new google.maps.Marker({\n    //       position: new google.maps.LatLng(+order.location.lat, +order.location.lng),\n    //       map: this.map,\n    //       label: {\n    //         text: (i + 1).toString(),\n    //         color: 'black',\n    //         fontSize: '24px'\n    //       },\n    //       icon: {\n    //         url\n    //       }\n    //       // icon: order.status === 'delivered' ? 'assets/markers/location-delivered.png' : 'assets/markers/location.png'\n    //     });\n    //\n    //     marker.addListener('click', () => {\n    //       infoWindow.open(this.map, marker);\n    //     });\n    //\n    //     this.markers.push(marker);\n    //   }\n    // }\n  }\n\n  findNearbyMarkers() {\n    this.removeAllMarkers();\n    const anotherOrders = this.orders.filter(order =>\n      order.id !== this.currentOrder.id && order.status !== 'delivered');\n\n    const circle = new google.maps.Circle({\n      strokeColor: 'black',\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: 'blue',\n      fillOpacity: 0.35,\n      center: new google.maps.LatLng(+this.currentOrder.location.lat, +this.currentOrder.location.lng),\n      radius: this.radius\n    });\n\n    const ordersInRadius = anotherOrders.filter(order =>\n      google.maps.geometry.spherical.computeDistanceBetween(\n        new google.maps.LatLng(+order.location.lat, +order.location.lng),\n        circle.getCenter()) <= this.radius\n    );\n\n    ordersInRadius.map(order => {\n      const position: ILatLng = {lat: +order.location.lat, lng: +order.location.lng};\n      this.map.addMarker({\n        icon: 'blue',\n        animation: 'DROP',\n        position\n      }).then(marker => {\n        this.markers.push(marker);\n        marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n          this.selectedOrder = order;\n          this.htmlInfoWindow.close();\n          this.setInfoWindowContent(order);\n          this.htmlInfoWindow.open(marker);\n        });\n      });\n    });\n    this.circle.setVisible(true);\n    this.map.moveCamera({\n      target: this.circle.getBounds()\n    });\n  }\n\n  setInfoWindowContent(order: Order) {\n    const frame: HTMLElement = document.createElement('div');\n    // frame.className = 'map-info-window';\n    frame.innerHTML = [\n      `<h6 style=\"margin: 0; padding: 0\">${order.location.address}</h6>`,\n\n      `<p style=\"margin: 0; padding: 0\">${order.receiver}</p>`,\n\n      `<p style=\"margin: 0; padding: 0\">${order.description}</p>`,\n\n      '<span class=\"close-iw\" style=\"top: 5px; right: 5px; position: absolute\">' +\n      '&times' +\n      '</span>',\n    ].join('');\n    frame.getElementsByClassName('close-iw')[0].addEventListener('click', () => {\n      this.htmlInfoWindow.close();\n    });\n    this.htmlInfoWindow.setContent(frame, {\n      width: '200px',\n      // height: '330px'\n    });\n\n    frame.classList.add('map-info-window');\n  }\n\n  dismiss() {\n    this.modalController.dismiss();\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss()\"></ion-icon>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div #deliveryOrderMarkersMap id=deliveryOrderMarkersMap>\n\n  </div>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button color=\"primary\" size=\"full\" shape=\"round\" (click)=\"viewAllMarkers()\">\n      Ver todos los pendientes\n    </ion-button>\n    <ion-button color=\"primary\" size=\"full\" shape=\"round\" (click)=\"findNearbyMarkers()\">\n      Ver pendientes cercanos a m\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n\n\n<!--<ion-grid>-->\n<!--  <ion-row>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(1, 10)\">1-10</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(11, 20)\">11-20</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(21, 30)\">21-30</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(31, 40)\">31-40</ion-button>-->\n<!--    </ion-col>-->\n<!--  </ion-row>-->\n\n<!--  <ion-row>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(41, 50)\">41-50</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(51, 60)\">51-60</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(61, 70)\">61-70</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(71, 80)\">71-80</ion-button>-->\n<!--    </ion-col>-->\n<!--  </ion-row>-->\n<!--</ion-grid>-->\n\n<!--<ion-button (click)=\"showMarkersByNumber(81, 90)\">81-90</ion-button>-->\n<!--<ion-button (click)=\"showMarkersByNumber(81, 90)\">todos</ion-button>-->\n","<div #orderDetailMap id=\"orderDetailMap\">\n\n</div>\n\n<ion-button size=\"full\" shape=\"round\" (click)=\"getCurrentDriverPosition()\"\n            class=\"ion-text-wrap\" *ngIf=\"showButton && currentMode\">\n  MARCAR UBICACIN CON MIS COORDENADAS ACTUALES\n</ion-button>\n","import {AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {Order} from '../../interfaces/Order';\nimport {AlertController} from '@ionic/angular';\nimport {Geoposition} from '@ionic-native/geolocation';\nimport {UpdateLocationRequestService} from '../../services/v1/update-location-request.service';\nimport {GeolocationService} from '../../services/v1/geolocation.service';\nimport {ModeService} from '../../services/utils/mode.service';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-order-detail-map',\n  templateUrl: './order-detail-map.component.html',\n  styleUrls: ['./order-detail-map.component.scss'],\n})\nexport class OrderDetailMapComponent implements OnInit, AfterViewInit {\n  @Input() order: Order;\n  @ViewChild('orderDetailMap', {static: true}) mapElement: ElementRef;\n  driverPosition: Geoposition;\n  map: any;\n  marker = new google.maps.Marker();\n  zoom = 14;\n  showButton = false;\n  currentMode: any;\n\n  constructor(private alertController: AlertController,\n              private geolocationService: GeolocationService,\n              private modeService: ModeService,\n              private updateLocationRequestService: UpdateLocationRequestService) {\n  }\n\n  ngOnInit() {\n    this.currentMode = this.modeService.getCurrentModeStatus();\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.initMap();\n    }, 1000);\n  }\n\n  initMap() {\n    const position = new google.maps.LatLng(+this.order.location.lat, +this.order.location.lng);\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      zoom: this.zoom,\n      center: position\n    });\n\n    this.marker = new google.maps.Marker({\n      position,\n      map: this.map,\n      draggable: true\n    });\n\n    this.marker.addListener('dragend', event => {\n      const self = this;\n      self.presentAlertConfirm(event.latLng.lat(), event.latLng.lng());\n    });\n\n    this.showButton = true;\n  }\n\n  async presentAlertConfirm(lat, lng) {\n    const alert = await this.alertController.create({\n      header: 'Desea solicitar al administrador actualizar la ubicacin?',\n      // header: 'Desea actualizar la ubicacin?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            // this.setOriginalLocationsCoords();\n          }\n        }, {\n          text: 'S',\n          handler: () => {\n            this.updateLocationRequest(lat, lng);\n            // this.updateLocation(lat, lng);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  setOriginalLocationsCoords() {\n    const lat = this.order.location.lat;\n    const lng = this.order.location.lng;\n    const position = new google.maps.LatLng(lat, lng);\n    this.marker.setPosition(position);\n    this.map.setCenter(position);\n    this.map.setZoom(this.zoom);\n  }\n\n  getCurrentDriverPosition() {\n    this.driverPosition = this.geolocationService.getDriverPosition();\n    const lat = this.driverPosition.coords.latitude;\n    const lng = this.driverPosition.coords.longitude;\n    const position = new google.maps.LatLng(lat, lng);\n    this.marker.setPosition(position);\n    this.map.setCenter(position);\n    this.map.setZoom(this.zoom);\n\n    this.presentAlertConfirm(lat, lng);\n  }\n\n  updateLocation(lat, lng) {\n    // this.loadingSpinnerComponent.presentLoadingSpinner('Actualizando ubicacin').then(() => {\n    //   const body = {\n    //     lat: +lat,\n    //     lng: +lng,\n    //   };\n    //   this.locationService.updateLocationCoords(this.order.location.id, body)\n    //     .subscribe((response: any) => {\n    //       this.orderService.setUpdatedOrders(true);\n    //     }, error => {\n    //       this.loadingSpinnerComponent.dismissLoadingSpinner();\n    //     }, () => {\n    //       this.loadingSpinnerComponent.dismissLoadingSpinner();\n    //     });\n    // });\n  }\n\n  updateLocationRequest(lat, lng) {\n    const body = {\n      lat: +lat,\n      lng: +lng,\n      location_id: this.order.location.id\n    };\n    this.updateLocationRequestService.store(body)\n      .subscribe((response: any) => {\n        // this.locationService.setUpdatedLocations(true);\n      }, error => {\n        //\n      }, () => {\n        //\n      });\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {Storage} from '@ionic/storage';\nimport {Order} from '../../interfaces/Order';\nimport {Location} from '../../interfaces/Location';\nimport {Validators} from '@angular/forms';\n\nconst STORAGE_REQ_KEY_ORDERS = 'distriapporders';\nconst STORAGE_REQ_KEY_REQS = 'distriappreqs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderOfflineManagerService {\n  defaultLat = -27.4862341;\n  defaultLng = -58.8624276;\n\n  constructor(private storage: Storage) {\n  }\n\n  storeLocation(body) {\n    console.log(body);\n\n    const address = body.address\n      ? body.address\n      : `${body.b} ${body.v} ${body.s} ${body.m} ${body.c}`;\n\n    const location: Location = {\n      uid: this.generateId(),\n      name: address,\n      b: body.b,\n      v: body.v,\n      s: body.s,\n      m: body.m,\n      c: body.c,\n      address,\n      city: body.city,\n      lat: this.defaultLat,\n      lng: this.defaultLng,\n      full_address: `${address}, ${body.city}`,\n      api_geocoded: false,\n      saved_client: false\n    };\n\n    const order: Order = {\n      uid: this.generateId(),\n      status: 'pending',\n      status_es: 'pendiente',\n      receiver: body.company_name,\n      description: body.details,\n      phone: body.phone,\n      date: body.date,\n      location_id: body.location_id,\n      not_delivered_motive: '',\n      not_delivered_description: '',\n      type: body.type,\n      flag_color: body.flag_color,\n      location\n    };\n\n    return this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n      if (orders?.length > 0) {\n        orders.push(order);\n      } else {\n        orders = [];\n        orders.push(order);\n      }\n      return this.storage.set(STORAGE_REQ_KEY_ORDERS, orders);\n    });\n  }\n\n  storeOrder(body): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      const location: Location = {\n        uid: this.generateId(),\n        name: body.location_name,\n        b: body.b,\n        v: body.v,\n        s: body.s,\n        m: body.m,\n        c: body.c,\n        address: body.location_address,\n        city: body.location_city,\n        lat: body.location_lat,\n        lng: body.location_lng,\n        full_address: `${body.location_name}, ${body.location_address}, ${body.location_city}`,\n        saved_client: body.saved_client\n      };\n\n      const order: Order = {\n        uid: this.generateId(),\n        status: 'pending',\n        status_es: 'pendiente',\n        receiver: body.company_name,\n        description: body.details,\n        phone: body.phone,\n        date: body.date,\n        location_id: body.location_id,\n        not_delivered_motive: '',\n        not_delivered_description: '',\n        type: body.type,\n        flag_color: body.flag_color,\n        location\n      };\n\n      this.storage.get(STORAGE_REQ_KEY_ORDERS)\n        .then(orders => {\n          if (orders?.length > 0) {\n            orders.push(order);\n          } else {\n            orders = [];\n            orders.push(order);\n          }\n          this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n            .then(() => {\n              resolve(order);\n            }).catch(err => {\n            reject();\n          });\n        }).catch(err => {\n        reject();\n      });\n    });\n  }\n\n  deleteOrder(order: Order): Promise<boolean> {\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n        console.log(orders);\n        if (orders?.length > 0) {\n          // eliminamos la orden de localstorage\n          const filteredOrders = orders.filter(storedOrder => storedOrder.uid !== order.uid);\n          console.log(filteredOrders);\n          this.storage.set(STORAGE_REQ_KEY_ORDERS, filteredOrders)\n            .then(() => {\n              // eliminamos el request...\n              this.storage.get(STORAGE_REQ_KEY_REQS).then(requests => {\n                const filteredRequests = requests.filter(storedReq => storedReq.pUid !== order.uid);\n                console.log(filteredRequests);\n                this.storage.set(STORAGE_REQ_KEY_REQS, filteredRequests)\n                  .then(() => {\n                    resolve(true);\n                  });\n              });\n            });\n        }\n      });\n    });\n  }\n\n  updateOrder(order: Order, body): Promise<boolean> {\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n        console.log(orders);\n        if (orders?.length > 0) {\n          const orderToUpdateIndex = orders.map(storedOrder => {\n            return storedOrder.uid;\n          }).indexOf(order.uid);\n          if (orderToUpdateIndex > -1) {\n            orders[orderToUpdateIndex].receiver = body.receiver;\n            orders[orderToUpdateIndex].description = body.description;\n            orders[orderToUpdateIndex].phone = body.phone;\n            orders[orderToUpdateIndex].city = body.city;\n            orders[orderToUpdateIndex].address = body.address;\n            orders[orderToUpdateIndex].b = body.b;\n            orders[orderToUpdateIndex].v = body.v;\n            orders[orderToUpdateIndex].s = body.s;\n            orders[orderToUpdateIndex].m = body.m;\n            orders[orderToUpdateIndex].c = body.c;\n          }\n          this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n            .then(() => {\n              resolve(true);\n            });\n        }\n      });\n    });\n  }\n\n  setDeliveredOrder(order: Order): Promise<boolean> {\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n        console.log(orders);\n        if (orders?.length > 0) {\n          const orderToUpdateIndex = orders.map(storedOrder => {\n            return storedOrder.uid;\n          }).indexOf(order.uid);\n          if (orderToUpdateIndex > -1) {\n            orders[orderToUpdateIndex].status = 'delivered';\n            orders[orderToUpdateIndex].status_es = 'entregada';\n          }\n          this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n            .then(() => {\n              resolve(true);\n            });\n        }\n      });\n    });\n  }\n\n  setNotDeliveredOrder(order: Order, body): Promise<boolean> {\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n        console.log(orders);\n        if (orders?.length > 0) {\n          const orderToUpdateIndex = orders.map(storedOrder => {\n            return storedOrder.uid;\n          }).indexOf(order.uid);\n          if (orderToUpdateIndex > -1) {\n            console.log(orders[orderToUpdateIndex]);\n            orders[orderToUpdateIndex].status = 'not-delivered';\n            orders[orderToUpdateIndex].status_es = 'no entregada';\n            orders[orderToUpdateIndex].not_delivered_motive = body.not_delivered_motive;\n            orders[orderToUpdateIndex].not_delivered_description = body.not_delivered_description;\n            orders[orderToUpdateIndex].name = body.location_name;\n            orders[orderToUpdateIndex].location.name = body.location_address;\n            orders[orderToUpdateIndex].location.address = body.location_address;\n            orders[orderToUpdateIndex].location.b = body.b;\n            orders[orderToUpdateIndex].location.v = body.v;\n            orders[orderToUpdateIndex].location.s = body.s;\n            orders[orderToUpdateIndex].location.m = body.m;\n            orders[orderToUpdateIndex].location.c = body.c;\n            orders[orderToUpdateIndex].save_client = body.save_client;\n          }\n          this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n            .then(() => {\n              resolve(true);\n            });\n        }\n      });\n    });\n  }\n\n  getOrders() {\n    return this.storage.get(STORAGE_REQ_KEY_ORDERS).then(orders => {\n      console.log(orders);\n      if (orders?.length > 0) {\n        return orders;\n      } else {\n        return [];\n      }\n    });\n  }\n\n  getLocalOrderId(orderUid: string): Promise<any> {\n    console.log('GETTING LOCAL ORDER by orderUid', orderUid);\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS)\n        .then(orders => {\n          console.log(orders);\n          if (orders?.length > 0) {\n            const filteredOrder: Order = orders.filter(order => order.uid === orderUid)[0];\n            console.log('filtered order: ', filteredOrder);\n            if (filteredOrder) {\n              resolve(filteredOrder);\n            }\n          }\n          reject('local order not found');\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  storeOrdersInStorage(orders: Order[]): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n        .then(() => {\n          resolve(orders);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n\n  deleteOrdersInStorage(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.storage.set(STORAGE_REQ_KEY_ORDERS, [])\n        .then(() => {\n          resolve(true);\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  updateLocalOrderId(orderId, orderUid): Promise<any> {\n    console.log('UPDATING LOCAL ORDER ID');\n    return new Promise<any>((resolve, reject) => {\n      this.storage.get(STORAGE_REQ_KEY_ORDERS)\n        .then(orders => {\n          if (orders?.length > 0) {\n            const index = orders.map(order => {\n              return order.uid;\n            }).indexOf(orderUid);\n            console.log(index);\n            if (index > -1) {\n              orders[index].id = orderId;\n            }\n            this.storage.set(STORAGE_REQ_KEY_ORDERS, orders)\n              .then(() => {\n                resolve(orders[index]);\n              }).catch(err => {\n              reject(err);\n            });\n          }\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  generateId(): string {\n    return Math.random()\n        .toString(36)\n        .replace(/[^a-z]+/g, '').substr(0, 5)\n      + (Math.floor(Math.random() * 90 + 10));\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss(false)\">\n        <ion-icon name=\"close\" slot=\"icon-only\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>\n      Entregar orden\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"ion-text-center\">\n    <h6 class=\"ion-no-margin\">\n      <b>{{order.location.address}}</b>\n    </h6>\n    <p class=\"ion-no-margin\">\n      {{order.receiver}} ({{order.phone}})\n    </p>\n    <p class=\"ion-no-margin\">{{order.description ? order.description : ' -'}}</p>\n  </div>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"6\" *ngFor=\"let file of files; let i=index\">\n        <img class=\"control-image\"\n             (click)=\"viewImage(file)\"\n             [src]=\"sanitizer.bypassSecurityTrustUrl(file.src)\"\n             alt=\"control-image\">\n        <ion-icon name=\"trash\" class=\"delete-icon\" (click)=\"deleteImage(i)\"\n                  *ngIf=\"uploadedFilesIndexes.indexOf(i) <= -1\">\n        </ion-icon>\n        <ion-icon name=\"checkmark\" class=\"checkmark-icon\" color=\"success\"\n                  *ngIf=\"uploadedFilesIndexes.indexOf(i) > -1\">\n        </ion-icon>\n        <ion-progress-bar type=\"indeterminate\" *ngIf=\"uploadingFileIndex === i\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <div class=\"ion-text-center\" *ngIf=\"currentMode\">\n    <ion-button class=\"custom-secondary-button\"\n                [disabled]=\"submitting\"\n                (click)=\"takePicture()\">\n      Tomar foto DNI\n    </ion-button>\n  </div>\n</ion-content>\n\n<ion-footer>\n  <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\" class=\"ion-padding-horizontal\">\n  </ion-progress-bar>\n  <ion-toolbar class=\"ion-text-center ion-padding-horizontal\">\n    <ion-item lines=\"none\">\n      <ion-label>Guardar cliente</ion-label>\n      <ion-checkbox color=\"primary\" [formControl]=\"saveClientFC\">\n      </ion-checkbox>\n    </ion-item>\n    <ion-button class=\"custom-button ion-margin-bottom\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Entregar\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\nimport {LoadingController, ModalController} from '@ionic/angular';\nimport {Storage} from '@ionic/storage';\nimport {ToastComponent} from '../../toast/toast.component';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {HttpUploadFileService} from '../../../services/utils/http-upload-file.service';\nimport {CameraPhotoFile} from '../../../interfaces/CameraPhotoFile';\nimport {CameraService} from '../../../services/utils/camera.service';\nimport {AuthService} from '../../../services/v1/auth.service';\nimport {ImageDetailComponent} from '../image-detail/image-detail.component';\nimport {Order} from '../../../interfaces/Order';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {FormControl} from '@angular/forms';\nimport {GeolocationService} from '../../../services/v1/geolocation.service';\nimport {Geoposition} from '@ionic-native/geolocation';\nimport {OrderManagerService} from '../../../services/v1/order-manager.service';\nimport {OfflineOrderManagerService} from '../../../services/v1/offline-order-manager.service';\nimport {ModeService} from '../../../services/utils/mode.service';\n\n@Component({\n  selector: 'app-deliver-order',\n  templateUrl: './deliver-order.component.html',\n  styleUrls: ['./deliver-order.component.scss'],\n})\nexport class DeliverOrderComponent implements OnInit {\n  @Input() order: Order;\n  files: CameraPhotoFile[] = [];\n  submitting = false;\n  uploadedFilesIndexes: number[] = [];\n  uploadingErrorFilesIndexes: number[] = [];\n  uploadingFileIndex: number;\n  authToken: string;\n  saveClientFC = new FormControl();\n  driverPosition: Geoposition;\n  currentMode: any;\n\n  constructor(private authService: AuthService,\n              private storage: Storage,\n              public sanitizer: DomSanitizer,\n              private orderManagerService: OrderManagerService,\n              private orderService: OrderService,\n              private cameraService: CameraService,\n              private geolocationService: GeolocationService,\n              private httpUploadFileService: HttpUploadFileService,\n              private offlineOrderManagerService: OfflineOrderManagerService,\n              private loadingController: LoadingController,\n              private modalController: ModalController,\n              private toastComponent: ToastComponent,\n              private modeService: ModeService,\n              private barcodeScanner: BarcodeScanner) {\n  }\n\n  ngOnInit() {\n    this.checkWatchLocationsSubscription();\n\n    this.storage.get('auth_token').then(authToken => {\n      this.authToken = authToken;\n    });\n\n    this.currentMode = this.modeService.getCurrentModeStatus();\n    console.log(this.currentMode);\n  }\n\n  checkWatchLocationsSubscription() {\n    if (!this.geolocationService.checkWatchLocationsSubscription()) {\n      this.geolocationService.watchPosition();\n    }\n  }\n\n  takePicture() {\n    this.cameraService.takePicture().then((cameraPhotoFile: CameraPhotoFile) => {\n      this.files.push(cameraPhotoFile);\n    }).catch(err => {\n      this.toastComponent.presentToast(\n        `No se pudo acceder a la cmara (error: ${err})`,\n        'middle',\n        3000,\n      );\n    });\n  }\n\n  async uploadFiles() {\n    let i = 0;\n    this.uploadingFileIndex = i;\n    for (const file of this.files) {\n      await this.uploadFile(file.file)\n        .then(() => {\n          this.uploadedFilesIndexes.push(i);\n        })\n        .catch(err => {\n          this.uploadingErrorFilesIndexes.push(i);\n        }).finally(() => {\n          i++;\n          this.uploadingFileIndex = i;\n        });\n    }\n  }\n\n  uploadFile(file): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const body = {\n        order_id: this.order.id.toString()\n      };\n      // this.httpUploadFileService.uploadFile('delivery-images', file, this.authToken, body)\n      this.orderManagerService.uploadFile(this.order, body, file, this.authToken)\n        .subscribe(() => {\n          resolve(true);\n        }, error => {\n          reject(error);\n          this.toastComponent.presentToast('No se pudo carga la imagen de entrega. Intente nuevamente', 'medium', 2500);\n        });\n    });\n  }\n\n  async viewImage(file: CameraPhotoFile) {\n    const modal = await this.modalController.create({\n      component: ImageDetailComponent,\n      componentProps: {file}\n    });\n    await modal.present();\n  }\n\n  dismiss(success) {\n    console.log('clicking dismiss');\n    if (success) {\n      this.order.status = 'delivered';\n      this.order.status_es = 'entregada';\n      this.orderService.setOrdersUpdated$(true);\n    }\n    this.modalController.dismiss({success});\n  }\n\n  submit() {\n    this.submitting = true;\n    this.uploadedFilesIndexes = [];\n    this.uploadingErrorFilesIndexes = [];\n    this.driverPosition = this.geolocationService.getDriverPosition();\n\n    this.uploadFiles().then(() => {\n      console.log('finished uploading files...');\n      const body = {\n        status: 'delivered',\n        save_client: this.saveClientFC.value,\n        lat: this.driverPosition.coords.latitude,\n        lng: this.driverPosition.coords.longitude\n      };\n      this.orderManagerService.setDeliveredOrder(this.order, body)\n        .subscribe((response: any) => {\n          this.submitting = false;\n          this.dismiss(true);\n        });\n    }).catch(err => {\n      this.submitting = false;\n    });\n  }\n\n  deleteImage(i) {\n    this.files.splice(i, 1);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '../../../environments/environment';\n\ndeclare const Pusher: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PusherService {\n  channel;\n  pusher;\n\n  constructor(public http: HttpClient) {\n    //\n  }\n\n  public init(authToken) {\n    this.pusher = new Pusher(environment.pusher.key, {\n      cluster: environment.pusher.cluster,\n      forceTLS: false,\n      authEndpoint: environment.pusher.authEndpoint,\n      auth: {\n        params: {},\n        headers: {\n          Authorization: 'Bearer ' + authToken,\n          Accept: 'application/json'\n        }\n      }\n    });\n\n    return this.pusher;\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController, NavParams} from '@ionic/angular';\nimport {CameraService} from '../../../services/utils/camera.service';\nimport {ImagePickerService} from '../../../services/utils/image-picker.service';\nimport {Document} from '../../../interfaces/Document';\nimport {FormControl} from '@angular/forms';\n\n@Component({\n  selector: 'app-document-form',\n  templateUrl: './document-form.component.html',\n  styleUrls: ['./document-form.component.scss'],\n})\nexport class DocumentFormComponent implements OnInit {\n  @Input() documents: Document[] = [];\n  documentFormControl = new FormControl();\n\n  constructor(private modalController: ModalController,\n              private imagePickerService: ImagePickerService,\n              private navParams: NavParams,\n              private cameraService: CameraService) {\n    this.documents = navParams.get('documents');\n  }\n\n  ngOnInit() {\n\n  }\n\n  takePicture() {\n    this.cameraService.takePicture();\n  }\n\n  pickImages() {\n    // this.imagePickerService.pickImages();\n  }\n\n  submit() {\n    this.modalController.dismiss({document: this.documentFormControl.value, success: true});\n  }\n\n}\n","<ion-content>\n  <ion-list class=\"ion-margin\">\n    <ion-item>\n      <ion-label>TIPO</ion-label>\n      <ion-select placeholder=\"Seleccione\" okText=\"Ok\" cancelText=\"Cancelar\" [formControl]=\"documentFormControl\">\n        <ion-select-option class=\"ion-text-wrap\" *ngFor=\"let document of documents\" [value]=\"document.id\">\n          {{document.name}}\n        </ion-select-option>\n      </ion-select>\n    </ion-item>\n  </ion-list>\n\n  <div class=\"first-item item-section\" tappable (click)=\"takePicture()\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"2\">\n          <ion-icon name=\"camera\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"10\" class=\"item-text\">\n          AGREGAR FOTO\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  <div class=\"item item-section\" tappable (click)=\"pickImages()\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"2\">\n          <ion-icon name=\"images\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"10\" class=\"item-text\">\n          AGREGAR DESDE GALERA\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button color=\"light\" size=\"full\" shape=\"round\" (click)=\"submit()\">\n      ACEPTAR\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n","import {AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {AlertController, ModalController} from '@ionic/angular';\nimport {environment} from '../../../../environments/environment';\n\ndeclare var google;\ndeclare var mqgl;\n\ndeclare var L;\n\n@Component({\n  selector: 'app-location-map',\n  templateUrl: './location-map.component.html',\n  styleUrls: ['./location-map.component.scss'],\n})\nexport class LocationMapComponent implements OnInit, AfterViewInit {\n  @Input() lat: number;\n  @Input() lng: number;\n  map: any;\n  @ViewChild('map', {static: true}) locationMap: ElementRef;\n  marker = new google.maps.Marker();\n\n  constructor(private modalController: ModalController,\n              private alertController: AlertController) {\n  }\n\n  ngOnInit() {\n    // window.setTimeout(() => {\n    //   // this.initMap();\n    //   this.loadMap();\n    // }, 1000);\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      // this.loadMap();\n      this.initMap();\n    }, 5000);\n  }\n\n  initMap() {\n    this.map = new google.maps.Map(this.locationMap.nativeElement, {\n      zoom: 14,\n      center: {lat: this.lat, lng: this.lng},\n    });\n\n    this.marker = new google.maps.Marker({\n      position: {lat: this.lat, lng: this.lng},\n      map: this.map,\n      draggable: true\n    });\n  }\n\n  loadMap() {\n    // -27.418518, lng: -58.984111??\n    // L.mapquest.key = 'L81mEjtgKZDwKMwAsl6YInvGu3IvXXtS';\n\n// 'map' refers to a <div> element with the ID map\n//     L.mapquest.map('map', {\n//       center: [37.7749, -122.4194],\n//       layers: L.mapquest.tileLayer('map'),\n//       zoom: 12\n//     });\n\n    // const map = new mqgl.Map('map', 'L81mEjtgKZDwKMwAsl6YInvGu3IvXXtS', {\n    //   center: [-27.431845, -58.998901],\n    //   zoom: 13,\n    //   pitch: 60,\n    //   bearing: 20\n    // });\n    L.mapquest.key = 'L81mEjtgKZDwKMwAsl6YInvGu3IvXXtS';\n    const map = L.mapquest.map('map', {\n      center: [40.7128, -74.0059],\n      layers: L.mapquest.tileLayer('map'),\n      zoom: 14,\n      zoomControl: false\n    });\n\n    const directionsControl = L.mapquest.directionsControl({\n      className: '',\n      directions: {\n        options: {\n          timeOverage: 25,\n          doReverseGeocode: false,\n          locale: 'es_AR'\n        }\n      },\n      directionsLayer: {\n        startMarker: {\n          title: 'Drag to change location',\n          draggable: true,\n          icon: 'marker-start',\n          iconOptions: {\n            size: 'sm'\n          }\n        },\n        endMarker: {\n          draggable: true,\n          title: 'Drag to change location',\n          icon: 'marker-end',\n          iconOptions: {\n            size: 'sm'\n          }\n        },\n        viaMarker: {\n          title: 'Drag to change route'\n        },\n        routeRibbon: {\n          showTraffic: true\n        },\n        alternateRouteRibbon: {\n          showTraffic: true\n        },\n        paddingTopLeft: [450, 20],\n        paddingBottomRight: [180, 20],\n      },\n      startInput: {\n        compactResults: true,\n        disabled: false,\n        location: {},\n        placeholderText: 'Starting point or click on the map...',\n        geolocation: {\n          enabled: true\n        },\n        clearTitle: 'Remove starting point'\n      },\n      endInput: {\n        compactResults: true,\n        disabled: false,\n        location: {},\n        placeholderText: 'Destination',\n        geolocation: {\n          enabled: true\n        },\n        clearTitle: 'Remove this destination'\n      },\n      addDestinationButton: {\n        enabled: true,\n        maxLocations: 10,\n      },\n      routeTypeButtons: {\n        enabled: true,\n      },\n      reverseButton: {\n        enabled: true,\n      },\n      optionsButton: {\n        enabled: true,\n      },\n      routeSummary: {\n        enabled: true,\n        compactResults: false,\n      },\n      narrativeControl: {\n        enabled: true,\n        compactResults: false,\n        interactive: true,\n      }\n    }).addTo(map);\n\n    // map.load(() => {\n    //   setTimeout(() => {\n    //     map.map.flyTo({speed: 0.5, zoom: 15, pitch: 60, bearing: 180, center: [-27.431845, -58.998901]});\n    //   }, 10000);\n    // });\n\n    // const map = new mqgl.Map('map', 'L81mEjtgKZDwKMwAsl6YInvGu3IvXXtS', {\n    //   center: [-27.431845, -58.998901],\n    //   zoom: 13,\n    //   pitch: 60,\n    //   bearing: 0,\n    //   rotation: 90\n    // });\n    //\n    // this.mapElement = map.load(() => {\n    //   setTimeout(() => {\n    //     map.map.flyTo({speed: 0.5, zoom: 15, pitch: 60, bearing: 180, center: [-27.431845, -58.998901]});\n    //   }, 2000);\n    // });\n\n    // const marker = new mqgl.Marker([-27.431845, -58.998901], {\n    //   icon: map.mapquest.icons.marker(),\n    //   draggable: false\n    // }).bindPopup('Denver, CO').addTo(map);\n    // const map = new mqgl.Map('locationMap', environment.mapquest.key, {\n    //   center: [this.lat, this.lng],\n    //   zoom: 13,\n    //   pitch: 60,\n    //   bearing: 0\n    // });\n    //\n    // map.load(() => {\n    //   setTimeout(() => {\n    //     map.map.flyTo({speed: 0.5, zoom: 15, pitch: 60, bearing: 180, center: [this.lat, this.lng]});\n    //     map.icons.marker.add({lng: this.lat, lat: this.lng}, 'blue-sm.png');\n    //   }, 2000);\n    // });\n\n\n    // const marker = new mqgl.Marker([this.lat, this.lng], {\n    //   icon: map.mapquest.icons.marker(),\n    //   draggable: false\n    // }).bindPopup('Denver, CO').addTo(map);\n  }\n\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: 'Desea confirmar la ubicacin?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            //\n          }\n        }, {\n          text: 'S',\n          handler: () => {\n            this.storeLocation();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  storeLocation() {\n    this.modalController.dismiss({\n      success: true,\n      lat: this.marker.getPosition().lat(),\n      lng: this.marker.getPosition().lng(),\n    });\n  }\n\n  //\n  // updateLocationCoords(lat, lng) {\n  //   this.loadingSpinnerComponent.presentLoadingSpinner().then(() => {\n  //     const body = {\n  //       lat: +lat,\n  //       lng: +lng\n  //     };\n  //     this.locationService.updateLocationCoords(this.location.id, body)\n  //       .subscribe((response: any) => {\n  //         this.locationService.setUpdatedLocations(true);\n  //       }, error => {\n  //         this.loadingSpinnerComponent.dismissLoadingSpinner();\n  //       }, () => {\n  //         this.loadingSpinnerComponent.dismissLoadingSpinner();\n  //       });\n  //   });\n  // }\n\n}\n","<!--<div #locationMap id=\"locationMap\">-->\n\n<!--</div>-->\n\n<div #map id=\"map\">\n\n</div>\n\n<ion-button size=\"full\" color=\"primary\" shape=\"round\" (click)=\"presentAlertConfirm()\">\n  CONFIRMAR UBICACIN\n</ion-button>\n","import {Injectable, NgZone} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Geolocation, GeolocationOptions, Geoposition, PositionError} from '@ionic-native/geolocation/ngx';\nimport {BehaviorSubject, Observable, Subscription} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeolocationService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  driverPosition$ = new BehaviorSubject<Geoposition>(null);\n  watchPositionSubscription: any;\n\n  lastUpdateTime = Date.now();\n  minFrequency = 180000; // milliseconds\n\n  geolocationOptions: GeolocationOptions = {\n    enableHighAccuracy: true,\n    timeout: 10000\n  };\n\n  constructor(public http: HttpClient,\n              private geolocation: Geolocation,\n              public zone: NgZone) {\n  }\n\n  storeDriverGeoposition(body) {\n    return this.http.post(`${this.API_URL}${this.V1}driver-geopositions`, body);\n  }\n\n  getDriverPosition$(): Observable<Geoposition> {\n    return this.driverPosition$.asObservable();\n  }\n\n  setDriverPosition$(position: Geoposition) {\n    console.log('setting new driver position');\n    this.driverPosition$.next(position);\n  }\n\n  getDriverPosition() {\n    return this.driverPosition$.getValue();\n  }\n\n  getCurrentPosition() {\n    return this.geolocation.getCurrentPosition(this.geolocationOptions)\n      .then((position: Geoposition) => {\n        if (position && position.coords) {\n          this.setDriverPosition$(position);\n        }\n      }).catch((error) => {\n        console.log('Error getting location', error);\n      });\n  }\n\n  watchPosition() {\n    console.log('watching position');\n    this.watchPositionSubscription = this.geolocation.watchPosition(this.geolocationOptions)\n      .subscribe((position: Geoposition) => {\n        this.zone.run(() => {\n          console.log('got new position');\n          if (position && position.coords) {\n            this.setDriverPosition$(position);\n            if (this.lastUpdateTime && Date.now() - this.lastUpdateTime < this.minFrequency) {\n              // ignoring position\n            } else {\n              this.setDriverPositionBody(position);\n            }\n          }\n        });\n      });\n  }\n\n  stopWatchingPosition() {\n    console.log('stopping watching position');\n    if (this.watchPositionSubscription) {\n      this.watchPositionSubscription.unsubscribe();\n    }\n  }\n\n  checkWatchLocationsSubscription() {\n    return this.watchPositionSubscription;\n  }\n\n  setDriverPositionBody(position) {\n    const body = {\n      lat: position.coords.latitude,\n      lng: position.coords.longitude,\n      accuracy: position.coords.accuracy,\n      altitude: position.coords.altitude,\n      altitude_accuracy: position.coords.altitudeAccuracy,\n      heading: position.coords.heading,\n      speed: position.coords.speed\n    };\n\n    this.storeDriverGeoposition(body)\n      .subscribe(\n        response => {\n          this.lastUpdateTime = Date.now();\n        });\n  }\n\n  logDirectionsRouteRequest() {\n    return this.http.post(`${this.API_URL}${this.V1}directions-route-request`, null);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Order} from '../../interfaces/Order';\nimport {BehaviorSubject, from, Observable, of} from 'rxjs';\nimport {environment} from '../../../environments/environment';\nimport {OrderOfflineManagerService} from './order-offline-manager.service';\nimport {HttpClient} from '@angular/common/http';\nimport {catchError, map, tap} from 'rxjs/operators';\nimport {OfflineOrderManagerService} from './offline-order-manager.service';\nimport {ModeService} from '../utils/mode.service';\nimport {ModeStatus} from '../../interfaces/ModeStatus';\nimport {HttpUploadFileService} from '../utils/http-upload-file.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderManagerService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  private orders$ = new BehaviorSubject<Order[]>([]);\n\n  constructor(\n    private orderOfflineManagerService: OrderOfflineManagerService,\n    // private networkService: NetworkService,\n    private httpUploadFileService: HttpUploadFileService,\n    private modeService: ModeService,\n    private httpClient: HttpClient,\n    private offlineOrderManagerService: OfflineOrderManagerService) {\n  }\n\n  setNotDeliveredOrder(order: Order, body): Observable<any> {\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.getLocalOrderId(order.uid)\n          .then((localOrder: Order) => {\n            console.log(localOrder);\n            Promise.all([\n              this.orderOfflineManagerService.setNotDeliveredOrder(order, body),\n              this.offlineOrderManagerService.storeRequest('request', 'PUT', body, localOrder.uid, 'not-delivered')\n            ]).then(values => {\n              observer.next({success: true});\n            }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      const url = `${this.API_URL}${this.V1}orders/${order.id}/not-delivered`;\n      return this.httpClient.put(url, body).pipe(\n        catchError(err => {\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  setDeliveredOrder(order: Order, body): Observable<any> {\n    console.log(this.modeService.getCurrentModeStatus());\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.getLocalOrderId(order.uid)\n          .then((localOrder: Order) => {\n            console.log(localOrder);\n            Promise.all([\n              this.orderOfflineManagerService.setDeliveredOrder(order),\n              this.offlineOrderManagerService.storeRequest('request', 'PUT', body, localOrder.uid, 'delivered')\n            ]).then(values => {\n              observer.next({success: true});\n            }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      const url = `${this.API_URL}${this.V1}orders/${order.id}/delivered`;\n      return this.httpClient.put(url, body).pipe(\n        catchError(err => {\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  deleteOrder(order: Order): Observable<any> {\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.deleteOrder(order).then(() => {\n          observer.next({success: true});\n        }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      const url = `${this.API_URL}${this.V1}orders/${order.id}`;\n      return this.httpClient.delete(url).pipe(\n        catchError(err => {\n          // this.offlineManager.storeRequest(url, 'PUT', data);\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  updateOrder(order: Order, body): Observable<any> {\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.getLocalOrderId(order.uid)\n          .then((localOrder: Order) => {\n            console.log(localOrder);\n            Promise.all([\n              this.orderOfflineManagerService.updateOrder(order, body),\n              this.offlineOrderManagerService.storeRequest('request', 'PUT', body, localOrder.uid, 'update')\n            ]).then(values => {\n              observer.next({success: true});\n            }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      const url = `${this.API_URL}${this.V1}orders/${order.id}`;\n      return this.httpClient.put(url, body).pipe(\n        catchError(err => {\n          // this.offlineManager.storeRequest(url, 'PUT', data);\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  storeLocation(body): Observable<any> {\n    console.log('attempting to store location');\n    const url = `${this.API_URL}${this.V1}locations`;\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.storeLocation(body)\n          .then(order => {\n            console.log(order);\n            this.offlineOrderManagerService.storeRequest('request', 'POST', body, order.uid, 'store-location')\n              .then(request => {\n                console.log(request);\n                observer.next();\n              }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      return this.httpClient.post(url, body).pipe(\n        catchError(err => {\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  store(body): Observable<any> {\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.storeOrder(body)\n          .then(order => {\n            console.log(order);\n            this.offlineOrderManagerService.storeRequest('request', 'POST', body, order.uid, 'store')\n              .then(request => {\n                console.log(request);\n                observer.next();\n              }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      const url = `${this.API_URL}${this.V1}orders`;\n      return this.httpClient.post(url, body).pipe(\n        catchError(err => {\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  uploadFile(order: Order, body, file, authToken): Observable<any> {\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return new Observable((observer: any) => {\n        this.orderOfflineManagerService.getLocalOrderId(order.uid)\n          .then((localOrder: Order) => {\n            console.log(localOrder);\n            Promise.all([\n              this.orderOfflineManagerService.updateOrder(order, body),\n              this.offlineOrderManagerService.storeRequest('file', 'POST', body, localOrder.uid, 'upload-file', null, file, authToken)\n            ]).then(values => {\n              observer.next({success: true});\n            }).catch(err => {\n              observer.error(err);\n            });\n          }).catch(err => {\n          observer.error(err);\n        });\n      });\n    } else {\n      return of(this.httpUploadFileService.uploadFile('delivery-images', file, authToken, body))\n        .pipe(\n          catchError(err => {\n            throw new Error(err);\n          })\n        );\n    }\n  }\n\n  getOrdersByDate(type, day, month, year) {\n    console.log(`*****GETTING ORDERS BY DATE ${type} ${day} ${month} ${year}`);\n    console.log(this.modeService.getCurrentModeStatus());\n    if (this.modeService.getCurrentModeStatus() === ModeStatus.Offline) {\n      return from(this.orderOfflineManagerService.getOrders());\n    } else {\n      const url = `${this.API_URL}${this.V1}orders/type/${type}/day/${day}/month/${month}/year/${year}`;\n      return this.httpClient.get(url).pipe(\n        map((response: any) => response.orders),\n        tap({\n          next: val => {\n            console.log('on next');\n            console.log(val);\n            this.orderOfflineManagerService.deleteOrdersInStorage()\n              .finally(() => {\n                return val;\n              });\n          }\n        }),\n        catchError(err => {\n          console.log(err);\n          throw new Error(err);\n        })\n      );\n    }\n  }\n\n  storeOrdersInLocalStorage(orders: Order[]): Promise<Order[]> {\n    return new Promise((resolve, reject) => {\n      this.orderOfflineManagerService.storeOrdersInStorage(orders)\n        .then(storedOrders => {\n          resolve(storedOrders);\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  // observables\n  setOrders$(orders: Order[]) {\n    console.log('setting orders observable', orders);\n    this.orders$.next(orders);\n  }\n\n  getOrders$(): Observable<Order[]> {\n    return this.orders$.asObservable();\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  API_URL: 'https://api.distriapp.com.ar/api/',\n  firebaseConfig : {\n    apiKey: 'AIzaSyDw54VQaZ91JdVUw7_p98c_lTxa8Pt5Icw',\n    authDomain: 'distriapp-2021.firebaseapp.com',\n    projectId: 'distriapp-2021',\n    storageBucket: 'distriapp-2021.appspot.com',\n    messagingSenderId: '396718208421',\n    appId: '1:396718208421:web:a7a2f7c51a3cd98f5f644c',\n    measurementId: 'G-1TCZ2SCEM2'\n  },\n  mapquest: {\n    key: 'L81mEjtgKZDwKMwAsl6YInvGu3IvXXtS'\n  },\n  pusher: {\n    key: '70177c7279134eac5800',\n    cluster: 'us2',\n    // authEndpoint: 'http://localhost:8005/broadcasting/auth'\n   authEndpoint: 'https://api.distriapp.com.ar/broadcasting/auth'\n\n  },\n  // storageKeys: {\n  //   requests: 'distriappreqs',\n  //   orders: 'distriapporders'\n  // }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Component, OnInit} from '@angular/core';\nimport {ToastController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-toast',\n  templateUrl: './toast.component.html',\n  styleUrls: ['./toast.component.scss'],\n})\nexport class ToastComponent implements OnInit {\n\n  constructor(private toastController: ToastController) {\n  }\n\n  ngOnInit() {\n  }\n\n  async presentToast(message, position, duration = 2000, color = 'dark') {\n    const toast = await this.toastController.create({\n      message,\n      duration,\n      position,\n      color\n    });\n    await toast.present();\n  }\n\n}\n","export enum ConnectionStatus {\n  Offline,\n  Online\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HTTP} from '@ionic-native/http/ngx';\nimport {File} from '@ionic-native/file/ngx';\nimport {FileOpener} from '@ionic-native/file-opener/ngx';\nimport {Storage} from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpUploadFileService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HTTP,\n              private fileOpener: FileOpener,\n              private storage: Storage,\n              private file: File) {\n  }\n\n  uploadFile(url, file, authToken, body) {\n    const uri = encodeURI(`${this.API_URL}${this.V1}${url}`);\n    const headers = {\n      'Content-Type': 'multipart/form-data',\n      Authorization: 'Bearer ' + authToken\n    };\n\n    return new Promise((resolve, reject) => {\n      this.http.uploadFile(uri, body, headers, encodeURI(file), 'file')\n        .then((data) => {\n          resolve(true);\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  downloadFile(url, body, authToken, filename, mime) {\n    const uri = encodeURI(`${this.API_URL}${this.V1}${url}`);\n    const headers = {\n      'Content-Type': 'multipart/form-data',\n      Authorization: 'Bearer ' + authToken\n    };\n\n    const filePath = this.file.dataDirectory + filename.split(' ').join('_');\n    // for iOS use this.file.documentsDirectory\n\n    return new Promise((resolve, reject) => {\n      this.http.downloadFile(uri, body, headers, filePath)\n        .then((data) => {\n          this.fileOpener.open(filePath, mime)\n            .then(() => {\n              resolve(true);\n            })\n            .catch(err => {\n              reject(err);\n            });\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Order} from '../../interfaces/Order';\nimport {BehaviorSubject, Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  private currentOrder$ = new BehaviorSubject<Order>(null);\n  private currentOrders$ = new BehaviorSubject<Order[]>(null);\n\n  ordersUpdated$ = new BehaviorSubject<boolean>(false);\n\n  // private currentOrdersToDeliverSource = new BehaviorSubject<Order[]>(null);\n  // currentOrdersToDeliver = this.currentOrdersToDeliverSource.asObservable();\n\n  // private ordersUpdated = new BehaviorSubject<boolean>(false);\n  // currentOrders = this.ordersUpdated.asObservable();\n\n  // private order = new BehaviorSubject<Order>(null);\n  // currentOrder = this.order.asObservable();\n\n  constructor(private http: HttpClient) {\n  }\n\n  // getOrders(type) {\n  //   return this.http.get(`${this.API_URL}${this.V1}orders/${type}`);\n  // }\n\n  updateOrder(order: Order, body) {\n    return this.http.put(`${this.API_URL}${this.V1}orders/${order.id}`, body);\n  }\n\n  //\n  // getTodayOrders(type) {\n  //   return this.http.get(`${this.API_URL}${this.V1}orders/today/${type}`);\n  // }\n\n\n  //\n  // getTodayOptimizedOrders(type) {\n  //   return this.http.get(`${this.API_URL}${this.V1}orders/today/optimized/${type}`);\n  // }\n  //\n  // getOrdersByDeliveryOrder(type) {\n  //   return this.http.get(`${this.API_URL}${this.V1}orders/delivery-order/type/${type}`);\n  // }\n  //\n  // getCurrentOrder() {\n  //   return this.http.get(`${this.API_URL}${this.V1}orders/current-order`);\n  // }\n\n\n  // updateCurrentOrdersToDeliver(orders: Order[]) {\n  //   this.currentOrdersToDeliverSource.next(orders);\n  // }\n\n  // updateCurrentOrder(order: Order) {\n  //   this.order.next(order);\n  // }\n\n  // setUpdatedOrders(updated: boolean) {\n  //   this.ordersUpdated.next(updated);\n  // }\n\n  /////\n  store(body) {\n    return this.http.post(`${this.API_URL}${this.V1}orders`, body);\n  }\n\n  getOrdersByDate(type, day, month, year) {\n    return this.http.get(`${this.API_URL}${this.V1}orders/type/${type}/day/${day}/month/${month}/year/${year}`);\n  }\n\n  setOrderStatus(order: Order, body) {\n    return this.http.put(`${this.API_URL}${this.V1}orders/${order.id}/status`, body);\n  }\n\n  setNotDeliveredOrder(order: Order, body) {\n    return this.http.put(`${this.API_URL}${this.V1}orders/${order.id}/not-delivered`, body);\n  }\n\n  setDeliveredOrder(order: Order, body) {\n    return this.http.put(`${this.API_URL}${this.V1}orders/${order.id}/delivered`, body);\n  }\n\n  optimizeOrders(body) {\n    return this.http.post(`${this.API_URL}${this.V1}orders/optimize`, body);\n  }\n\n  deleteOrder(order: Order) {\n    return this.http.delete(`${this.API_URL}${this.V1}orders/${order.id}`);\n  }\n\n  setDeliveryOrderToOrders(body) {\n    return this.http.put(`${this.API_URL}${this.V1}orders/delivery-order`, body);\n  }\n\n  // Observables\n  getCurrentOrder$(): Observable<Order> {\n    return this.currentOrder$.asObservable();\n  }\n\n  setCurrentOrder$(order: Order) {\n    this.currentOrder$.next(order);\n  }\n\n  getCurrentOrders$(): Observable<Order[]> {\n    return this.currentOrders$.asObservable();\n  }\n\n  setCurrentOrders$(orders: Order[]) {\n    this.currentOrders$.next(orders);\n  }\n\n  setOrdersUpdated$(ordersUpdated: boolean) {\n    this.ordersUpdated$.next(ordersUpdated);\n  }\n\n  getOrdersUpdated$(): Observable<boolean> {\n    return this.ordersUpdated$.asObservable();\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport {Order} from '../../interfaces/Order';\nimport {Geoposition} from '@ionic-native/geolocation';\nimport {\n  Circle,\n  Environment, GoogleMap,\n  GoogleMapOptions,\n  GoogleMaps,\n  GoogleMapsEvent, HtmlInfoWindow,\n  ILatLng,\n  LatLngBounds,\n  Marker, Polyline\n} from '@ionic-native/google-maps';\nimport {Step} from '../../interfaces/Step';\nimport {GeolocationService} from '../../services/v1/geolocation.service';\nimport {Platform} from '@ionic/angular';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss'],\n})\nexport class MapComponent implements OnInit, OnChanges, AfterViewInit {\n  @Input() currentOrder: Order;\n  @Input() nearbyOrders: Order[];\n  @Input() markersOrders: Order[];\n  @Input() driverPosition: Geoposition;\n  @Input() orders: Order[] = [];\n  @Input() radius: number;\n\n  @Output() deliverOrderEvent = new EventEmitter();\n  @Output() notDeliverOrderEvent = new EventEmitter();\n  @Output() updateDeliveryOrderEvent = new EventEmitter();\n  @Output() selectOrderEvent = new EventEmitter<Order>();\n\n  @ViewChild('distriAppMap', {static: true}) mapElement: ElementRef;\n  map: GoogleMap;\n  driverMarker: Marker;\n  markers: Marker[] = [];\n  circle: Circle;\n  htmlInfoWindow: HtmlInfoWindow | null = null;\n  polyline: Polyline;\n  jsPolyline: any;\n\n  usingNativeMaps = false;\n\n  webMap: google.maps.Map;\n  webDriverMarker: google.maps.Marker;\n  webMarkers: google.maps.Marker[] = [];\n  webCircle: google.maps.Circle;\n  webPolyline: google.maps.Polyline;\n  webInfoWindow: google.maps.InfoWindow | null = null;\n\n  directionsService = new google.maps.DirectionsService();\n  directionsDisplay = new google.maps.DirectionsRenderer({suppressMarkers: true});\n  calculatingRoute = false;\n  steps: Step[] = [];\n\n  mapLoaded = false;\n\n  constructor(private geolocationService: GeolocationService,\n              private platform: Platform) {\n    this.usingNativeMaps = this.platform.is('hybrid');\n\n    if (this.usingNativeMaps) {\n      try {\n        this.htmlInfoWindow = new HtmlInfoWindow();\n      } catch (error) {\n        console.warn('HtmlInfoWindow not available in this platform', error);\n        this.htmlInfoWindow = null;\n      }\n    } else {\n      try {\n        this.webInfoWindow = new google.maps.InfoWindow();\n      } catch (error) {\n        console.warn('Google Maps InfoWindow not available', error);\n        this.webInfoWindow = null;\n      }\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.tryInitMap();\n    }, 500);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.tryInitMap();\n\n    if ((this.map && this.driverMarker && this.driverPosition) ||\n      (!this.usingNativeMaps && this.webMap && this.webDriverMarker && this.driverPosition)) {\n      console.log('****GOT NEW DRIVER POSITION');\n      this.updateDriverMarkerPosition();\n    }\n\n    if ((this.map && this.driverMarker) || (!this.usingNativeMaps && this.webMap && this.webDriverMarker)) {\n      if (changes.currentOrder?.currentValue?.id !== changes.currentOrder?.previousValue?.id) {\n        console.log('****GOT NEW CURRENT ORDER');\n        this.setCurrentOrderMarker();\n        if (this.polyline) {\n          this.polyline.remove();\n        }\n        if (this.webPolyline) {\n          this.webPolyline.setMap(null);\n        }\n      }\n    }\n\n    console.log(changes);\n    console.log(changes.markersOrders);\n    if (changes.orders) {\n      this.setCurrentOrderMarker();\n    }\n    if (changes.markersOrders) {\n      this.setOthersOrdersMarkers();\n    }\n  }\n\n  private tryInitMap() {\n    if (this.mapLoaded) {\n      return;\n    }\n\n    if (!this.driverPosition || !this.driverPosition.coords || !this.currentOrder?.location?.lat || !this.currentOrder?.location?.lng) {\n      return;\n    }\n\n    this.initMap();\n    this.mapLoaded = true;\n  }\n\n  initMap() {\n    if (!this.driverPosition || !this.driverPosition.coords) {\n      console.warn('Driver position is not available yet. Map initialization postponed.');\n      this.mapLoaded = false;\n      return;\n    }\n\n    if (this.usingNativeMaps) {\n      Environment.setEnv({\n        API_KEY_FOR_BROWSER_RELEASE: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w',\n        API_KEY_FOR_BROWSER_DEBUG: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w'\n      });\n\n      const mapOptions: GoogleMapOptions = {\n        camera: {\n          target: {\n            lat: +this.currentOrder.location.lat,\n            lng: +this.currentOrder.location.lng\n          },\n          zoom: 18,\n          tilt: 30\n        }\n      };\n\n      this.map = GoogleMaps.create(this.mapElement.nativeElement, mapOptions);\n\n      const center: ILatLng = {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng};\n\n      this.map.moveCamera({\n        target: center\n      });\n\n      this.circle = this.map.addCircleSync({\n        center,\n        radius: this.radius,\n        strokeColor: 'rgba(250, 250, 250, 0.5)',\n        strokeWidth: 1,\n        fillColor: 'rgba(250, 250, 250, 0.6)',\n        visible: false\n      });\n\n      this.setDriverMarker();\n    } else {\n      const center = new google.maps.LatLng(+this.currentOrder.location.lat, +this.currentOrder.location.lng);\n      this.webMap = new google.maps.Map(this.mapElement.nativeElement, {\n        center,\n        zoom: 16,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      });\n\n      this.webCircle = new google.maps.Circle({\n        center,\n        radius: this.radius,\n        strokeColor: 'rgba(250, 250, 250, 0.5)',\n        strokeWeight: 1,\n        fillColor: 'rgba(250, 250, 250, 0.6)',\n        map: this.webMap,\n        visible: false\n      });\n\n      this.setDriverMarker();\n    }\n  }\n\n  updateDriverMarkerPosition() {\n    if (!this.driverPosition || !this.driverPosition.coords) {\n      return;\n    }\n\n    if (this.usingNativeMaps && this.driverMarker) {\n      const driverPosition: ILatLng = {\n        lat: this.driverPosition.coords.latitude,\n        lng: this.driverPosition.coords.longitude\n      };\n      this.driverMarker.setPosition(driverPosition);\n    } else if (!this.usingNativeMaps && this.webDriverMarker) {\n      this.webDriverMarker.setPosition({\n        lat: this.driverPosition.coords.latitude,\n        lng: this.driverPosition.coords.longitude\n      });\n    }\n\n    if (this.jsPolyline) {\n      const currentDriverPosition = new google.maps.LatLng(this.driverPosition.coords.latitude, this.driverPosition.coords.longitude);\n      const isLocationOnEdge = google.maps.geometry.poly.isLocationOnEdge(currentDriverPosition, this.jsPolyline, 0.0005);\n      if (!isLocationOnEdge && !this.calculatingRoute) {\n        if (this.usingNativeMaps && this.polyline) {\n          this.polyline.remove();\n        }\n        if (!this.usingNativeMaps && this.webPolyline) {\n          this.webPolyline.setMap(null);\n        }\n        this.calculateAndDisplayRoute();\n      } else {\n        console.log('NOT calculating route! - *******');\n      }\n    }\n  }\n\n  setDriverMarker() {\n    if (!this.driverPosition || !this.driverPosition.coords) {\n      return;\n    }\n\n    const driverLatLng = {\n      lat: this.driverPosition.coords.latitude,\n      lng: this.driverPosition.coords.longitude\n    };\n\n    if (this.usingNativeMaps) {\n      const driverMarkerPosition: ILatLng = driverLatLng;\n\n      this.map.addMarker({\n        icon: {\n          url: './assets/images/navigation_dot.png'\n        },\n        animation: 'DROP',\n        position: driverMarkerPosition,\n      }).then(marker => {\n        this.driverMarker = marker;\n        this.setCurrentOrderMarker();\n      });\n    } else {\n      if (this.webDriverMarker) {\n        this.webDriverMarker.setPosition(driverLatLng);\n      } else {\n        this.webDriverMarker = new google.maps.Marker({\n          position: driverLatLng,\n          map: this.webMap,\n          icon: {\n            url: './assets/images/navigation_dot.png'\n          }\n        });\n      }\n      this.setCurrentOrderMarker();\n    }\n  }\n\n  setCurrentOrderMarker() {\n    if (this.usingNativeMaps && !this.map) {\n      return;\n    }\n    if (!this.usingNativeMaps && !this.webMap) {\n      return;\n    }\n\n    this.removeAllMarkers();\n\n    const orderLat = +this.currentOrder.location.lat;\n    const orderLng = +this.currentOrder.location.lng;\n    const url = this.getMarkerUrl(this.currentOrder);\n\n    const markerLabel = this.getMarkerLabel(this.currentOrder);\n\n    if (this.usingNativeMaps) {\n      const currentOrderPosition: ILatLng = {lat: orderLat, lng: orderLng};\n\n      this.circle.setVisible(false);\n\n      const markerOptions: any = {\n        icon: {\n          url\n        },\n        animation: 'DROP',\n        position: currentOrderPosition\n      };\n      if (markerLabel) {\n        markerOptions.label = markerLabel;\n      }\n\n      this.map.addMarker(markerOptions).then(marker => {\n        this.markers.push(marker);\n\n        marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\n          this.selectOrder(this.currentOrder);\n          if (this.htmlInfoWindow) {\n            this.htmlInfoWindow.close();\n            this.setInfoWindowContent(this.currentOrder);\n            this.htmlInfoWindow.open(marker);\n          }\n        });\n\n        const bounds: LatLngBounds = new LatLngBounds([\n          {lat: orderLat, lng: orderLng},\n          {lat: this.driverMarker.getPosition().lat, lng: this.driverMarker.getPosition().lng}\n        ]);\n        this.map.moveCamera({\n          target: bounds\n        });\n        this.circle.setCenter(currentOrderPosition);\n        this.circle.setVisible(true);\n        this.setNearbyOrderMarkers();\n        this.calculateAndDisplayRoute();\n      });\n    } else {\n      if (!this.webMap) {\n        return;\n      }\n\n      const currentOrderPosition = new google.maps.LatLng(orderLat, orderLng);\n      const markerOptions: google.maps.MarkerOptions = {\n        position: currentOrderPosition,\n        map: this.webMap,\n        icon: {url}\n      };\n      if (markerLabel) {\n        markerOptions.label = {\n          text: markerLabel,\n          color: '#ffffff',\n          fontWeight: 'bold'\n        } as google.maps.MarkerLabel;\n      }\n      const marker = new google.maps.Marker(markerOptions);\n      this.webMarkers.push(marker);\n\n      marker.addListener('click', () => {\n        this.selectOrder(this.currentOrder);\n        if (this.webInfoWindow) {\n          this.setInfoWindowContent(this.currentOrder);\n          this.webInfoWindow.open(this.webMap, marker);\n        }\n      });\n\n      if (this.webDriverMarker) {\n        const bounds = new google.maps.LatLngBounds();\n        bounds.extend(currentOrderPosition);\n        bounds.extend(this.webDriverMarker.getPosition());\n        this.webMap.fitBounds(bounds);\n      } else {\n        this.webMap.setCenter(currentOrderPosition);\n      }\n\n      if (this.webCircle) {\n        this.webCircle.setCenter(currentOrderPosition);\n        this.webCircle.setVisible(true);\n      }\n\n      this.setNearbyOrderMarkers();\n      this.calculateAndDisplayRoute();\n    }\n  }\n\n  setNearbyOrderMarkers() {\n    if (this.usingNativeMaps && !this.map) {\n      return;\n    }\n    if (!this.usingNativeMaps && !this.webMap) {\n      return;\n    }\n\n    this.nearbyOrders.map(order => {\n      const url = this.getMarkerUrl(order);\n      const lat = +order.location.lat;\n      const lng = +order.location.lng;\n\n      const label = this.getMarkerLabel(order);\n\n      if (this.usingNativeMaps) {\n        const position: ILatLng = {lat, lng};\n        const markerOptions: any = {\n          icon: {\n            url\n          },\n          animation: 'DROP',\n          position\n        };\n        if (label) {\n          markerOptions.label = label;\n        }\n        this.map.addMarker(markerOptions).then(marker => {\n          this.markers.push(marker);\n\n          marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\n            this.selectOrder(order);\n            if (this.htmlInfoWindow) {\n              this.htmlInfoWindow.close();\n              this.setInfoWindowContent(order);\n              this.htmlInfoWindow.open(marker);\n            }\n          });\n        });\n      } else if (this.webMap) {\n        const position = new google.maps.LatLng(lat, lng);\n        const markerOptions: google.maps.MarkerOptions = {\n          position,\n          map: this.webMap,\n          icon: {url}\n        };\n        if (label) {\n          markerOptions.label = {\n            text: label,\n            color: '#ffffff',\n            fontWeight: 'bold'\n          } as google.maps.MarkerLabel;\n        }\n        const marker = new google.maps.Marker(markerOptions);\n\n        marker.addListener('click', () => {\n          this.selectOrder(order);\n          if (this.webInfoWindow) {\n            this.setInfoWindowContent(order);\n            this.webInfoWindow.open(this.webMap, marker);\n          }\n        });\n\n        this.webMarkers.push(marker);\n      }\n    });\n  }\n\n  viewAllMarkers() {\n    if (this.usingNativeMaps && this.circle) {\n      this.circle.setVisible(false);\n    }\n    if (!this.usingNativeMaps && this.webCircle) {\n      this.webCircle.setVisible(false);\n    }\n    this.removeAllMarkers();\n    this.setNearbyOrderMarkers();\n  }\n\n  setInfoWindowContent(order: Order) {\n    const frame: HTMLElement = document.createElement('div');\n    // frame.className = 'map-info-window';\n    frame.innerHTML = [\n      `<h6 style=\"margin: 0; padding: 0\">${order.location.address}</h6>`,\n      `<p style=\"margin: 0; padding: 0\">${order.receiver} (${order.phone})</p>`,\n      `<p style=\"margin: 0; padding: 0\">${order.description ? order.description : '-'}</p>`,\n      `<h6 style=\"margin: 0; padding: 0; text-align: center; text-decoration: underline\" class=\"update-delivery-order-button-iw\">Cambiar orden</h6>`,\n\n      `<div style=\"width: 100%; display: flex; padding: 10px;\">` +\n      `<div style=\"width: 50%; text-align: center\">` +\n      '<button class=\"deliver-order-button-iw\" ' +\n      'style=\"padding: 5px 10px; margin: 0 auto; background: transparent; color: black; border: 1px solid gray; border-radius: 10px; min-height: 35px; outline: none\">' +\n      'Entregar' +\n      '</button>' +\n      '</div>' +\n\n      `<div style=\"width: 50%; text-align: center\">` +\n      '<button class=\"not-deliver-order-button-iw\" ' +\n      'style=\"padding: 5px 10px; margin: 0 auto; background: transparent; color: black; border: 1px solid gray; border-radius: 10px; min-height: 35px; outline: none\">' +\n      'No entregado' +\n      '</button>' +\n      '</div>' +\n\n      '</div>',\n\n      '<span class=\"close-iw\" style=\"top: 5px; right: 5px; position: absolute\">' +\n      '&times' +\n      '</span>',\n    ].join('');\n    frame.getElementsByClassName('deliver-order-button-iw')[0].addEventListener('click', () => {\n      this.deliverOrder();\n    });\n    frame.getElementsByClassName('not-deliver-order-button-iw')[0].addEventListener('click', () => {\n      this.notDeliverOrder();\n    });\n    frame.getElementsByClassName('update-delivery-order-button-iw')[0].addEventListener('click', () => {\n      this.updateDeliveryOrder();\n    });\n    frame.getElementsByClassName('close-iw')[0].addEventListener('click', () => {\n      if (this.htmlInfoWindow) {\n        this.htmlInfoWindow.close();\n      }\n      if (this.webInfoWindow) {\n        this.webInfoWindow.close();\n      }\n    });\n    if (this.htmlInfoWindow) {\n      this.htmlInfoWindow.setContent(frame, {\n        width: '200px',\n        // height: '330px'\n      });\n    }\n    if (this.webInfoWindow) {\n      this.webInfoWindow.setContent(frame);\n    }\n  }\n\n  calculateAndDisplayRoute() {\n    console.log('--**--calculating route...');\n    const origin = new google.maps.LatLng(+this.driverPosition.coords.latitude, +this.driverPosition.coords.longitude);\n\n    const orderedStops = (this.orders && this.orders.length > 0)\n      ? this.orders\n      : [this.currentOrder];\n\n    const destinationOrder = orderedStops[orderedStops.length - 1];\n    const destination = new google.maps.LatLng(+destinationOrder.location.lat, +destinationOrder.location.lng);\n\n    const waypoints = orderedStops.slice(0, orderedStops.length - 1)\n      .filter(order => order && order.location)\n      .map(order => ({\n        location: new google.maps.LatLng(+order.location.lat, +order.location.lng),\n        stopover: true\n      }));\n    this.calculatingRoute = true;\n    const that = this;\n    this.directionsService.route({\n      origin,\n      destination,\n      waypoints,\n      travelMode: google.maps.TravelMode.DRIVING\n    }, (response, status) => {\n      if (status === 'OK') {\n        that.directionsDisplay.setDirections(response);\n        this.showSteps(response);\n      } else {\n        alert('No se pudo obtener las direcciones desde el API de Google. Intente nuevamente');\n      }\n    });\n\n    setTimeout(() => {\n      this.calculatingRoute = false;\n    }, 15000);\n\n    this.geolocationService.logDirectionsRouteRequest().subscribe();\n  }\n\n  showSteps(directionResult) {\n    const polyline = new google.maps.Polyline({\n      path: [],\n      strokeColor: '#0000FF',\n      strokeWeight: 6\n    });\n    const bounds = new google.maps.LatLngBounds();\n\n    const points = [];\n    const legs = directionResult.routes[0].legs;\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < legs.length; i++) {\n      // tslint:disable-next-line:no-shadowed-variable\n      const steps = legs[i].steps;\n      // tslint:disable-next-line:prefer-for-of\n      for (let j = 0; j < steps.length; j++) {\n        const nextSegment = steps[j].path;\n        // tslint:disable-next-line:prefer-for-of\n        for (let k = 0; k < nextSegment.length; k++) {\n          const point: ILatLng = {lat: nextSegment[k].lat(), lng: nextSegment[k].lng()};\n          points.push(point);\n          polyline.getPath().push(nextSegment[k]);\n          bounds.extend(nextSegment[k]);\n        }\n      }\n    }\n\n    const steps = directionResult.routes[0].legs[0].steps;\n    steps.map(routeStep => {\n      const step: Step = {\n        instructions: routeStep.instructions,\n        distance: routeStep.distance.text\n      };\n      this.steps.push(step);\n    });\n\n    const newRoute = directionResult.routes[0].legs;\n    const times = [];\n\n    newRoute.map(leg => {\n      times.push({\n        distance: leg.distance.value,\n        duration: leg.duration.value\n      });\n    });\n\n    this.jsPolyline = polyline;\n    this.setPolyline(points);\n  }\n\n  setPolyline(polyline) {\n    if (this.usingNativeMaps) {\n      this.map.addPolyline({\n        points: polyline,\n        color: '#0000FF',\n        geodesic: true,\n        width: 4\n      }).then((p: Polyline) => {\n        this.polyline = p;\n      });\n    } else if (this.webMap) {\n      if (this.webPolyline) {\n        this.webPolyline.setMap(null);\n      }\n      this.webPolyline = new google.maps.Polyline({\n        path: polyline,\n        strokeColor: '#0000FF',\n        strokeOpacity: 1,\n        strokeWeight: 4,\n        map: this.webMap\n      });\n    }\n  }\n\n  setOthersOrdersMarkers() {\n    console.log(this.markersOrders);\n    console.log(this.markers);\n  }\n\n  removeAllMarkers() {\n    if (this.usingNativeMaps) {\n      this.markers.map(marker => {\n        marker.remove();\n      });\n      this.markers = [];\n    } else {\n      this.webMarkers.map(marker => marker.setMap(null));\n      this.webMarkers = [];\n    }\n  }\n\n  deliverOrder() {\n    this.deliverOrderEvent.emit();\n  }\n\n  notDeliverOrder() {\n    this.notDeliverOrderEvent.emit();\n  }\n\n  updateDeliveryOrder() {\n    this.updateDeliveryOrderEvent.emit();\n  }\n\n  selectOrder(order: Order) {\n    this.selectOrderEvent.emit(order);\n  }\n\n  getMarkerUrl(order: Order) {\n    if (order.flag_color === '#FF4051') {\n      // return 'https://maps.google.com/mapfiles/ms/icons/red.png';\n      return './assets/markers/red.png';\n    } else if (order.flag_color === '#ffd700') {\n      // return 'https://maps.google.com/mapfiles/ms/icons/yellow.png';\n      return './assets/markers/yellow.png';\n    }\n    // return 'https://maps.google.com/mapfiles/ms/icons/green.png';\n    return './assets/markers/green.png';\n  }\n\n  private getMarkerLabel(order: Order): string {\n    if (!order || !this.orders || this.orders.length === 0) {\n      return '';\n    }\n\n    const byId = this.orders.findIndex(o => o?.id === order?.id && o?.id != null);\n    if (byId !== -1) {\n      return (byId + 1).toString();\n    }\n\n    const byUid = this.orders.findIndex(o => o?.uid === order?.uid);\n    return byUid !== -1 ? (byUid + 1).toString() : '';\n  }\n}\n","<div #distriAppMap id=\"distriAppMap\">\n\n</div>\n\n","import {Injectable} from '@angular/core';\nimport {ImagePicker, ImagePickerOptions} from '@ionic-native/image-picker/ngx';\nimport {File} from '@ionic-native/file/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImagePickerService {\n  files: any = [];\n  filesSrc: any = [];\n  filenames: string[] = [];\n\n  constructor(private imagePicker: ImagePicker,\n              private file: File) {\n  }\n\n  pickImages(imagePickerOptions: ImagePickerOptions) {\n    return new Promise((resolve, reject) => {\n      this.imagePicker.getPictures(imagePickerOptions).then((results) => {\n        results.map(result => {\n          this.files = [];\n          this.filesSrc = [];\n          this.filenames = [];\n\n          this.files.push(result);\n          const filename = result.substring(result.lastIndexOf('/') + 1);\n          const path = result.substring(0, result.lastIndexOf('/') + 1);\n          this.file.readAsDataURL(path, filename).then(res => this.filesSrc.push(res));\n          this.filenames.push(filename);\n          const dataArray = [\n            this.files,\n            this.filesSrc,\n            this.filenames\n          ];\n          resolve(dataArray);\n        });\n      }, (err) => {\n        reject(err);\n      });\n    });\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {DriverService} from '../../../services/v1/driver.service';\nimport {ModalController} from '@ionic/angular';\nimport {LoadingSpinnerComponent} from '../../loading-spinner/loading-spinner.component';\n\n@Component({\n  selector: 'app-update-password',\n  templateUrl: './update-password.component.html',\n  styleUrls: ['./update-password.component.scss'],\n})\nexport class UpdatePasswordComponent implements OnInit {\n  updatePasswordForm: FormGroup;\n\n  constructor(private formBuilder: FormBuilder,\n              private driverService: DriverService,\n              private loadingSpinnerComponent: LoadingSpinnerComponent,\n              private modalController: ModalController) {\n    this.updatePasswordForm = this.formBuilder.group({\n      oldPassword: ['', Validators.required],\n      password: ['', Validators.required],\n      passwordConfirmation: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  submitForm() {\n    const body = {\n      old_password: this.updatePasswordForm.value.oldPassword,\n      password: this.updatePasswordForm.value.password,\n      password_confirmation: this.updatePasswordForm.value.passwordConfirmation,\n    };\n\n    this.driverService.updatePassword(body)\n      .subscribe((response: any) => {\n        //\n      }, error => {\n        //\n      }, () => {\n        this.modalController.dismiss({success: true});\n      });\n  }\n\n}\n","<ion-content class=\"ion-padding ion-margin-top\">\n  <form [formGroup]=\"updatePasswordForm\">\n    <div class=\"form-group\">\n      <ion-label>Contrasea actual</ion-label>\n      <input type=\"password\" formControlName=\"oldPassword\">\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label position=\"floating\">Contrasea</ion-label>\n      <input type=\"password\" formControlName=\"password\">\n    </div>\n\n    <div class=\"form-group\">\n      <ion-label position=\"floating\">Confirmar contrasea</ion-label>\n      <input type=\"password\" formControlName=\"passwordConfirmation\">\n    </div>\n  </form>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button color=\"primary\"\n                shape=\"round\"\n                size=\"full\"\n                [disabled]=\"!updatePasswordForm.valid\"\n                (click)=\"submitForm()\">\n      ACEPTAR\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController, NavParams} from '@ionic/angular';\n\n@Component({\n  selector: 'app-document-image-view',\n  templateUrl: './document-image-view.component.html',\n  styleUrls: ['./document-image-view.component.scss'],\n})\nexport class DocumentImageViewComponent implements OnInit {\n  @Input() image: string;\n\n  constructor(private modalController: ModalController,\n              private navParams: NavParams) {\n    this.image = navParams.get('image');\n  }\n\n  ngOnInit() {\n    //\n  }\n\n  dismiss() {\n    this.modalController.dismiss();\n  }\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss()\"></ion-icon>\n    </ion-buttons>\n    <ion-title>DETALLE DE IMAGEN</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\">\n        <img [src]=\"image\" alt=\"\" width=\"100%\" height=\"400\" style=\"object-fit: contain\">\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Service} from '../interfaces/Service';\nimport {PopoverController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-popover-service-details',\n  templateUrl: './popover-service-details.component.html',\n  styleUrls: ['./popover-service-details.component.scss'],\n})\nexport class PopoverServiceDetailsComponent implements OnInit {\n  @Input() service: Service;\n\n  constructor(private popoverController: PopoverController) { }\n\n  ngOnInit() {}\n\n  dismiss(success) {\n    this.popoverController.dismiss({success});\n  }\n\n}\n","<ion-content>\n  <p>\n    {{service.description}}\n  </p>\n\n  <ion-button>\n    Aceptar\n  </ion-button>\n\n  <ion-button (click)=\"dismiss(false)\">\n    Cancelar\n  </ion-button>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Storage} from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HttpClient,\n              private storage: Storage) {\n  }\n\n  signIn(body) {\n    return this.http.post(`${this.API_URL}${this.V1}auth/sign-in`, body);\n  }\n\n  getAuthToken(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      this.storage.get('auth_token')\n        .then(authToken => {\n          resolve(authToken);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {ToastComponent} from '../../components/toast/toast.component';\nimport {Storage} from '@ionic/storage';\nimport {SyncRequestOrderService} from './sync-request-order.service';\n\nconst STORAGE_REQ_KEY_ORDERS = 'distriapporders';\nconst STORAGE_REQ_KEY_REQS = 'distriappreqs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SyncService {\n  private syncing$ = new BehaviorSubject<boolean>(false);\n  private syncingError$ = new BehaviorSubject<boolean>(false);\n\n  constructor(private toastComponent: ToastComponent,\n              private syncRequestOrderService: SyncRequestOrderService,\n              private storage: Storage) {\n    this.syncRequestOrderService.getCompletedSync$()\n      .subscribe(completedSync => {\n        console.log(`completedSync: ${completedSync}`);\n        if (completedSync) {\n          this.checkIfAllSynced();\n        }\n      });\n  }\n\n  sync() {\n    console.log('syncing...');\n    this.setSyncing$(true);\n    this.storage.get(STORAGE_REQ_KEY_REQS)\n      .then(storedReqs => {\n        if (storedReqs) {\n          this.syncRequestOrderService.syncStoredOrdersRequests(storedReqs)\n            .then(res => {\n              // this.checkIfAllSynced();\n              // this.setSyncing$(false);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        } else {\n          console.log('nothing to be sent');\n          this.setSyncing$(false);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setSyncing$(false);\n      });\n  }\n\n  checkIfAllSynced() {\n    console.log('checking if all synced...');\n    this.storage.get(STORAGE_REQ_KEY_REQS)\n      .then(storedReqs => {\n        console.log(`checking stored requests:`, storedReqs);\n        console.log(storedReqs?.length > 0);\n        if (storedReqs?.length > 0) {\n          console.log('Ocurri un error...');\n          this.setSyncingError$(true);\n        } else {\n          this.deleteOrdersFromLocalStorage();\n        }\n      });\n  }\n\n  deleteOrdersFromLocalStorage() {\n    console.log('deleting from local storage...');\n    this.storage.remove(STORAGE_REQ_KEY_ORDERS)\n      .then(() => {\n        this.setSyncingError$(false);\n        this.setSyncing$(false);\n      });\n  }\n\n  deleteRequestsFromLocalStorage() {\n    this.storage.remove(STORAGE_REQ_KEY_REQS);\n  }\n\n  async abortSync() {\n    console.log('aborting sync...');\n    await this.deleteRequestsFromLocalStorage();\n    this.deleteOrdersFromLocalStorage();\n  }\n\n  getSyncing$(): Observable<boolean> {\n    return this.syncing$.asObservable();\n  }\n\n  setSyncing$(syncing) {\n    this.syncing$.next(syncing);\n  }\n\n  getSyncingError$(): Observable<boolean> {\n    return this.syncingError$.asObservable();\n  }\n\n  setSyncingError$(syncing) {\n    this.syncingError$.next(syncing);\n  }\n\n  presentSyncedToast() {\n    this.toastComponent.presentToast(\n      'Sincronizacin finalizada',\n      'bottom',\n      2000,\n      'success'\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Network} from '@ionic-native/network/ngx';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {ConnectionStatus} from '../../interfaces/ConnectionStatus';\nimport {OfflineOrderManagerService} from '../v1/offline-order-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n  private networkStatus$: BehaviorSubject<ConnectionStatus> = new BehaviorSubject(ConnectionStatus.Offline);\n\n  connectSubscription: any;\n  disconnectSubscription: any;\n\n  constructor(private network: Network,\n              private offlineManagerService: OfflineOrderManagerService) {\n\n  }\n\n  initializeNetworkEvents() {\n    console.log('initializing network events');\n    console.log('current network status', this.network.type);\n    this.disconnectSubscription = this.network.onDisconnect().subscribe(() => {\n      if (this.networkStatus$.getValue() === ConnectionStatus.Online) {\n        console.log('WE ARE OFFLINE');\n        this.updateNetworkStatus(ConnectionStatus.Offline);\n      }\n    });\n\n    this.connectSubscription = this.network.onConnect().subscribe(() => {\n      if (this.networkStatus$.getValue() === ConnectionStatus.Offline) {\n        console.log('WE ARE ONLINE');\n        this.updateNetworkStatus(ConnectionStatus.Online);\n      }\n    });\n  }\n\n  updateNetworkStatus(status: ConnectionStatus) {\n    this.networkStatus$.next(status);\n    if (status === ConnectionStatus.Online) {\n      this.sendRequests();\n    }\n  }\n\n  sendRequests() {\n    console.log('trying to send all requests...');\n    this.offlineManagerService.checkStoredRequests();\n  }\n\n  getNetworkStatus$(): Observable<ConnectionStatus> {\n    return this.networkStatus$.asObservable();\n  }\n\n  getCurrentNetworkStatus(): ConnectionStatus {\n    return this.networkStatus$.getValue();\n  }\n\n  stopNetworkEvents() {\n    if (this.connectSubscription) {\n      this.connectSubscription.unsubscribe();\n    }\n\n    if (this.disconnectSubscription) {\n      this.disconnectSubscription.unsubscribe();\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UpdateLocationRequestService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private http: HttpClient) {\n  }\n\n  store(body) {\n    return this.http.post(`${this.API_URL}${this.V1}update-location-requests`, body);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Storage} from '@ionic/storage';\nimport {ToastComponent} from '../../components/toast/toast.component';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {EMPTY, from, Observable, throwError} from 'rxjs';\nimport {catchError, map, switchMap} from 'rxjs/operators';\nimport {environment} from '../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InterceptorService {\n  isLoading = false;\n\n  constructor(private storage: Storage,\n              private toastComponent: ToastComponent,\n              public loadingCtrl: LoadingController,\n              private navController: NavController) {\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return from(this.storage.get('auth_token'))\n      .pipe(\n        switchMap(token => {\n          if (token) {\n            request = request.clone({\n              setHeaders: {\n                Accept: `application/json`,\n                'Content-Type': `application/json`,\n                Authorization: `Bearer ${token}`\n              }\n            });\n          }\n          if (!environment.production) {\n            console.log(request.url);\n            console.log(request.method);\n          }\n          // if (!(request.url.includes('./assets')\n          //   || request.url.includes('driver-geopositions') && request.method === 'POST')\n          //   || (request.url.includes('drivers/profile/image') && request.method === 'GET')\n          //   || (request.url.includes('drivers/profile') && request.method === 'GET')\n          //   || (request.url.includes('drivers/ranking') && request.method === 'GET')\n          //   || (request.url.includes('devices') && request.method === 'POST')\n          //   || (request.url.includes('devices/fcm-token') && request.method === 'POST')\n          //   || (request.url.includes('fuel-controls') && request.method === 'GET')\n          //   || (request.url.includes('locations') && request.method === 'GET')\n          //   || (request.url.includes('locations') && request.method === 'POST')\n          //   || (request.url.includes('orders') && request.method === 'POST')\n          //   || (request.url.includes('orders/type/') && request.method === 'GET')\n          //   || (request.url.includes('orders/optimize') && request.method === 'POST')\n          //   || (request.url.includes('operation-controls') && request.method === 'GET')\n          //   || (request.url.includes('payment-methods') && request.method === 'GET')\n          //   || (request.url.includes('profile-image') && request.method === 'GET')\n          //   || (request.url.includes('reminders') && request.method === 'GET')\n          //   || (request.url.includes('routes') && request.url.includes('locations') && request.method === 'POST')\n          //   || (request.url.includes('toll-controls') && request.method === 'GET')\n          // ) {\n          const isApiRequest = request.url.startsWith(environment.API_URL);\n\n          if (\n            (request.url.includes('auth/sign-in') && request.method === 'POST')\n          ) {\n            console.log('presenting loading...');\n            console.log(request.url);\n            console.log(request.method);\n            this.presentLoading();\n          }\n          return next.handle(request).pipe(\n            map((event: HttpEvent<any>) => {\n              if (event instanceof HttpResponse) {\n                this.dismissLoading().then(() => {\n                  //\n                }).catch(err => {\n                  console.log(err);\n                });\n                if (!environment.production) {\n                  console.log(event.body);\n                }\n                if (event.body.custom_message) {\n                  this.toastComponent.presentToast(event.body.custom_message, 'bottom');\n                }\n              }\n              return event;\n            }),\n            catchError((error: HttpErrorResponse) => {\n              this.dismissLoading().then(() => {\n                //\n              }).catch(err => {\n                if (!environment.production) {\n                  console.error(err);\n                }\n              });\n              console.log('ERROR');\n              if (!environment.production) {\n                console.error(error);\n              }\n              if (error.status === 401 && isApiRequest) {\n                this.navController.navigateRoot('login').then(() => {\n                  if (error.error.custom_message) {\n                    this.toastComponent.presentToast(error.error.custom_message, 'bottom');\n                  } else {\n                    this.toastComponent.presentToast('Por favor inicie sesin', 'bottom');\n                  }\n                });\n              } else {\n                if (error.url.indexOf('driver-locations') > 0) {\n                  // driver location could not be stored\n                } else {\n                  if (error.error.custom_message) {\n                    this.toastComponent.presentToast(error.error.custom_message, 'bottom');\n                  } else {\n                    if (!request.url.includes('http://www.mapquestapi.com/geocoding/v1/address')) {\n                      this.toastComponent.presentToast('Ocurri un error', 'bottom');\n                    }\n                    // alert(JSON.stringify(error));\n                  }\n                }\n\n              }\n              return throwError(error);\n              // return EMPTY;\n            })\n          );\n        })\n      );\n  }\n\n  async presentLoading() {\n    this.isLoading = true;\n    return await this.loadingCtrl.create({\n      cssClass: 'custom-loading',\n      duration: 60000,\n    }).then(a => {\n      a.present().then(() => {\n        if (!this.isLoading) {\n          a.dismiss().then(() => console.log());\n        }\n      });\n    });\n  }\n\n  // Cierre del loading\n  async dismissLoading() {\n    this.isLoading = false;\n    return await this.loadingCtrl.dismiss().then(() => console.log('dismissed'));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {NavController} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport {Device} from '@ionic-native/device/ngx';\nimport {FCM} from 'cordova-plugin-fcm-with-dependecy-updated/ionic';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeviceService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private device: Device,\n              private router: Router,\n              private navController: NavController,\n              private http: HttpClient) {\n  }\n\n  storeDevice() {\n    const body = {\n      uuid: this.device.uuid,\n      model: this.device.model,\n      platform: this.device.platform,\n      version: this.device.version\n    };\n    this.http.post(`${this.API_URL}${this.V1}devices`, body)\n      .subscribe((response: any) => {\n        this.getFCMToken();\n      });\n  }\n\n  storeFCMToken(token) {\n    const body = {\n      uuid: this.device.uuid,\n      fcm_token: token\n    };\n    return this.http.put(`${this.API_URL}${this.V1}devices/fcm-token`, body);\n  }\n\n  getFCMToken() {\n    FCM.getToken().then(token => {\n      this.storeFCMToken(token)\n        .subscribe((response: any) => {\n          //\n        }, err => {\n          //\n        });\n    }).catch(err => {\n      //\n    });\n  }\n}\n","import {Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\n\nimport {Animation, AnimationController, Platform, PopoverController} from '@ionic/angular';\nimport {SplashScreen} from '@ionic-native/splash-screen/ngx';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\nimport {Router} from '@angular/router';\nimport {DriverService} from './services/v1/driver.service';\nimport {Driver} from './interfaces/Driver';\nimport {DomSanitizer} from '@angular/platform-browser';\n// import {PopoverServiceDetailsComponent} from './popover-service-details/popover-service-details.component';\nimport {PusherService} from './services/utils/pusher.service';\nimport {AuthService} from './services/v1/auth.service';\nimport {ServiceService} from './services/v1/service.service';\nimport {Service} from './interfaces/Service';\nimport {DeviceService} from './services/v1/device.service';\nimport {FCM} from 'cordova-plugin-fcm-with-dependecy-updated/ionic';\nimport {ToastComponent} from './components/toast/toast.component';\nimport {AppRate} from '@ionic-native/app-rate/ngx';\nimport {Subscription} from 'rxjs';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    styleUrls: ['app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n    @ViewChild('fabButtonAnim', {static: true}) fabButton: ElementRef;\n    service: Service;\n    showProfileImage = false;\n\n    driver: Driver;\n    profileImg: any;\n    anim: Animation;\n    activeService = false;\n    driverSubscription: Subscription;\n\n    // appPages = [];\n\n    public appPages = [\n        {\n            title: 'DISTRIBUCIN URBANA',\n            url: '/urban-distribution-list',\n            icon: 'trail-sign-outline'\n        },\n        {\n            title: 'VIAJES',\n            url: '/journey-list',\n            icon: 'map-outline'\n        },\n        {\n            title: 'CONTROLES',\n            url: '/control-tabs/operation-control',\n            icon: 'options-outline'\n        },\n        {\n            title: 'Billetera',\n            url: '/wallet-transaction-list',\n            icon: 'wallet-outline'\n        },\n        {\n            title: 'Ranking',\n            url: '/ranking',\n            icon: 'trophy-outline'\n        },\n        {\n            title: 'MANTENIMIENTO',\n            url: '/document-list',\n            icon: 'construct-outline'\n        },\n        {\n            title: 'RECORDATORIOS',\n            url: '/reminder-list',\n            icon: 'alarm-outline'\n        },\n        {\n            title: 'NOTIFICACIONES',\n            url: '/notification-list',\n            icon: 'notifications-outline'\n        },\n        {\n            title: 'PROPONER MEJORAS',\n            url: '/suggestion-form',\n            icon: 'bulb-outline'\n        },\n        {\n            title: 'PERFIL',\n            url: '/profile/profile-data',\n            icon: 'person-circle-outline'\n        },\n        {\n            title: 'AYUDA',\n            url: '/help',\n            icon: 'help-circle-outline'\n        }\n    ];\n\n    constructor(\n        private platform: Platform,\n        private splashScreen: SplashScreen,\n        private statusBar: StatusBar,\n        private authService: AuthService,\n        private driverService: DriverService,\n        private toastComponent: ToastComponent,\n        private popoverController: PopoverController,\n        private animationController: AnimationController,\n        private pusherService: PusherService,\n        private deviceService: DeviceService,\n        private serviceService: ServiceService,\n        private domSanitizer: DomSanitizer,\n        private router: Router,\n        private appRate: AppRate\n    ) {\n        this.initializeApp();\n    }\n\n    initializeApp() {\n        this.platform.ready().then(() => {\n            this.statusBar.styleLightContent();\n            this.splashScreen.hide();\n            // this.listenForPusherEvents();\n            // this.createAnimation();\n\n            this.driverService.getDriver$()\n                .subscribe(driver => {\n                    console.log('************************************');\n                    console.log('GOT DRIVER******************');\n                    console.log('************************************');\n                    console.log('************************************');\n\n                    if (driver) {\n                        // this.appPages = [];\n                        this.showProfileImage = false;\n                        this.driver = driver;\n                        if (this.driver.has_profile_img) {\n                            this.getProfileImage();\n                        }\n                        // this.driver.admin_created ? this.pushAllPages() : this.pushLimitedPages();\n                    }\n                });\n\n            this.initAppRate();\n            this.getFCMNotifications();\n        });\n    }\n\n    ngOnInit(): void {\n        // this.pushAllPages();\n\n    }\n\n    ngOnDestroy() {\n        // if (this.driverSubscription) {\n        //     this.driverSubscription.unsubscribe();\n        // }\n    }\n\n    pushAllPages() {\n        this.appPages.push({\n            title: 'DISTRIBUCIN URBANA',\n            url: '/urban-distribution-list',\n            icon: 'trail-sign-outline'\n        });\n        this.appPages.push({\n            title: 'VIAJES',\n            url: '/journey-list',\n            icon: 'map-outline'\n        });\n        this.appPages.push({\n            title: 'CONTROLES',\n            url: '/control-tabs/operation-control',\n            icon: 'options-outline'\n        });\n        this.appPages.push({\n            title: 'Billetera',\n            url: '/wallet-transaction-list',\n            icon: 'wallet-outline'\n        });\n        this.appPages.push({\n            title: 'Ranking',\n            url: '/ranking',\n            icon: 'trophy-outline'\n        });\n        this.appPages.push({\n            title: 'MANTENIMIENTO',\n            url: '/document-list',\n            icon: 'construct-outline'\n        });\n        this.appPages.push({\n            title: 'RECORDATORIOS',\n            url: '/reminder-list',\n            icon: 'alarm-outline'\n        });\n        this.appPages.push({\n            title: 'NOTIFICACIONES',\n            url: '/notification-list',\n            icon: 'notifications-outline'\n        });\n        this.appPages.push({\n            title: 'PROPONER MEJORAS',\n            url: '/suggestion-form',\n            icon: 'bulb-outline'\n        });\n        this.appPages.push({\n            title: 'PERFIL',\n            url: '/profile/profile-data',\n            icon: 'person-circle-outline'\n        });\n        this.appPages.push({\n            title: 'AYUDA',\n            url: '/help',\n            icon: 'help-circle-outline'\n        });\n    }\n\n    pushLimitedPages() {\n        this.appPages.push({\n            title: 'DISTRIBUCIN URBANA',\n            url: '/urban-distribution-list',\n            icon: 'assets/icons/menu/distribucion.svg'\n        });\n        this.appPages.push({\n            title: 'VIAJES',\n            url: '/journey-list',\n            icon: 'assets/icons/menu/viajes.svg'\n        });\n        this.appPages.push({\n            title: 'CONTROLES',\n            url: '/control-tabs/operation-control',\n            icon: 'assets/icons/menu/mantenimiento.svg'\n        });\n        this.appPages.push({\n            title: 'MANTENIMIENTO',\n            url: '/document-list',\n            icon: 'assets/icons/menu/mantenimiento.svg'\n        });\n        this.appPages.push({\n            title: 'RECORDATORIOS',\n            url: '/reminder-list',\n            icon: 'assets/icons/menu/notificaciones.svg'\n        });\n        this.appPages.push({\n            title: 'PROPONER MEJORAS',\n            url: '/suggestion-form',\n            icon: 'assets/icons/menu/proponermejoras.svg'\n        });\n        this.appPages.push({\n            title: 'PERFIL',\n            url: '/profile/profile-data',\n            icon: 'assets/icons/menu/proponermejoras.svg'\n        });\n        this.appPages.push({\n            title: 'AYUDA',\n            url: '/help',\n            icon: 'assets/icons/menu/ayuda.svg'\n        });\n    }\n\n    getProfileImage() {\n        this.driverService.getProfileImage()\n            .subscribe((blob: any) => {\n                const objectURL = URL.createObjectURL(blob);\n                this.profileImg = this.domSanitizer.bypassSecurityTrustUrl(objectURL);\n                this.showProfileImage = true;\n            });\n    }\n\n    createAnimation() {\n        // setTimeout(() => {\n        //   this.anim = this.animationController.create('myAnim');\n        //   this.anim\n        //     .addElement(this.fabButton.nativeElement)\n        //     .duration(1000)\n        //     .easing('ease-out')\n        //     .fromTo('opacity', 1, 0.5)\n        //     .iterations(Infinity);\n        // }, 2000);\n    }\n\n    async showPopover(ev: any) {\n        // const popover = await this.popoverController.create({\n        //   component: PopoverServiceDetailsComponent,\n        //   componentProps: {service: this.service},\n        //   event: ev\n        // });\n        // await popover.present();\n        // const {data} = await popover.onWillDismiss();\n        // console.log(data);\n        // if (!data?.success) {\n        //   this.anim.stop();\n        //   this.activeService = false;\n        // }\n    }\n\n    listenForPusherEvents() {\n        // this.authService.getAuthToken().then(authToken => {\n        //   const pusher = this.pusherService.init(authToken);\n        //   console.log(pusher);\n        //   // const channelName = `private-admin.${localStorage.getItem('adminPusherId')}.service.created`;\n        //   const channelName = `private-admin.1.service.created`;\n        //   const channel = pusher.subscribe(channelName);\n        //   console.log(channel);\n        //   channel.bind('ServiceCreated', (data) => {\n        //     console.log('GOT DATA FROM PUSHER!!!!!');\n        //     console.log(data);\n        //     if (data?.service) {\n        //       this.service = data.service;\n        //       console.log(this.service);\n        //       this.activeService = true;\n        //       this.anim.play();\n        //     }\n        //   });\n        // });\n    }\n\n    getFCMNotifications() {\n        FCM.requestPushPermission().then(() => {\n\n        });\n\n        FCM.onTokenRefresh().subscribe(token => {\n            this.deviceService.storeFCMToken(token)\n                .subscribe((response: any) => {\n                    //\n                }, err => {\n                    //\n                });\n        });\n\n        FCM.onNotification().subscribe(data => {\n            if (data.wasTapped) {\n                // app is closed - Received in background\n                // alert(JSON.stringify(data.body));\n            } else {\n                // app is open - Received in foreground\n                // alert(JSON.stringify(data));\n                this.toastComponent.presentToast(data.body, 'top', 3500);\n            }\n        });\n    }\n\n    initAppRate() {\n        // or, override the whole preferences object\n        this.appRate.preferences = {\n            usesUntilPrompt: 3,\n            storeAppURL: {\n                android: 'market://details?id=com.palmariusdev.distriapp',\n            }\n        };\n        this.appRate.promptForRating(false);\n    }\n}\n","<ion-app>\n\n<!--  <div #fabButtonAnim class=\"fab-button-anim\" [hidden]=\"!activeService\">-->\n<!--    <ion-fab-button (click)=\"showPopover($event)\">-->\n<!--      <ion-icon name=\"cube-outline\"></ion-icon>-->\n<!--    </ion-fab-button>-->\n<!--  </div>-->\n\n  <ion-split-pane contentId=\"main-content\">\n    <ion-menu contentId=\"main-content\" type=\"overlay\">\n      <ion-header class=\"menu-header\" translucent=\"false\">\n        <div class=\"menu-header__inner\">\n          <img src=\"assets/logo-empresa.png\" alt=\"Distribucin Urbana\" class=\"menu-header__logo\" />\n        </div>\n      </ion-header>\n      <ion-content>\n        <ion-menu-toggle>\n          <ion-grid *ngIf=\"driver\" class=\"grid-profile-data\">\n            <ion-row routerLink=\"../profile/profile-data\">\n              <ion-col size=\"12\" class=\"ion-text-center ion-no-padding\">\n                <div [hidden]=\"!showProfileImage\">\n                  <img [src]=\"profileImg\" alt=\"profile_img\" class=\"profile-img\"\n                       *ngIf=\"driver && driver.has_profile_img\">\n                </div>\n              </ion-col>\n              <ion-col  size=\"12\" class=\"ion-text-center ion-no-padding\">\n                <p class=\"name\">{{driver.full_name}}</p>\n                <p class=\"email\">{{driver.email}}</p>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-menu-toggle>\n        <!--        <ion-item-divider></ion-item-divider>-->\n\n<!--        <div class=\"ion-padding-horizontal\">-->\n<!--          <div class=\"divider\"></div>-->\n<!--        </div>-->\n\n        <ion-list>\n          <ion-menu-toggle auto-hide=\"false\" *ngFor=\"let p of appPages\">\n            <ion-item lines=\"none\" [routerDirection]=\"'root'\" [routerLink]=\"[p.url]\">\n              <ion-icon color=\"light\" slot=\"start\" [name]=\"p.icon\"></ion-icon>\n              <ion-label>\n                {{p.title}}\n              </ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n        </ion-list>\n\n        <ion-item-divider></ion-item-divider>\n\n        <ion-menu-toggle>\n          <ion-item lines=\"none\" [routerDirection]=\"'root'\" routerLink=\"/logout\">\n            <ion-icon color=\"light\" slot=\"start\" src=\"assets/icons/menu/cerrar-sesion.svg\"></ion-icon>\n            <ion-label>\n              Cerrar sesin\n            </ion-label>\n          </ion-item>\n        </ion-menu-toggle>\n      </ion-content>\n    </ion-menu>\n    <ion-router-outlet id=\"main-content\"></ion-router-outlet>\n  </ion-split-pane>\n</ion-app>\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {DriverService} from '../../../services/v1/driver.service';\nimport {LoadingSpinnerComponent} from '../../loading-spinner/loading-spinner.component';\nimport {ModalController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-update-phone-number',\n  templateUrl: './update-phone-number.component.html',\n  styleUrls: ['./update-phone-number.component.scss'],\n})\nexport class UpdatePhoneNumberComponent implements OnInit {\n  phoneNumberForm: FormGroup;\n\n  constructor(private formBuilder: FormBuilder,\n              private modalController: ModalController,\n              private loadingSpinnerComponent: LoadingSpinnerComponent,\n              private driverService: DriverService) {\n    this.phoneNumberForm = this.formBuilder.group({\n      phoneNumber: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  submitForm() {\n    this.loadingSpinnerComponent.presentLoadingSpinner().then(() => {\n      const body = {\n        phone_number: this.phoneNumberForm.value.phoneNumber\n      };\n\n      this.driverService.updatePhoneNumber(body)\n        .subscribe((response: any) => {\n\n        }, error => {\n          this.loadingSpinnerComponent.dismissLoadingSpinner();\n        }, () => {\n          this.loadingSpinnerComponent.dismissLoadingSpinner().then(() => {\n            this.modalController.dismiss({success: true});\n          });\n        });\n    });\n  }\n\n}\n","<ion-content class=\"ion-padding ion-margin-top\">\n  <form [formGroup]=\"phoneNumberForm\">\n    <ion-item>\n      <ion-label position=\"floating\">Nmero de telfono</ion-label>\n      <ion-input formControlName=\"phoneNumber\"></ion-input>\n    </ion-item>\n  </form>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button size=\"full\" shape=\"round\" [disabled]=\"!phoneNumberForm.valid\" (click)=\"submitForm()\">\n      ACEPTAR\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {DocumentFile} from '../../../interfaces/DocumentFile';\nimport {ModalController, NavParams} from '@ionic/angular';\n\n@Component({\n  selector: 'app-document-file-image-detail',\n  templateUrl: './document-file-image-detail.component.html',\n  styleUrls: ['./document-file-image-detail.component.scss'],\n})\nexport class DocumentFileImageDetailComponent implements OnInit {\n  @Input() documentFiles: DocumentFile[] = [];\n\n  constructor(private navParams: NavParams,\n              private modalController: ModalController) {\n    this.documentFiles = this.navParams.get('documentFiles');\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<ion-content>\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"6\" *ngFor=\"let documentFile of documentFiles\">\n        <img [src]=\"documentFile.file_url\" alt=\"\" width=\"100%\" height=\"100\" style=\"object-fit: contain\">\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {ModeStatus} from '../../interfaces/ModeStatus';\nimport {SyncService} from './sync.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModeService {\n  private modeStatus$: BehaviorSubject<ModeStatus> = new BehaviorSubject(ModeStatus.Online);\n\n  constructor(private syncService: SyncService) {\n  }\n\n  updateModeStatus(status: ModeStatus) {\n    this.modeStatus$.next(status);\n    // if (status === ModeStatus.Online) {\n    //   this.syncService.sync();\n    // }\n  }\n\n  getModeStatus$(): Observable<ModeStatus> {\n    return this.modeStatus$.asObservable();\n  }\n\n  getCurrentModeStatus(): ModeStatus {\n    return this.modeStatus$.getValue();\n  }\n}\n","import {ErrorHandler, LOCALE_ID, NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {RouteReuseStrategy} from '@angular/router';\n\nimport {IonicModule, IonicRouteStrategy} from '@ionic/angular';\nimport {SplashScreen} from '@ionic-native/splash-screen/ngx';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\n\nimport {AppComponent} from './app.component';\nimport {AppRoutingModule} from './app-routing.module';\nimport {IonicStorageModule} from '@ionic/storage';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {InterceptorService} from './services/v1/interceptor.service';\n\nimport {Geolocation} from '@ionic-native/geolocation/ngx';\nimport {File} from '@ionic-native/file/ngx';\nimport {Camera} from '@ionic-native/camera/ngx';\nimport {Device} from '@ionic-native/device/ngx';\nimport {LaunchNavigator} from '@ionic-native/launch-navigator/ngx';\nimport {ComponentsModule} from './components/components.module';\nimport {ImagePicker} from '@ionic-native/image-picker/ngx';\nimport {environment} from '../environments/environment';\nimport {GoogleMaps} from '@ionic-native/google-maps';\nimport {BarcodeScanner} from '@ionic-native/barcode-scanner/ngx';\nimport {HTTP} from '@ionic-native/http/ngx';\nimport {CallNumber} from '@ionic-native/call-number/ngx';\nimport {PopoverServiceDetailsComponent} from './popover-service-details/popover-service-details.component';\nimport {LocationAccuracy} from '@ionic-native/location-accuracy/ngx';\nimport {FCM} from '@ionic-native/fcm/ngx';\nimport {Network} from '@ionic-native/network/ngx';\nimport {FileChooser} from '@ionic-native/file-chooser/ngx';\nimport {FilePath} from '@ionic-native/file-path/ngx';\nimport {FileOpener} from '@ionic-native/file-opener/ngx';\nimport {AppRate} from '@ionic-native/app-rate/ngx';\nimport {AngularFireModule} from '@angular/fire';\nimport {AngularFireAuthModule} from '@angular/fire/auth';\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\nimport esAR from '@angular/common/locales/es-AR';\nimport {registerLocaleData} from '@angular/common';\n\nregisterLocaleData(esAR);\n\nimport {BugsnagErrorHandler} from '@bugsnag/plugin-angular';\nimport Bugsnag from '@bugsnag/js';\n\nBugsnag.start({apiKey: 'b2884e3735c06c44351c66d3148a690b'});\n\nexport function errorHandlerFactory() {\n  return new BugsnagErrorHandler();\n}\n\n@NgModule({\n  declarations: [AppComponent, PopoverServiceDetailsComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot({\n      backButtonText: ''\n    }),\n    IonicStorageModule.forRoot(),\n    AppRoutingModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n    ComponentsModule\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: RouteReuseStrategy, useClass: IonicRouteStrategy},\n    {provide: ErrorHandler, useFactory: errorHandlerFactory},\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: InterceptorService,\n      multi: true\n    },\n    {provide: LOCALE_ID, useValue: 'es-AR'},\n    AppRate,\n    BarcodeScanner,\n    CallNumber,\n    Camera,\n    Device,\n    FCM,\n    File,\n    FileChooser,\n    FileOpener,\n    FilePath,\n    Geolocation,\n    GoogleMaps,\n    HTTP,\n    ImagePicker,\n    LaunchNavigator,\n    LocationAccuracy,\n    Network\n  ],\n  exports: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {Storage} from '@ionic/storage';\nimport {OrderOfflineManagerService} from './order-offline-manager.service';\nimport {ToastController} from '@ionic/angular';\nimport {HTTP} from '@ionic-native/http/ngx';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '../../../environments/environment';\nimport {Order} from '../../interfaces/Order';\n\nconst STORAGE_REQ_KEY = 'distriappreqs';\n\ninterface StoredRequest {\n  method: string;\n  body: any;\n  time: number;\n  id: string;\n  attempts: number;\n  type: 'request' | 'file';\n  action: string;\n  file?: string;\n  authToken?: string;\n  pUid?: string;\n  pId?: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OfflineOrderManagerService {\n  private uploadedReqsP$ = new BehaviorSubject<number>(0);\n  private sendingReqs$ = new BehaviorSubject<boolean>(false);\n\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  constructor(private storage: Storage,\n              private orderOfflineManagerService: OrderOfflineManagerService,\n              private toastController: ToastController,\n              private http: HTTP,\n              private httpClient: HttpClient) {\n  }\n\n  storeRequest(type, method, body, pUid: string, action, pId = null, file = null, authToken = null): Promise<any> {\n    return new Promise((resolve, reject) => {\n      // const toast = this.toastController.create({\n      //   message: `Your data is stored locally because you seem to be offline.`,\n      //   duration: 3000,\n      //   position: 'bottom'\n      // });\n      // toast.then(t => t.present());\n\n      const storedRequest: StoredRequest = {\n        method,\n        body,\n        time: new Date().getTime(),\n        id: Math.random()\n            .toString(36)\n            .replace(/[^a-z]+/g, '').substr(0, 5)\n          + (Math.floor(Math.random() * 90 + 10)),\n        attempts: 0,\n        type: 'request',\n        action,\n        file,\n        authToken,\n        pUid,\n        pId\n      };\n      console.log('storing request in localstorage', storedRequest);\n\n      this.storage.get(STORAGE_REQ_KEY)\n        .then(storedOperations => {\n          if (storedOperations?.length > 0) {\n            storedOperations.push(storedRequest);\n          } else {\n            storedOperations = [];\n            storedOperations.push(storedRequest);\n          }\n          this.storage.set(STORAGE_REQ_KEY, storedOperations)\n            .then(() => {\n              resolve(storedRequest);\n            }).catch(err => {\n            reject();\n          });\n        }).catch(err => {\n        reject();\n      });\n    });\n  }\n\n  checkStoredRequests(): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      console.log('checking stored requests...');\n      this.storage.get(STORAGE_REQ_KEY).then(storedRequests => {\n        if (storedRequests?.length > 0) {\n          console.log('********************************');\n          console.log('Estas son todas las stored requests que tengo...');\n          console.log('********************************');\n          console.log(storedRequests);\n          console.log('------------------------------------fin de log');\n          this.sendStoredRequests(storedRequests);\n          console.log('YA FINALICE EL ENVIO DE REQUESTS GUARDADOS...!!');\n        } else {\n          console.log('empty storage...');\n        }\n      });\n    });\n  }\n\n  async sendStoredRequests(storedRequest: StoredRequest[]) {\n    this.setSendingReqs$(true);\n\n    const processedRequestsIds: string[] = [];\n\n    let uploadedP = Math.round(processedRequestsIds.length / storedRequest.length);\n    this.setUploadedP$(uploadedP);\n\n    for (const op of storedRequest) {\n      await this.sendRequest(op).then(res => {\n        processedRequestsIds.push(op.id);\n        uploadedP = processedRequestsIds.length / storedRequest.length;\n        this.setUploadedP$(uploadedP);\n      }).catch(err => {\n        console.log('ERROR', op.id + ': ' + op.attempts);\n        op.attempts = op.attempts + 1;\n      });\n    }\n\n    setTimeout(() => {\n      console.log('now!!');\n      console.log(processedRequestsIds);\n      storedRequest = storedRequest.filter(sr =>\n        processedRequestsIds.indexOf(sr.id) <= -1 && sr.attempts <= 2);\n\n      return this.storage.set(STORAGE_REQ_KEY, storedRequest);\n    }, 500);\n\n    this.setSendingReqs$(false);\n  }\n\n  sendRequest(storedRequest: StoredRequest): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      this.orderOfflineManagerService.getLocalOrderId(storedRequest.pUid)\n        .then((order: Order) => {\n          console.log('order', order);\n          if (storedRequest.type === 'request') {\n            setTimeout(() => {\n              console.log('Sending request to server: ', storedRequest);\n              // resolve(true);\n              // Math.floor(Math.random() * 90 + 10) < 50 ? resolve(true) : reject(true);\n              this.makeHttpClientRequest(storedRequest, order).then(res => {\n                console.log(res);\n                resolve(res);\n              }).catch(err => {\n                reject(err);\n              });\n            }, 500);\n          } else {\n            console.log('IS A FILEEEEE!!!!!');\n            this.uploadFile(storedRequest, order).then(res => {\n              console.log(res);\n              resolve(res);\n            }).catch(err => {\n              reject(err);\n            });\n          }\n        });\n    });\n  }\n\n  makeHttpClientRequest(storedRequest: StoredRequest, order: Order): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const url = this.getUrl(storedRequest, order);\n      console.log('sending request to url: ', url);\n      this.httpClient.request(storedRequest.method, url, {body: storedRequest.body})\n        .subscribe((res: any) => {\n          if (res && res.order) {\n            this.orderOfflineManagerService.updateLocalOrderId(res.order.id, storedRequest.pUid)\n              .then(localOrder => {\n                console.log(localOrder);\n                resolve(res);\n              }).catch(err => {\n              reject(err);\n            });\n          } else {\n            resolve(res);\n          }\n        }, error => {\n          reject(error);\n        });\n    });\n  }\n\n  uploadFile(storedRequest: StoredRequest, order: Order): Promise<any> {\n    return new Promise((resolve, reject) => {\n      alert('about to upload file...');\n      const uri = encodeURI(this.getUrl(storedRequest, order));\n      alert('uri');\n      const headers = {\n        'Content-Type': 'multipart/form-data',\n        Authorization: 'Bearer ' + storedRequest.authToken\n      };\n      this.http.uploadFile(uri, storedRequest.body, headers, encodeURI(storedRequest.file), 'file')\n        .then((data) => {\n          alert(JSON.stringify(data));\n          resolve(true);\n        }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  getUrl(storedRequest: StoredRequest, order: Order) {\n    console.log(storedRequest.action);\n    let url = '';\n    switch (storedRequest.action) {\n      case 'store':\n        url = `${this.API_URL}${this.V1}orders`;\n        break;\n      case 'store-location':\n        url = `${this.API_URL}${this.V1}locations`;\n        break;\n      case 'update':\n        url = `${this.API_URL}${this.V1}orders/${order.id}`;\n        break;\n      case 'delete':\n        url = `${this.API_URL}${this.V1}orders/${order.id}`;\n        break;\n      case 'delivered':\n        url = `${this.API_URL}${this.V1}orders/${order.id}/delivered-offline`;\n        break;\n      case 'not-delivered':\n        url = `${this.API_URL}${this.V1}orders/${order.id}/not-delivered`;\n        break;\n      case 'upload-file':\n        url = `${this.API_URL}${this.V1}delivery-images`;\n        break;\n    }\n    return url;\n  }\n\n  // observables\n  setSendingReqs$(sendingReq: boolean) {\n    this.sendingReqs$.next(sendingReq);\n  }\n\n  getSendingReqs$(): Observable<boolean> {\n    return this.sendingReqs$.asObservable();\n  }\n\n  getUploadedP$(): Observable<number> {\n    return this.uploadedReqsP$.asObservable();\n  }\n\n  setUploadedP$(uploadedP: number) {\n    this.uploadedReqsP$.next(uploadedP);\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {LocationService} from '../../../services/v1/location.service';\nimport {ModalController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-location-form',\n  templateUrl: './location-form.component.html',\n  styleUrls: ['./location-form.component.scss'],\n})\nexport class LocationFormComponent implements OnInit {\n  locationForm: FormGroup;\n\n  constructor(private formBuilder: FormBuilder,\n              public modalController: ModalController,\n              private locationService: LocationService) {\n    this.locationForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      address: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  addLocation() {\n    const body = this.setBody();\n    this.locationService.storeLocation(body)\n      .subscribe((response: any) => {\n        this.modalController.dismiss({success: true});\n      });\n  }\n\n  setBody() {\n    return {\n      name: this.locationForm.value.name,\n      address: this.locationForm.value.address\n    };\n  }\n}\n","<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"locationForm\">\n    <ion-item>\n      <ion-label position=\"floating\">Nombre</ion-label>\n      <ion-input formControlName=\"name\"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"floating\">Direccin</ion-label>\n      <ion-textarea rows=\"5\" formControlName=\"address\"></ion-textarea>\n    </ion-item>\n  </form>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button color=\"primary\" [disabled]=\"!locationForm.valid\" size=\"full\" shape=\"round\" (click)=\"addLocation()\">\n      AGREGAR\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServiceService {\n\n  constructor() { }\n}\n","import {Injectable, NgZone} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {Location} from '../../interfaces/Location';\nimport {map, tap} from 'rxjs/operators';\nimport {NetworkService} from '../utils/network.service';\nimport {Storage} from '@ionic/storage';\n\ndeclare var google;\n\nconst STORAGE_REQ_KEY = 'distriapplocations';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n\n  private locations$ = new BehaviorSubject<Location[]>([]);\n  lastUpdateTime = Date.now();\n  // minFrequency = 1800000; // milliseconds\n  minFrequency = 10000; // milliseconds\n\n  constructor(public http: HttpClient,\n              private networkService: NetworkService,\n              private storage: Storage) {\n    //\n  }\n\n  getLocations() {\n    return this.http.get(`${this.API_URL}${this.V1}locations`);\n  }\n\n  getLocationsByKeyword(keyword) {\n    return this.http.get(`${this.API_URL}${this.V1}locations/keyword/${keyword}`);\n  }\n\n  storeLocation(body) {\n    return this.http.post(`${this.API_URL}${this.V1}locations`, body)\n      .pipe(map((response: any) => response.locations),\n        tap({\n          next: val => {\n            console.log('on next');\n            this.setLocations$(val);\n          }\n        })\n      );\n  }\n\n  updateLocationCoords(locationId, body) {\n    const url = `${this.API_URL}${this.V1}locations/${locationId}/coords`;\n    return this.http.put(url, body);\n  }\n\n  geocodeAddress(body) {\n    return this.http.post(`${this.API_URL}${this.V1}locations/geocode-address`, body);\n  }\n\n  /***********************************************************\n   * Observables\n   ***********************************************************/\n  getLocations$(): Observable<Location[]> {\n    console.log(Date.now() - this.lastUpdateTime > this.minFrequency);\n    console.log(Date.now());\n    console.log(this.lastUpdateTime);\n    console.log(Date.now() - this.lastUpdateTime);\n    if (this.locations$.getValue().length <= 0) {\n      console.log('IS ZERO');\n      console.log(this.lastUpdateTime);\n      return this.http.get(`${this.API_URL}${this.V1}locations`)\n        .pipe(map((response: any) => response.locations),\n          tap({\n            next: val => {\n              console.log('on next');\n              this.setLocations$(val);\n            }\n          })\n        );\n    } else if (Date.now() - this.lastUpdateTime > this.minFrequency) {\n      console.log('NOT IS ZERO, CHECKING NETWORK STATUS: ', this.networkService.getCurrentNetworkStatus());\n      if (this.networkService.getCurrentNetworkStatus()) {\n        console.log('IS ONLINE');\n        return this.http.get(`${this.API_URL}${this.V1}locations`)\n          .pipe(map((response: any) => response.locations),\n            tap({\n              next: val => {\n                console.log('on next');\n                this.setLocations$(val);\n              }\n            })\n          );\n      } else {\n        console.log('IS OFFLINE');\n        this.storage.get(STORAGE_REQ_KEY)\n          .then(locations => {\n            console.log('GOT LOCATIONS FROM STORAGE: ', locations);\n            return new Observable(observer => {\n              observer.next(locations);\n              return observer;\n            });\n          });\n      }\n    }\n    console.log('RETURNING FROM CACHE!');\n    return this.locations$.asObservable();\n  }\n\n  setLocations$(locations: Location[]) {\n    console.log('setting new data...');\n    this.lastUpdateTime = Date.now();\n    this.storage.set(STORAGE_REQ_KEY, locations);\n    this.locations$.next(locations);\n  }\n}\n","export enum ModeStatus {\n  Offline,\n  Online\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController} from '@ionic/angular';\nimport {Order} from '../../../interfaces/Order';\nimport {FormBuilder, FormControl, FormGroup} from '@angular/forms';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {OrderManagerService} from '../../../services/v1/order-manager.service';\nimport {GeolocationService} from '../../../services/v1/geolocation.service';\nimport {Geoposition} from '@ionic-native/geolocation';\n\n@Component({\n  selector: 'app-not-delivered',\n  templateUrl: './not-delivered.component.html',\n  styleUrls: ['./not-delivered.component.scss'],\n})\nexport class NotDeliveredComponent implements OnInit {\n  @Input() order: Order;\n  optionFC = new FormControl();\n  showTextarea = false;\n  showLocationFields = false;\n  textareaFC = new FormControl();\n  submitting = false;\n  form: FormGroup;\n  saveClientFC = new FormControl();\n  driverPosition: Geoposition;\n\n  constructor(private modalController: ModalController,\n              private orderManagerService: OrderManagerService,\n              private formBuilder: FormBuilder,\n              private geolocationService: GeolocationService,\n              private orderService: OrderService) {\n    this.form = this.formBuilder.group({\n      locationName: [''],\n      locationAddress: [''],\n      b: [''],\n      v: [''],\n      s: [''],\n      m: [''],\n      c: [''],\n    });\n  }\n\n  ngOnInit() {\n    this.checkWatchLocationsSubscription();\n\n    this.form.controls.locationName.setValue(this.order.location.name);\n    this.form.controls.locationAddress.setValue(this.order.location.address);\n    this.form.controls.b.setValue(this.order.location.b);\n    this.form.controls.v.setValue(this.order.location.v);\n    this.form.controls.s.setValue(this.order.location.s);\n    this.form.controls.m.setValue(this.order.location.m);\n    this.form.controls.c.setValue(this.order.location.c);\n  }\n\n  checkWatchLocationsSubscription() {\n    if (!this.geolocationService.checkWatchLocationsSubscription()) {\n      this.geolocationService.watchPosition();\n    }\n  }\n\n  submit() {\n    this.submitting = true;\n    this.driverPosition = this.geolocationService.getDriverPosition();\n    const body = {\n      not_delivered_motive: this.optionFC.value,\n      not_delivered_description: this.textareaFC.value,\n      location_name: this.form.value.locationName,\n      location_address: this.form.value.locationAddress,\n      b: this.form.value.b,\n      v: this.form.value.v,\n      s: this.form.value.s,\n      m: this.form.value.m,\n      c: this.form.value.c,\n      save_client: this.saveClientFC.value,\n      lat: this.driverPosition.coords.latitude,\n      lng: this.driverPosition.coords.longitude\n    };\n    this.orderManagerService.setNotDeliveredOrder(this.order, body)\n      .subscribe((response: any) => {\n        console.log(response);\n        this.submitting = false;\n        this.dismiss(true);\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  onOptionChange(ev) {\n    if (ev.detail.value === 'otros') {\n      this.showTextarea = true;\n      this.showLocationFields = false;\n    } else if (ev.detail.value === 'nueva direccin') {\n      this.showTextarea = false;\n      this.showLocationFields = true;\n    }\n  }\n\n  dismiss(success) {\n    if (success) {\n      this.order.status = 'not-delivered';\n      this.order.status_es = 'no entregada';\n      this.orderService.setOrdersUpdated$(true);\n    }\n    this.modalController.dismiss({success});\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n    <ion-title>\n      Seleccione\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div class=\"ion-text-center ion-padding-top\">\n    <h6 class=\"ion-no-margin\">\n      <b>{{order.location.address}}</b>\n    </h6>\n    <p class=\"ion-no-margin\">\n      {{order.receiver}} ({{order.phone}})\n    </p>\n    <p class=\"ion-no-margin\">{{order.description ? order.description : ' -'}}</p>\n  </div>\n\n  <ion-item lines=\"none\">\n    <ion-label>Guardar cliente</ion-label>\n    <ion-checkbox color=\"primary\" [formControl]=\"saveClientFC\">\n    </ion-checkbox>\n  </ion-item>\n\n  <ion-list>\n    <ion-radio-group [formControl]=\"optionFC\" (ionChange)=\"onOptionChange($event)\">\n      <ion-item lines=\"none\">\n        <ion-label>Direccin Insuficiente</ion-label>\n        <ion-radio slot=\"start\" value=\"direccin insuficiente\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Direccin Inexistente</ion-label>\n        <ion-radio slot=\"start\" value=\"direccin inexistente\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Rechazado</ion-label>\n        <ion-radio slot=\"start\" value=\"rechazado\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Se mud</ion-label>\n        <ion-radio slot=\"start\" value=\"se mud\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Falleci</ion-label>\n        <ion-radio slot=\"start\" value=\"falleci\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Cerrado/se dej aviso de visita</ion-label>\n        <ion-radio slot=\"start\" value=\"cerrado\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Direccin inaccesible</ion-label>\n        <ion-radio slot=\"start\" value=\"direccin inaccesible\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Otros motivos</ion-label>\n        <ion-radio slot=\"start\" value=\"otros\"></ion-radio>\n      </ion-item>\n\n      <ion-item lines=\"none\" *ngIf=\"showTextarea\">\n        <textarea [formControl]=\"textareaFC\" placeholder=\"Indique el motivo\">\n\n        </textarea>\n      </ion-item>\n\n      <ion-item lines=\"none\">\n        <ion-label>Nueva direccin</ion-label>\n        <ion-radio slot=\"start\" value=\"nueva direccin\"></ion-radio>\n      </ion-item>\n\n      <div *ngIf=\"showLocationFields\">\n        <form [formGroup]=\"form\">\n          <div class=\"form-group\">\n            <ion-label>Nombre establecimiento o barrio</ion-label>\n            <textarea type=\"text\" formControlName=\"locationName\"></textarea>\n          </div>\n\n          <div class=\"form-group\">\n            <ion-label>Direccin</ion-label>\n            <textarea type=\"text\" formControlName=\"locationAddress\"></textarea>\n          </div>\n\n          <ion-grid>\n            <ion-row>\n              <ion-col size=\"4\">\n                <ion-label>Barrio</ion-label>\n                <input type=\"text\" formControlName=\"b\">\n              </ion-col>\n              <ion-col size=\"2\">\n                <ion-label>Viv</ion-label>\n                <input type=\"text\" formControlName=\"v\">\n              </ion-col>\n              <ion-col size=\"2\">\n                <ion-label>Sec</ion-label>\n                <input type=\"text\" formControlName=\"s\">\n              </ion-col>\n              <ion-col size=\"2\">\n                <ion-label>Mz</ion-label>\n                <input type=\"text\" formControlName=\"m\">\n              </ion-col>\n              <ion-col size=\"2\">\n                <ion-label>Casa</ion-label>\n                <input type=\"text\" formControlName=\"c\">\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </form>\n      </div>\n    </ion-radio-group>\n  </ion-list>\n\n  <ion-progress-bar *ngIf=\"submitting\" type=\"indeterminate\" class=\"ion-padding-horizontal\">\n  </ion-progress-bar>\n  <div class=\"ion-text-center ion-margin-bottom\">\n    <ion-button class=\"custom-button\"\n                [disabled]=\"submitting\"\n                (click)=\"submit()\">\n      Aceptar\n    </ion-button>\n  </div>\n</ion-content>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {ToastComponent} from './toast/toast.component';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {LocationFormComponent} from './modals/location-form/location-form.component';\nimport {DocumentFormComponent} from './modals/document-form/document-form.component';\nimport {LoadingSpinnerComponent} from './loading-spinner/loading-spinner.component';\nimport {UpdatePhoneNumberComponent} from './modals/update-phone-number/update-phone-number.component';\nimport {UpdatePasswordComponent} from './modals/update-password/update-password.component';\nimport {DocumentImageViewComponent} from './modals/document-image-view/document-image-view.component';\nimport {DocumentFileImageDetailComponent} from './modals/document-file-image-detail/document-file-image-detail.component';\nimport {LocationMapComponent} from './modals/location-map/location-map.component';\nimport {DeliveryOrderMapComponent} from './modals/delivery-order-map/delivery-order-map.component';\nimport {EditUrbanDistributionComponent} from './modals/edit-urban-distribution/edit-urban-distribution.component';\nimport {ImageDetailComponent} from './modals/image-detail/image-detail.component';\nimport {NotDeliveredComponent} from './modals/not-delivered/not-delivered.component';\nimport {MapComponent} from './map/map.component';\nimport {DeliverOrderComponent} from './modals/deliver-order/deliver-order.component';\nimport {OrderDetailMapComponent} from './order-detail-map/order-detail-map.component';\nimport {SyncDataLoadingComponent} from './modals/sync-data-loading/sync-data-loading.component';\n\n@NgModule({\n  declarations: [\n    DeliverOrderComponent,\n    DeliveryOrderMapComponent,\n    DocumentFormComponent,\n    DocumentImageViewComponent,\n    DocumentFileImageDetailComponent,\n    EditUrbanDistributionComponent,\n    ImageDetailComponent,\n    LoadingSpinnerComponent,\n    LocationFormComponent,\n    LocationMapComponent,\n    MapComponent,\n    NotDeliveredComponent,\n    OrderDetailMapComponent,\n    SyncDataLoadingComponent,\n    UpdatePasswordComponent,\n    UpdatePhoneNumberComponent,\n    ToastComponent\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule\n  ],\n  exports: [\n    DeliveryOrderMapComponent,\n    MapComponent,\n    OrderDetailMapComponent,\n    ToastComponent\n  ],\n  providers: [\n    ToastComponent,\n    LoadingSpinnerComponent\n  ],\n  entryComponents: [\n    DeliveryOrderMapComponent,\n    DocumentFileImageDetailComponent,\n    DocumentFormComponent,\n    DocumentImageViewComponent,\n    EditUrbanDistributionComponent,\n    ImageDetailComponent,\n    LocationFormComponent,\n    LocationMapComponent,\n    NotDeliveredComponent,\n    UpdatePasswordComponent,\n    UpdatePhoneNumberComponent\n  ]\n})\nexport class ComponentsModule {\n}\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"dUtr\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"Q8AI\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"hgI1\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"CfoV\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"Nt02\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"Q2Bp\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"0Pbj\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"ydQj\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"4fMi\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"czK9\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"/CAe\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"WgF3\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"uQcF\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"wHD8\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"2lz6\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"ercB\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"MGMP\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"9bur\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"cABk\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"kyFE\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"TvZU\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"vnES\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"qCuA\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"0tOe\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"h11V\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"XGij\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"nYbb\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"smMY\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"STjf\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"k5eQ\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"OR5t\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"fSgp\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"lfGF\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"5xYT\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"nI0H\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"NAQR\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"knkW\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"TpdJ\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"ISmu\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"U7LX\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"L3sA\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"IUOf\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"8Mb5\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"kLfG\";\nmodule.exports = webpackAsyncContext;","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController} from '@ionic/angular';\nimport {Order} from '../../../interfaces/Order';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {OrderService} from '../../../services/v1/order.service';\nimport {OrderManagerService} from '../../../services/v1/order-manager.service';\n\n@Component({\n  selector: 'app-edit-urban-distribution',\n  templateUrl: './edit-urban-distribution.component.html',\n  styleUrls: ['./edit-urban-distribution.component.scss'],\n})\nexport class EditUrbanDistributionComponent implements OnInit {\n  @Input() order: Order;\n  form: FormGroup;\n  submitting = false;\n\n  constructor(private modalController: ModalController,\n              private orderService: OrderService,\n              private orderManagerService: OrderManagerService,\n              private formBuilder: FormBuilder) {\n    this.form = this.formBuilder.group({\n      company_name: ['', Validators.required],\n      details: [''],\n      city: [''],\n      address: [''],\n      phone: [''],\n      b: [''],\n      v: [''],\n      s: [''],\n      m: [''],\n      c: [''],\n    });\n  }\n\n  ngOnInit() {\n    this.form.controls.company_name.setValue(this.order.receiver);\n    this.form.controls.details.setValue(this.order.description);\n    this.form.controls.phone.setValue(this.order.phone);\n    this.form.controls.city.setValue(this.order.location.city);\n    this.form.controls.address.setValue(this.order.location.address);\n    this.form.controls.b.setValue(this.order.location.b);\n    this.form.controls.v.setValue(this.order.location.v);\n    this.form.controls.s.setValue(this.order.location.s);\n    this.form.controls.m.setValue(this.order.location.m);\n    this.form.controls.c.setValue(this.order.location.c);\n    console.log(this.order);\n  }\n\n  submit() {\n    this.submitting = true;\n    const body = {\n      receiver: this.form.value.company_name,\n      description: this.form.value.details,\n      phone: this.form.value.phone,\n      city: this.form.value.city,\n      address: this.form.value.address,\n      b: this.form.value.b,\n      v: this.form.value.v,\n      s: this.form.value.s,\n      m: this.form.value.m,\n      c: this.form.value.c,\n    };\n    this.orderManagerService.updateOrder(this.order, body)\n      .subscribe((response: any) => {\n        this.submitting = false;\n        this.dismiss(true);\n        this.modalController.dismiss({success: true});\n      }, error => {\n        this.submitting = false;\n      });\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss(false)\">\n        <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"form\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"4\">\n          <ion-label>Barrio</ion-label>\n          <input type=\"text\" formControlName=\"b\">\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-label>Viv</ion-label>\n          <input type=\"text\" formControlName=\"v\">\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-label>Sec</ion-label>\n          <input type=\"text\" formControlName=\"s\">\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-label>Mz</ion-label>\n          <input type=\"text\" formControlName=\"m\">\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-label>Casa</ion-label>\n          <input type=\"text\" formControlName=\"c\">\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>Direccin</ion-label>\n          <textarea type=\"text\" formControlName=\"address\" rows=\"2\"></textarea>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>Ciudad</ion-label>\n          <input type=\"text\" formControlName=\"city\">\n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>Nombre/Razn social</ion-label>\n          <input type=\"text\" formControlName=\"company_name\">\n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>Telfono</ion-label>\n          <input type=\"tel\" formControlName=\"phone\">\n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-label>Detalles del paquete (opcional)</ion-label>\n          <textarea type=\"text\" formControlName=\"details\" rows=\"3\"></textarea>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </form>\n\n  <ion-button size=\"full\"\n              color=\"primary\"\n              shape=\"round\"\n              [disabled]=\"!form.valid || submitting\"\n              (click)=\"submit()\">\n    <ion-spinner *ngIf=\"submitting\"></ion-spinner>\n    <span *ngIf=\"!submitting\">Aceptar</span>\n  </ion-button>\n</ion-content>\n\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController} from '@ionic/angular';\nimport {CameraPhotoFile} from '../../../interfaces/CameraPhotoFile';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-image-detail',\n  templateUrl: './image-detail.component.html',\n  styleUrls: ['./image-detail.component.scss'],\n})\nexport class ImageDetailComponent implements OnInit {\n  @Input() file: CameraPhotoFile;\n\n  constructor(private modalController: ModalController,\n              public sanitizer: DomSanitizer) {\n  }\n\n  ngOnInit() {\n  }\n\n  dismiss(success) {\n    this.modalController.dismiss({success});\n  }\n\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"medium\">\n    <ion-buttons slot=\"end\">\n      <ion-icon name=\"close\" (click)=\"dismiss(false)\" class=\"font-2em\"></ion-icon>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <img [src]=\"sanitizer.bypassSecurityTrustUrl(file.src)\"/>\n</ion-content>\n","import {Component, OnInit} from '@angular/core';\nimport {LoadingController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-loading-spinner',\n  templateUrl: './loading-spinner.component.html',\n  styleUrls: ['./loading-spinner.component.scss'],\n})\nexport class LoadingSpinnerComponent implements OnInit {\n  loadingSpinner: any;\n\n  constructor(private loadingController: LoadingController) {\n  }\n\n  ngOnInit() {\n  }\n\n  async presentLoadingSpinner(message = null) {\n    this.loadingSpinner = await this.loadingController.create({\n      spinner: 'lines',\n      cssClass: 'loading',\n      message,\n      duration: 60000\n    });\n    await this.loadingSpinner.present();\n  }\n\n  async dismissLoadingSpinner() {\n    await this.loadingSpinner.dismiss();\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\nimport {Driver} from '../../interfaces/Driver';\nimport {map, tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DriverService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n  private driver$ = new BehaviorSubject<Driver>(null);\n\n  constructor(private http: HttpClient) {\n  }\n\n  getProfile() {\n    return this.http.get(`${this.API_URL}${this.V1}drivers/profile`).pipe(\n      tap((response: any) => {\n        if (response?.driver) {\n          this.setDriver$(response.driver);\n        }\n      })\n    );\n  }\n\n  getProfileImage() {\n    return this.http.get(`${this.API_URL}${this.V1}drivers/profile/image`, {responseType: 'blob'});\n  }\n\n  getDriverProfileImage(driver: Driver) {\n    return this.http.get(`${this.API_URL}${this.V1}drivers/${driver.id}/profile-image`, {responseType: 'blob'});\n  }\n\n  updateProfile(body) {\n    return this.http.put(`${this.API_URL}${this.V1}drivers/profile`, body);\n  }\n\n  updatePhoneNumber(body) {\n    return this.http.put(`${this.API_URL}${this.V1}drivers/phone-number`, body);\n  }\n\n  updatePassword(body) {\n    return this.http.put(`${this.API_URL}${this.V1}drivers/password`, body);\n  }\n\n  updateContractor(body) {\n    return this.http.put(`${this.API_URL}${this.V1}drivers/contractor`, body);\n  }\n\n  updatePaymentMethods(body) {\n    return this.http.put(`${this.API_URL}${this.V1}drivers/payment-methods`, body);\n  }\n\n  getPaymentMethods() {\n    return this.http.get(`${this.API_URL}${this.V1}drivers/payment-methods`);\n  }\n\n  getRanking() {\n    return this.http.get(`${this.API_URL}${this.V1}drivers/ranking`);\n  }\n\n  /***********************************************************\n   * Observables\n   ***********************************************************/\n  getDriver$(): Observable<Driver> {\n      return this.driver$.asObservable();\n    // console.log('getting driver observable');\n    // console.log(this.driver$.getValue());\n    // if (this.driver$.getValue() === null) {\n    //   console.log('IS ZERO');\n    //   return this.http.get(`${this.API_URL}${this.V1}drivers/profile`)\n    //     .pipe(map((response: any) => response.driver),\n    //       tap({\n    //         next: val => {\n    //           this.setDriver$(val);\n    //         }\n    //       })\n    //     );\n    // }\n    // console.log('FROM CACHE!');\n    // return this.driver$.asObservable();\n  }\n\n  setDriver$(driver: Driver) {\n    console.log('setting new driver...');\n    this.driver$.next(driver);\n  }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {PopoverController} from '@ionic/angular';\nimport {OfflineOrderManagerService} from '../../../services/v1/offline-order-manager.service';\nimport {SyncService} from '../../../services/utils/sync.service';\nimport {SyncRequestOrderService} from '../../../services/utils/sync-request-order.service';\n\n@Component({\n  selector: 'app-sync-data-loading',\n  templateUrl: './sync-data-loading.component.html',\n  styleUrls: ['./sync-data-loading.component.scss'],\n})\nexport class SyncDataLoadingComponent implements OnInit, OnDestroy {\n  loading = true;\n  uploadedP = 0;\n  uploadedPSubscription: any;\n  syncingSubscription: any;\n  syncErrorSubscription: any;\n  syncingError = false;\n\n  constructor(private offlineOrderManagerService: OfflineOrderManagerService,\n              private syncService: SyncService,\n              private syncRequestOrderService: SyncRequestOrderService,\n              private popoverController: PopoverController) {\n  }\n\n  ngOnInit() {\n    this.uploadedPSubscription = this.syncRequestOrderService.getUploadedP$()\n      .subscribe(uploadedP => {\n        this.uploadedP = uploadedP;\n      });\n\n    this.syncingSubscription = this.syncService.getSyncing$()\n      .subscribe(syncing => {\n        console.log(`syncing: ${syncing}`);\n        if (!syncing) {\n          this.dismiss(true);\n        }\n      });\n\n    this.syncErrorSubscription = this.syncService.getSyncingError$()\n      .subscribe(syncingError => {\n        this.syncingError = syncingError;\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (this.uploadedPSubscription) {\n      this.uploadedPSubscription.unsubscribe();\n    }\n\n    if (this.syncingSubscription) {\n      this.syncingSubscription.unsubscribe();\n    }\n\n    if (this.syncErrorSubscription) {\n      this.syncErrorSubscription.unsubscribe();\n    }\n\n    this.uploadedP = 0;\n  }\n\n  retry() {\n    this.syncService.sync();\n  }\n\n  abort() {\n    this.syncService.abortSync();\n  }\n\n  dismiss(success) {\n    this.popoverController.dismiss({success});\n  }\n\n}\n","<ion-content class=\"ion-padding\">\n  <div class=\"ion-text-center ion-margin-vertical\" *ngIf=\"loading\">\n    <p>Por favor espere...</p>\n    <ion-progress-bar [value]=\"uploadedP\" [buffer]=\"1 - uploadedP\" class=\"ion-margin-top\"></ion-progress-bar>\n\n    <h3>\n      <b>\n        {{uploadedP * 100 | number: '1.0-0'}}%\n      </b>\n    </h3>\n\n    <ion-spinner></ion-spinner>\n  </div>\n\n  <p class=\"ion-text-center\" *ngIf=\"syncingError\">\n    Ocurri un error sincronizando con el servidor\n  </p>\n\n  <div class=\"ion-margin-top\" *ngIf=\"syncingError\">\n    <ion-button color=\"primary\" expand=\"block\" (click)=\"retry()\">\n      Reintentar\n    </ion-button>\n    <ion-button color=\"danger\" expand=\"block\" (click)=\"abort()\">\n      Abortar sincr.\n    </ion-button>\n  </div>\n</ion-content>\n","import {Injectable} from '@angular/core';\nimport {Camera, CameraOptions} from '@ionic-native/camera/ngx';\nimport {File} from '@ionic-native/file/ngx';\nimport {CameraPhotoFile} from '../../interfaces/CameraPhotoFile';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CameraService {\n  imageFile: string;\n  imageSrc: string;\n  filename: string;\n  imagePath: string;\n\n  constructor(private camera: Camera,\n              private file: File) {\n  }\n\n  takePicture() {\n    return new Promise((resolve, reject) => {\n      const options: CameraOptions = {\n        quality: 50,\n        destinationType: this.camera.DestinationType.FILE_URI,\n        saveToPhotoAlbum: true,\n        correctOrientation: true,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE\n      };\n\n      this.imageFile = '';\n      this.imageSrc = '';\n      this.filename = '';\n      this.imagePath = '';\n\n      this.camera.getPicture(options).then((imageData) => {\n        this.imageFile = imageData;\n        const filename = imageData.substring(imageData.lastIndexOf('/') + 1);\n        const path = imageData.substring(0, imageData.lastIndexOf('/') + 1);\n        this.imagePath = path;\n        this.file.readAsDataURL(path, filename)\n          .then(res => {\n            this.imageSrc = res;\n            this.filename = filename;\n            const cameraPhotoFile: CameraPhotoFile = {\n              file: this.imageFile,\n              src: this.imageSrc,\n              filename: this.filename,\n              path: this.imagePath\n            };\n            resolve(cameraPhotoFile);\n          })\n          .catch(err => {\n            reject(err);\n          });\n      }, (err) => {\n        reject(err);\n      });\n    });\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {PreloadAllModules, RouterModule, Routes} from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'login',\n    // redirectTo: 'urban-distribution-list',\n    pathMatch: 'full'\n  },\n  {\n    path: 'login',\n    loadChildren: () => import('./pages/login/login.module').then(m => m.LoginPageModule)\n  },\n  {\n    path: 'logout',\n    loadChildren: () => import('./pages/logout/logout.module')\n      .then(m => m.LogoutPageModule)\n  },\n  {\n    path: 'home',\n    loadChildren: () => import('./pages/home/home.module')\n      .then(m => m.HomePageModule)\n  },\n  {\n    path: 'help',\n    loadChildren: () => import('./pages/help/help.module')\n      .then(m => m.HelpPageModule)\n  },\n  {\n    path: 'notification-list',\n    loadChildren: () => import('./pages/notification-list/notification-list.module')\n      .then(m => m.NotificationListPageModule)\n  },\n  {\n    path: 'suggestion-form',\n    loadChildren: () => import('./pages/suggestion-form/suggestion-form.module')\n      .then(m => m.SuggestionFormPageModule)\n  },\n  {\n    path: 'document-list',\n    loadChildren: () => import('./pages/maintenance/document-list/document-list.module')\n      .then(m => m.DocumentListPageModule)\n  },\n  {\n    path: 'document-form',\n    loadChildren: () => import('./pages/maintenance/document-form/document-form.module')\n      .then(m => m.DocumentFormPageModule)\n  },\n  {\n    path: 'profile',\n    loadChildren: () => import('./pages/profile/profile-tabs/profile-tabs.module')\n      .then(m => m.ProfileTabsPageModule)\n  },\n  {\n    path: 'delivery-order-map',\n    loadChildren: () => import('./pages/delivery-order-map/delivery-order-map.module')\n      .then(m => m.DeliveryOrderMapPageModule)\n  },\n  {\n    path: 'document-file-form',\n    loadChildren: () => import('./pages/maintenance/document-file-form/document-file-form.module')\n      .then(m => m.DocumentFileFormPageModule)\n  },\n  {\n    path: 'urban-distribution-detail',\n    loadChildren: () =>\n      import('./pages/urban-distributions/urban-distribution-detail/urban-distribution-detail.module')\n        .then(m => m.UrbanDistributionDetailPageModule)\n  },\n  {\n    path: 'urban-distribution-form',\n    loadChildren: () =>\n      import('./pages/urban-distributions/urban-distribution-form/urban-distribution-form.module')\n        .then(m => m.UrbanDistributionFormPageModule)\n  },\n  {\n    path: 'urban-distribution-list',\n    loadChildren: () =>\n      import('./pages/urban-distributions/urban-distribution-list/urban-distribution-list.module')\n        .then(m => m.UrbanDistributionListPageModule)\n  },\n  {\n    path: 'journey-list',\n    loadChildren: () => import('./pages/journeys/journey-list/journey-list.module')\n      .then(m => m.JourneyListPageModule)\n  },\n  {\n    path: 'journey-form',\n    loadChildren: () => import('./pages/journeys/journey-form/journey-form.module')\n      .then(m => m.JourneyFormPageModule)\n  },\n  {\n    path: 'journey-detail',\n    loadChildren: () => import('./pages/journeys/journey-detail/journey-detail.module')\n      .then(m => m.JourneyDetailPageModule)\n  },\n  // {\n  //   path: 'operation-control-form',\n  //   loadChildren: () => import('./pages/controls/operation-controls/operation-control-form/operation-control-form.module')\n  //     .then(m => m.OperationControlFormPageModule)\n  // },\n  // {\n  //   path: 'operation-control-list',\n  //   loadChildren: () => import('./pages/controls/operation-controls/operation-control-list/operation-control-list.module')\n  //     .then(m => m.OperationControlListPageModule)\n  // },\n  // {\n  //   path: 'fuel-control-list',\n  //   loadChildren: () => import('./pages/controls/fuel-controls/fuel-control-list/fuel-control-list.module')\n  //     .then(m => m.FuelControlListPageModule)\n  // },\n  // {\n  //   path: 'fuel-control-form',\n  //   loadChildren: () => import('./pages/controls/fuel-controls/fuel-control-form/fuel-control-form.module')\n  //     .then(m => m.FuelControlFormPageModule)\n  // },\n  {\n    path: 'reminder-list',\n    loadChildren: () => import('./pages/reminders/reminder-list/reminder-list.module')\n      .then(m => m.ReminderListPageModule)\n  },\n  {\n    path: 'reminder-form',\n    loadChildren: () => import('./pages/reminders/reminder-form/reminder-form.module')\n      .then(m => m.ReminderFormPageModule)\n  },\n  {\n    path: 'toll-control-list',\n    loadChildren: () => import('./pages/controls/toll-controls/toll-control-list/toll-control-list.module')\n      .then(m => m.TollControlListPageModule)\n  },\n  {\n    path: 'toll-control-form',\n    loadChildren: () => import('./pages/controls/toll-controls/toll-control-form/toll-control-form.module')\n      .then(m => m.TollControlFormPageModule)\n  },\n  {\n    path: 'profile-transport',\n    loadChildren: () => import('./pages/profile/profile-transport/profile-transport.module').then(m => m.ProfileTransportPageModule)\n  },\n  {\n    path: 'profile-payment',\n    loadChildren: () => import('./pages/profile/profile-payment/profile-payment.module').then(m => m.ProfilePaymentPageModule)\n  },\n  {\n    path: 'wallet-tabs',\n    loadChildren: () => import('./pages/wallet/wallet-tabs/wallet-tabs.module')\n      .then(m => m.WalletTabsPageModule)\n  },\n  {\n    path: 'control-tabs',\n    loadChildren: () => import('./pages/controls/control-tabs/control-tabs.module')\n      .then(m => m.ControlTabsPageModule)\n  },\n  {\n    path: 'wallet-withdrawal-request-form',\n    loadChildren: () => import('./pages/wallet/wallet-withdrawal-request-form/wallet-withdrawal-request-form.module')\n      .then(m => m.WalletWithdrawalRequestFormPageModule)\n  },\n  {\n    path: 'ranking',\n    loadChildren: () => import('./pages/ranking/ranking.module')\n      .then(m => m.RankingPageModule)\n  },\n  {\n    path: 'wallet-withdrawal-request-list',\n    loadChildren: () => import('./pages/wallet/wallet-withdrawal-request-list/wallet-withdrawal-request-list.module')\n      .then(m => m.WalletWithdrawalRequestListPageModule)\n  },\n  {\n    path: 'wallet-transaction-list',\n    loadChildren: () => import('./pages/wallet/wallet-transaction-list/wallet-transaction-list.module')\n      .then(m => m.WalletTransactionListPageModule)\n  },\n  {\n    path: 'profile-form',\n    loadChildren: () => import('./pages/profile/profile-form/profile-form.module').then( m => m.ProfileFormPageModule)\n  },\n  {\n    path: 'delivery-map/:type',\n    loadChildren: () => import('./pages/delivery-map/delivery-map.module').then( m => m.DeliveryMapPageModule)\n  },\n  {\n    path: 'all-orders-map',\n    loadChildren: () => import('./pages/all-orders-map/all-orders-map.module').then( m => m.AllOrdersMapPageModule)\n  },\n  {\n    path: 'register',\n    loadChildren: () => import('./pages/register/register.module').then( m => m.RegisterPageModule)\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, {preloadingStrategy: PreloadAllModules, relativeLinkResolution: 'legacy'})\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","import {Injectable} from '@angular/core';\nimport {Storage} from '@ionic/storage';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {StoredRequest} from '../../interfaces/StoredRequest';\nimport {HttpClient} from '@angular/common/http';\nimport {Order} from '../../interfaces/Order';\nimport {OrderOfflineManagerService} from '../v1/order-offline-manager.service';\nimport {environment} from '../../../environments/environment';\n\nconst STORAGE_REQ_KEY_ORDERS = 'distriapporders';\nconst STORAGE_REQ_KEY_REQS = 'distriappreqs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SyncRequestOrderService {\n  API_URL = environment.API_URL;\n  V1 = 'v1/app/';\n  private uploadedP$ = new BehaviorSubject<number>(0);\n  private completedSync$ = new BehaviorSubject<boolean>(false);\n\n  constructor(private storage: Storage,\n              private orderOfflineManagerService: OrderOfflineManagerService,\n              private httpClient: HttpClient) {\n  }\n\n  setUploadedP$(uploadedP) {\n    this.uploadedP$.next(uploadedP);\n  }\n\n  getUploadedP$(): Observable<number> {\n    return this.uploadedP$.asObservable();\n  }\n\n  setCompletedSync$(completedSync) {\n    this.completedSync$.next(completedSync);\n  }\n\n  getCompletedSync$(): Observable<boolean> {\n    return this.completedSync$.asObservable();\n  }\n\n  // is a fact that stored requests length > 0\n  async syncStoredOrdersRequests(storedRequests: StoredRequest[]) {\n    const processedRequestsIds = [];\n    let uploadedP = 0;\n    for (const storedRequest of storedRequests) {\n      await this.sendRequest(storedRequest).then(res => {\n        console.log('got res', res);\n        processedRequestsIds.push(storedRequest.id);\n        uploadedP = processedRequestsIds.length / storedRequests.length;\n        this.setUploadedP$(uploadedP);\n      }).catch(err => {\n        console.log(`ERROR: ${err}`, storedRequest.id + ': ' + storedRequest.attempts);\n        storedRequest.attempts = storedRequest.attempts + 1;\n      });\n    }\n\n    setTimeout(() => {\n      console.log('inside timeout...');\n      console.log('aqu debo eliminar los requests y las rdenes del localstorage');\n      console.log(storedRequests.length, processedRequestsIds.length);\n\n      console.log(processedRequestsIds);\n      console.log(storedRequests);\n      const filteredRequests = storedRequests.filter(sq =>\n        processedRequestsIds.indexOf(sq.id) <= -1);\n      console.log(`filtered requests...`, filteredRequests);\n\n      this.storage.set(STORAGE_REQ_KEY_REQS, filteredRequests)\n        .then(() => {\n          this.setCompletedSync$(true);\n        });\n    }, 3000);\n  }\n\n  sendRequest(storedRequest: StoredRequest): Promise<boolean> {\n    console.log(`attempting to send stored request: ${JSON.stringify(storedRequest)}`);\n    return new Promise((resolve, reject) => {\n      this.orderOfflineManagerService.getLocalOrderId(storedRequest.pUid)\n        .then((order: Order) => {\n          console.log('order', order);\n          if (storedRequest.type === 'request') {\n            console.log('Sending request to server: ', storedRequest);\n            // resolve(true);\n            // Math.floor(Math.random() * 90 + 10) < 50 ? resolve(true) : reject(true);\n            this.makeHttpClientRequest(storedRequest, order).then(res => {\n              console.log(res);\n              resolve(res);\n            }).catch(err => {\n              reject(err);\n            });\n          } else {\n            //   console.log('IS A FILEEEEE!!!!!');\n            //   // this.uploadFile(storedRequest, order).then(res => {\n            //   //   console.log(res);\n            //   //   resolve(res);\n            //   // }).catch(err => {\n            //   //   reject(err);\n            //   // });\n            //   resolve(true);\n          }\n        })\n        .catch(err => {\n          resolve(true);\n        });\n    });\n  }\n\n  makeHttpClientRequest(storedRequest: StoredRequest, order: Order): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const url = this.getUrl(storedRequest, order);\n      console.log('sending request to url: ', url);\n      this.httpClient.request(storedRequest.method, url, {body: storedRequest.body})\n        .subscribe((res: any) => {\n          if (res && res.order) {\n            this.orderOfflineManagerService.updateLocalOrderId(res.order.id, storedRequest.pUid)\n              .then(localOrder => {\n                console.log(localOrder);\n                resolve(res);\n              }).catch(err => {\n              reject(err);\n            });\n          } else {\n            resolve(res);\n          }\n        }, error => {\n          reject(error);\n        });\n    });\n  }\n\n  getUrl(storedRequest: StoredRequest, order: Order) {\n    console.log(storedRequest.action);\n    let url = '';\n    switch (storedRequest.action) {\n      case 'store':\n        url = `${this.API_URL}${this.V1}orders`;\n        break;\n      case 'store-location':\n        url = `${this.API_URL}${this.V1}locations`;\n        break;\n      case 'update':\n        url = `${this.API_URL}${this.V1}orders/${order.id}`;\n        break;\n      case 'delete':\n        url = `${this.API_URL}${this.V1}orders/${order.id}`;\n        break;\n      case 'delivered':\n        url = `${this.API_URL}${this.V1}orders/${order.id}/delivered-offline`;\n        break;\n      case 'not-delivered':\n        url = `${this.API_URL}${this.V1}orders/${order.id}/not-delivered`;\n        break;\n      case 'upload-file':\n        url = `${this.API_URL}${this.V1}delivery-images`;\n        break;\n    }\n    return url;\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}