{"version":3,"sources":["./src/app/services/v1/delivery.service.ts","./src/app/pages/delivery-order-map/delivery-order-map.module.ts","./src/app/pages/delivery-order-map/delivery-order-map.page.ts","./src/app/pages/delivery-order-map/delivery-order-map.page.html","./src/app/pages/delivery-order-map/delivery-order-map-routing.module.ts"],"names":[],"mappings":"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","file":"pages-delivery-order-map-delivery-order-map-module-es2015.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {Order} from '../../interfaces/Order';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeliveryService {\n  // type: this.type,\n  // orders: this.orders,\n  // currentOrder: this.currentOrder\n\n  orders = new BehaviorSubject<Order[]>([]);\n  currentOrder = new BehaviorSubject<Order>(null);\n\n  constructor() {\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DeliveryOrderMapPageRoutingModule } from './delivery-order-map-routing.module';\n\nimport { DeliveryOrderMapPage } from './delivery-order-map.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    DeliveryOrderMapPageRoutingModule\n  ],\n  declarations: [DeliveryOrderMapPage]\n})\nexport class DeliveryOrderMapPageModule {}\n","import {AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\nimport {OrderService} from '../../services/v1/order.service';\nimport {Order} from '../../interfaces/Order';\nimport {\n  Circle,\n  Environment,\n  GoogleMap,\n  GoogleMapOptions,\n  GoogleMaps,\n  GoogleMapsEvent,\n  HtmlInfoWindow,\n  ILatLng, LatLngBounds,\n  Marker\n} from '@ionic-native/google-maps';\nimport {ModalController} from '@ionic/angular';\nimport {Geolocation, Geoposition} from '@ionic-native/geolocation/ngx';\nimport {DeliveryService} from '../../services/v1/delivery.service';\n\n\n@Component({\n  selector: 'app-delivery-order-map',\n  templateUrl: './delivery-order-map.page.html',\n  styleUrls: ['./delivery-order-map.page.scss'],\n})\nexport class DeliveryOrderMapPage implements OnInit, AfterViewInit {\n\n  orders: Order[] = [];\n  currentOrder: Order;\n  selectedOrder: Order;\n  map: GoogleMap;\n  @ViewChild('deliveryOrderMarkersMap', {static: true}) mapElement: ElementRef;\n  watchLocationObservable: any;\n  driverMarker: google.maps.Marker;\n  markers: Marker[] = [];\n  radius = 250;\n  circle: Circle;\n  htmlInfoWindow = new HtmlInfoWindow();\n\n  constructor(private modalController: ModalController,\n              private geolocation: Geolocation,\n              private deliveryService: DeliveryService,\n              private orderService: OrderService) {\n\n  }\n\n  ngOnInit() {\n    console.log('delivery-order-map...!');\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.deliveryService.currentOrder.subscribe(currentOrder => {\n        if (currentOrder) {\n          this.currentOrder = currentOrder;\n          this.deliveryService.orders.subscribe(orders => {\n            if (orders.length > 0) {\n              this.orders = orders;\n              this.loadMap();\n            }\n          });\n        }\n      });\n    }, 2500);\n  }\n\n  ionViewWillLeave() {\n    if (this.watchLocationObservable) {\n      this.watchLocationObservable.unsubscribe();\n    }\n  }\n\n  watchLocation() {\n    this.watchLocationObservable = this.geolocation.watchPosition({enableHighAccuracy: true})\n      .subscribe((position: Geoposition) => {\n        console.log('got in modal ***__');\n        if (position && position.coords && position.coords.accuracy <= 50) {\n          const driverPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n          // const driverPosition = new google.maps.LatLng(-27.497737, -58.828180);\n          this.driverMarker.setPosition(driverPosition);\n          // this.map.setCenter(driverPosition);\n        } else {\n          alert('No se pudo obtener ubicación actual del conductor. Por favor habilite el GPS en su dispositivo móvil');\n        }\n      });\n  }\n\n  loadMap() {\n    Environment.setEnv({\n      API_KEY_FOR_BROWSER_RELEASE: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w',\n      API_KEY_FOR_BROWSER_DEBUG: 'AIzaSyCQ5AidfjBOg7VI2sgkbpnKHPBGAoLQ15w'\n    });\n\n    const mapOptions: GoogleMapOptions = {\n      camera: {\n        target: {\n          lat: +this.currentOrder.location.lat,\n          lng: +this.currentOrder.location.lng\n        },\n        zoom: 18,\n        tilt: 30\n      }\n    };\n\n    this.map = GoogleMaps.create('deliveryOrderMarkersMap', mapOptions);\n\n    const center: ILatLng = {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng};\n\n    this.map.moveCamera({\n      target: center\n    });\n\n    this.circle = this.map.addCircleSync({\n      center,\n      radius: this.radius,\n      strokeColor: 'rgba(250, 250, 250, 0.6)',\n      strokeWidth: 0,\n      fillColor: 'rgba(250, 250, 250, 0.6)',\n      visible: false\n    });\n    this.addCurrentOrderMarker();\n    // this.selectedOrder = this.currentOrder;\n    this.findNearbyMarkers();\n    // this.addMarkers();\n    // this.getCurrentDriverPosition();\n  }\n\n  addCurrentOrderMarker() {\n    const position: ILatLng = {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng};\n    this.map.addMarker({\n      icon: 'red',\n      animation: 'DROP',\n      position\n    }).then(marker => {\n      // this.markers.push(marker);\n      this.circle.setCenter(position);\n\n      marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n        this.selectedOrder = this.currentOrder;\n        this.htmlInfoWindow.close();\n        this.setInfoWindowContent(this.selectedOrder);\n        this.htmlInfoWindow.open(marker);\n      });\n    });\n  }\n\n  // initMap() {\n  //   setTimeout(() => {\n  //     const lat = +this.orders[0].location.lat;\n  //     const lng = +this.orders[0].location.lng;\n  //     const center = new google.maps.LatLng(lat, lng);\n  //     this.map = new google.maps.Map(this.mapElement.nativeElement, {\n  //       zoom: 12,\n  //       center\n  //     });\n  //     this.addMarkers();\n  //     this.getCurrentDriverPosition();\n  //   }, 1000);\n  // }\n\n  // addMarkers() {\n  //   let i = 1;\n  //   const colors = [\n  //     'yellow', 'green', 'blue'\n  //   ];\n  //   this.orders.map(order => {\n  //     const contentString = `<h4>${order.location.name}</h4><p>${order.location.full_address}</p>`;\n  //     const infoWindow = new google.maps.InfoWindow({\n  //       content: contentString\n  //     });\n  //\n  //     const random = Math.floor(Math.random() * 3) + 1;\n  //     let url = 'http://maps.google.com/mapfiles/ms/icons/';\n  //     url += colors[random - 1] + '-dot.png';\n  //\n  //     const marker = new google.maps.Marker({\n  //       position: new google.maps.LatLng(+order.location.lat, +order.location.lng),\n  //       map: this.map,\n  //       label: {\n  //         text: i.toString(),\n  //         color: 'black',\n  //         fontSize: '24px'\n  //       },\n  //       icon: {\n  //         url\n  //       }\n  //       // icon: order.status === 'delivered' ? 'assets/markers/location-delivered.png' : 'assets/markers/location.png'\n  //     });\n  //\n  //     marker.addListener('click', () => {\n  //       infoWindow.open(this.map, marker);\n  //     });\n  //\n  //     this.markers.push(marker);\n  //     i++;\n  //   });\n  // }\n\n  removeAllMarkers() {\n    this.markers.map(marker => {\n      marker.remove();\n    });\n    this.markers = [];\n  }\n\n  viewAllMarkers() {\n    this.removeAllMarkers();\n    this.circle.setVisible(false);\n    const anotherOrders = this.orders.filter(order =>\n      order.id !== this.currentOrder.id && order.status !== 'delivered');\n\n    const bounds: LatLngBounds = new LatLngBounds([\n      {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng}\n    ]);\n\n    anotherOrders.map(order => {\n      const position: ILatLng = {lat: +order.location.lat, lng: +order.location.lng};\n      bounds.extend(position);\n      this.map.addMarker({\n        icon: 'blue',\n        animation: 'DROP',\n        position\n      }).then(marker => {\n        this.markers.push(marker);\n        marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n          this.selectedOrder = order;\n          this.htmlInfoWindow.close();\n          this.setInfoWindowContent(order);\n          this.htmlInfoWindow.open(marker);\n        });\n      });\n    });\n\n\n    this.map.moveCamera({\n      target: bounds\n    });\n  }\n\n  showMarkersByNumber(min, max) {\n    // this.markers.map(marker => {\n    //   marker.setMap(null);\n    // });\n    // this.markers = [];\n    // const colors = [\n    //   'yellow', 'green', 'blue'\n    // ];\n    //\n    // for (let i = min - 1; i <= max - 1; i++) {\n    //   const order = this.orders[i];\n    //   if (order) {\n    //     const contentString = `<h4>${order.location.name}</h4><p>${order.location.full_address}</p>`;\n    //     const infoWindow = new google.maps.InfoWindow({\n    //       content: contentString\n    //     });\n    //\n    //     const random = Math.floor(Math.random() * 3) + 1;\n    //     let url = 'http://maps.google.com/mapfiles/ms/icons/';\n    //     url += colors[random - 1] + '-dot.png';\n    //\n    //     const marker = new google.maps.Marker({\n    //       position: new google.maps.LatLng(+order.location.lat, +order.location.lng),\n    //       map: this.map,\n    //       label: {\n    //         text: (i + 1).toString(),\n    //         color: 'black',\n    //         fontSize: '24px'\n    //       },\n    //       icon: {\n    //         url\n    //       }\n    //       // icon: order.status === 'delivered' ? 'assets/markers/location-delivered.png' : 'assets/markers/location.png'\n    //     });\n    //\n    //     marker.addListener('click', () => {\n    //       infoWindow.open(this.map, marker);\n    //     });\n    //\n    //     this.markers.push(marker);\n    //   }\n    // }\n  }\n\n  findNearbyMarkers() {\n    this.removeAllMarkers();\n    const anotherOrders = this.orders.filter(order =>\n      order.id !== this.currentOrder.id && order.status !== 'delivered');\n\n    const circle = new google.maps.Circle({\n      strokeColor: 'black',\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: 'blue',\n      fillOpacity: 0.35,\n      center: new google.maps.LatLng(+this.currentOrder.location.lat, +this.currentOrder.location.lng),\n      radius: this.radius\n    });\n\n    const ordersInRadius = anotherOrders.filter(order =>\n      google.maps.geometry.spherical.computeDistanceBetween(\n        new google.maps.LatLng(+order.location.lat, +order.location.lng),\n        circle.getCenter()) <= this.radius\n    );\n\n    const bounds: LatLngBounds = new LatLngBounds([\n      {lat: +this.currentOrder.location.lat, lng: +this.currentOrder.location.lng}\n    ]);\n\n    ordersInRadius.map(order => {\n      const position: ILatLng = {lat: +order.location.lat, lng: +order.location.lng};\n      bounds.extend(position);\n      this.map.addMarker({\n        icon: 'blue',\n        animation: 'DROP',\n        position\n      }).then(marker => {\n        this.markers.push(marker);\n        marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((m) => {\n          this.selectedOrder = order;\n          this.htmlInfoWindow.close();\n          this.setInfoWindowContent(order);\n          this.htmlInfoWindow.open(marker);\n        });\n      });\n    });\n    this.circle.setVisible(true);\n    this.map.moveCamera({\n      target: bounds\n    });\n  }\n\n  setInfoWindowContent(order: Order) {\n    const frame: HTMLElement = document.createElement('div');\n    // frame.className = 'map-info-window';\n    frame.innerHTML = [\n      `<h6 style=\"margin: 0; padding: 0\">${order.location.address}</h6>`,\n\n      `<p style=\"margin: 0; padding: 0\">${order.receiver}</p>`,\n\n      `<p style=\"margin: 0; padding: 0\">${order.description}</p>`,\n\n      '<span class=\"close-iw\" style=\"top: 5px; right: 5px; position: absolute\">' +\n      '&times' +\n      '</span>',\n    ].join('');\n    frame.getElementsByClassName('close-iw')[0].addEventListener('click', () => {\n      this.htmlInfoWindow.close();\n    });\n    this.htmlInfoWindow.setContent(frame, {\n      width: '200px',\n      // height: '330px'\n    });\n\n    frame.classList.add('map-info-window');\n  }\n\n  dismiss() {\n    this.modalController.dismiss();\n  }\n\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-button>\n      <ion-icon name=\"close\" slot=\"icon-only\"></ion-icon>\n    </ion-button>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div #deliveryOrderMarkersMap id=deliveryOrderMarkersMap>\n\n  </div>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar>\n    <ion-button color=\"primary\" size=\"full\" shape=\"round\" (click)=\"viewAllMarkers()\">\n      Ver todos los pendientes\n    </ion-button>\n    <ion-button color=\"primary\" size=\"full\" shape=\"round\" (click)=\"findNearbyMarkers()\">\n      Ver pendientes cercanos\n    </ion-button>\n  </ion-toolbar>\n</ion-footer>\n\n\n<!--<ion-grid>-->\n<!--  <ion-row>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(1, 10)\">1-10</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(11, 20)\">11-20</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(21, 30)\">21-30</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(31, 40)\">31-40</ion-button>-->\n<!--    </ion-col>-->\n<!--  </ion-row>-->\n\n<!--  <ion-row>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(41, 50)\">41-50</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(51, 60)\">51-60</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(61, 70)\">61-70</ion-button>-->\n<!--    </ion-col>-->\n<!--    <ion-col>-->\n<!--      <ion-button (click)=\"showMarkersByNumber(71, 80)\">71-80</ion-button>-->\n<!--    </ion-col>-->\n<!--  </ion-row>-->\n<!--</ion-grid>-->\n\n<!--<ion-button (click)=\"showMarkersByNumber(81, 90)\">81-90</ion-button>-->\n<!--<ion-button (click)=\"showMarkersByNumber(81, 90)\">todos</ion-button>-->\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DeliveryOrderMapPage } from './delivery-order-map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DeliveryOrderMapPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DeliveryOrderMapPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}